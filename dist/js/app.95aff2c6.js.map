{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/grid-fields.vue?1c3b","webpack:///./src/components/formulario.vue?7a4a","webpack:///./src/components/context-components/context-dialog.vue?b60c","webpack:///./src/components/circus.vue?7402","webpack:///./src/components/tool-bar.vue?efae","webpack:///./src/components/item-editor.vue?a7f3","webpack:///./src/components/tabs.vue?3ae7","webpack:///./src/components/containers.vue?0038","webpack:///./src/components/circus.vue?923a","webpack:///./src/actions.js","webpack:///./src/api.js","webpack:///./src/actions_global.js","webpack:///./src/components/context-list.vue?109d","webpack:///../simple-table/src/components/simple-table.vue?8046","webpack:///../simple-table/src/components/simple-table.vue","webpack:///../simple-table/src/components/simple-table.vue?38a3","webpack:///../simple-table/src/components/simple-table.vue?3769","webpack:///./src/components/query-editor.js","webpack:///src/components/context-list.vue","webpack:///./src/components/context-list.vue?f835","webpack:///./src/components/context-list.vue","webpack:///./src/components/tool-bar.vue?5f1d","webpack:///./src/components/layout.vue?8027","webpack:///src/components/layout.vue","webpack:///./src/components/layout.vue?903d","webpack:///./src/components/layout.vue","webpack:///src/components/tool-bar.vue","webpack:///./src/components/tool-bar.vue?d321","webpack:///./src/components/tool-bar.vue","webpack:///./src/components/containers.vue?88c1","webpack:///./src/components/ventana.vue?aead","webpack:///./src/components/formulario.vue?6121","webpack:///./src/components/grid-fields.vue?8535","webpack:///src/components/grid-fields.vue","webpack:///./src/components/grid-fields.vue?cdbd","webpack:///./src/components/grid-fields.vue","webpack:///src/components/formulario.vue","webpack:///./src/components/formulario.vue?ed4f","webpack:///./src/components/formulario.vue","webpack:///./src/components/listado.vue?a91b","webpack:///./src/components/item-editor.vue?e0f9","webpack:///./src/components/autosize-textarea.vue?5069","webpack:///src/components/autosize-textarea.vue","webpack:///./src/components/autosize-textarea.vue?3f4a","webpack:///./src/components/autosize-textarea.vue","webpack:///./src/components/tabs.vue?eac7","webpack:///src/components/tabs.vue","webpack:///./src/components/tabs.vue?7bcf","webpack:///./src/components/tabs.vue","webpack:///src/components/item-editor.vue","webpack:///./src/components/item-editor.vue?6a99","webpack:///./src/components/item-editor.vue","webpack:///./src/components/query-editor.vue?86d6","webpack:///src/components/query-editor.vue","webpack:///./src/components/query-editor.vue?1a6b","webpack:///./src/components/query-editor.vue","webpack:///./src/components/Series.vue?d063","webpack:///./src/components/field.vue?7ab6","webpack:///src/components/field.vue","webpack:///./src/components/field.vue?f969","webpack:///./src/components/field.vue","webpack:///src/components/Series.vue","webpack:///./src/components/Series.vue?7d4d","webpack:///./src/components/Series.vue","webpack:///./src/components/listado.js","webpack:///./src/components/listado.js?33dc","webpack:///./src/components/listado.vue","webpack:///src/components/ventana.vue","webpack:///./src/components/ventana.vue?3696","webpack:///./src/components/ventana.vue","webpack:///src/components/containers.vue","webpack:///./src/components/containers.vue?b7fd","webpack:///./src/components/containers.vue","webpack:///./src/components/context-menu.vue?2076","webpack:///src/components/context-menu.vue","webpack:///./src/components/context-menu.vue?825d","webpack:///./src/components/context-menu.vue","webpack:///./src/components/tree-menu.vue?9863","webpack:///src/components/tree-menu.vue","webpack:///./src/components/tree-menu.vue?b7d4","webpack:///./src/components/tree-menu.vue","webpack:///./src/components/context-components/context-dialog.vue?1549","webpack:///./src/components/context-components/context-field-edit-list.vue?3477","webpack:///src/components/context-components/context-field-edit-list.vue","webpack:///./src/components/context-components/context-field-edit-list.vue?0762","webpack:///./src/components/context-components/context-field-edit-list.vue","webpack:///./src/components/context-components/context-field-edit-key.vue?46bd","webpack:///src/components/context-components/context-field-edit-key.vue","webpack:///./src/components/context-components/context-field-edit-key.vue?8db3","webpack:///./src/components/context-components/context-field-edit-key.vue","webpack:///src/components/context-components/context-dialog.vue","webpack:///./src/components/context-components/context-dialog.vue?ae56","webpack:///./src/components/context-components/context-dialog.vue","webpack:///src/components/circus.vue","webpack:///./src/components/circus.vue?9f01","webpack:///./src/components/circus.vue","webpack:///./src/main.js","webpack:///./src/components/context-components/context-field-edit-list.vue?dcdb","webpack:///./src/components/listado.css?0b46","webpack:///./src/components/ventana.vue?957e","webpack:///./src/components/query-editor.vue?2378","webpack:///./src/components/context-menu.vue?6244","webpack:///./src/components/context-components/context-field-edit-key.vue?7a85"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","directives","rawName","sessionId","expression","staticClass","_v","ref","domProps","getLoginCookie","on","$event","login","contextDialog","components","componentProps","_s","helpText","_l","msg","show","area","style","containersFromArea","panels","panelSwitch","bottom","admin","display","height","formlist","class","queries","gridActions","queriesTableOnChange","queriesRowClick","staticRenderFns","setKey","state","path","_","set","actions","strict","mutations","set_listModelAlias","listModelName","database","listsModels","alias","setContainerType","index","type","console","log","containers","setVentana","Query_add","query","cb","sqlParams","operation","columns","schemaSyntax","language","values","customName","fecha","JSON","stringify","dbID","$dbq","Query_setKey","col","id","whereSyntax","Query_delete","database_setLiteral","literal","literales","Ventana_setVisibility","indexVentana","visible","ventanas","forEach","win","Ventana_clone","configVentana","cc","queryeditor","parameters","qeParams","Ventana_delete","Ventana_injectQE","ven","Ventana_setName","ventanaName","Ventana_setTable","tableName","table","ContextMenu_open","contextMenu","ContextMenu_clear","ContextMenu_formUpdate","item","ContextMenu_commit","cursor","newData","stateCursor","objeto","assign","checked_assign","ids","list","checkedIds","set_distinct","distinct","event","Date","toLocaleString","timeZone","unshift","set_databaseConfig","set_contextDialogProps","set_favoriteToField","fieldConfig","fieldsMap","field_full_name","favorite","set_tablesMap","tablesMap","getters","ventana","windowId","commit","action","title","branchs","keysSettings","toArray","Vue","use","Vuex","storedVuexStore","vuexStore","parsedSearch","queryString","parse","location","search","apiURL","api","services","connNameToDbName","$","ajax","url","method","async","success","respuesta","jsonRespuesta","keys","toLocaleLowerCase","error","store","circusConfig","reset","fileName","loadTree","treeModel","createStore","alert","localStorage","err","href","jsonString","obj","loadConfig","deleteConfig","vuexTree","localCircusConfig","tables","fieldsConfig","fields_config","fieldName","Store","subscribe","mutation","estado","resetApiStore","vuex","tablesFromConnection","connection","databaseMaps","setTablesMap","Map","tablesConfig","table_server","table_catalog","table_schema","table_name","table_alias","table_reference","fromEntries","setFieldsMap","events","endcache","Event","contador","getFieldsForTable","fields","identities","campo","size","dispatchEvent","getListColumnSql","qeParam","options","listType","sqlValueFromId","replace","newKey","val","txt","getListModel","listKey","getListModelFromOldModel","lists","listModel","getLiteral","computedFields","computedField","filter","cf","sql","indexOf","idArr","split","getCaseSensitiveTableName","tableConfig","$fieldsForTable","field","is_identity","map","column_name","table_pkname","csTableName","toLowerCase","getIdentitiesForTableSet","sp_circus_fields","sp_name","campos","$buttonsForTable","buttons_config","getTablesRelation","names","finalCampos","promises","execPromises","promiseNumber","promise","addFields","newCampos","evaluatedFields","then","getTableConnectionId","fields_computed","evaluateFields","listAlias","is_computed","form","group","table_config_keyname","table_full_name","aggregate_function","basic_data_type","data_type","text","number","date","Promise","resolve","reject","CHARACTER_MAXIMUM_LENGTH","label","setFieldListSettings","field_config","$$","getCI","sqlListGrid","valuesArray","databasename","connID","joinSyntax","relatedGroup","relatedTables","getRelatedTables","nextRelatedNames","relatedNames","concat","aliasIndex","involvedTablesNames","aliases","getNextAlias","excludeNames","remoteTableConfig","res","relatedTablesNames","remote_table_alias","joinTables","relatedTable","remoteField","localField","cleanTableName","joinType","join","local_table_reference","isTableRepeated","local_table_alias","tn","tnArr","cleanedName","getDirectParents","parentTables","getDirectSuns","childTablesNames","tName","tab","childTablesRes","saveTree","doPrompt","givenName","prompt","uuidV1","json","saveGlobalConfig","listFiles","folder","getTablesList","connections","promiseIndex","executePromise","connName","tablas","content","ele","params","request","encodeURIComponent","Error","circus","showHelpBox","keepDBConnAlive","downloadExcel","types","open","actions_global","tableKeyName","getVuexDatabaseState","CSpath","getCIpath","actualValue","set_listModelNameToField","left","right","top","maxheight","emptySearchString","contextListButton","blob","uncheckRow","updateContext","target","composing","searchString","rows","hiddenKeys","searchable","checkedRows","singlecheck","contextListRowClick","contextListCheckClick","contextListSearch","contextListKeyUp","leftVal","rightVal","_e","width","overflow","position","scrollHeaders","checkable","editedRows","allChecksClick","getOrder","headerClick","filterTable","row","rowIndex","rowSelected","selectedRowIndex","_rowIndex","rowChecked","_checked","onRowClick","tdClass","onCheckClick","editablekeys","editTable","resizeHeaders","button","func","props","watch","computed","methods","updated","component","queryEditor","paramArray","paramObject","param","_inlist","sqlSyntax","_active","vista","isInlineSelect","descripcion","getQueryByName","whereSql","listElements","matchListElements","valor","substring","stringMatch","operator","leftText","rightText","orderBy","order","_orderby","valid","recordset","v_json","whereText","keyList","searchedValue","matchedEles","parseHandy","spliters","txtSplit","parsedHandy","parseAble","val1","val2","spliter","handyToClassic","handy","hoyToGetdate","exp","re","matches","match","gde","increment","substr","interval","dateExp","v","isnumeric","isdate","sqlparaloquesea","vJson","undefined","literals","sqltxt","espacioraro","RegExp","String","fromCharCode","saltodelinea","sqlparanulo","red","matchesf","disabled","helpCode","onClick","itemClasses","_t","isContainer","flexbox","baseClassName","clases","container","containerType","toolbarButtons","boton","pestanaVentana","pestanaVentanaSelected","visibleVentanas","editWindowName","saveWindowName","stopPropagation","onClose","ventanasDelContainer","styleVentana","selectedIndex","isInlineContainer","onButtonClick","isInline","parentTablesWindows","injectParent","childTablesWindows","injectChild","tableChange","buttons2","fn","buttons","logout","formFilter","evaluatedVentana","evaluatedFieldsOfVentana","formFilterState","formSetValues","rowClick","verSoloFavoritos","showPath","checked","select","shownNumber","formState","editorData","positionContext","ventanaIndex","filterForGrid","showFields","formChange","clickLabel","focusField","updateShownNumber","addField","fieldsWithFilter","inFilter","editFieldName","saveFieldName","showFormulario","series","series_parameters","operate_serie","buttonsUser","buttonsVistas","open_serie","custom_button_click","onclick","image_src","grid","loadedRecsNumber","rowCount","qeParamUpdate","paramDelete","showAdvanced","extendParams","refInFor","getParam","editAlias","saveAlias","deleteParam","hidden","clickFunc","activateParam","fill","setNewOrder","negateParam","getParamSearchString","keyDownSearchField","focusSearchField","_extended","changeOperator","changeText","textKeyPress","checkedIndexes","checkClick","tabs","slot","shallowFields","elementStyle","labelClick","$$selectedVal","Array","selected","_value","$set","multiple","assignModel","listOptions","option","isArray","_i","$$a","$$el","$$c","$$v","$$i","tabsArr","buttonClick","selectedTab","emitParameters","editAliasName","valueParam","editParameter","openContext","editKeyName","_extendKey","_m","hide","clear","operate","keyParam","replaceValue","paramIndex","setState","internalValue","emitContent","closeContext","ItemEditor","SimpleTable","Queryeditor","Toolbar","Ly","Series","multiline","Boolean","Function","resetVentana","selected_pk_id","custom_buttons","loadPage","confirm","$store","$refs","qe","clearSimpleTable","downloadListAsFile","selectedQuery","actualQeParams","settings","orderby","tablesRelation","uniqueid","valueOf","toString","tableNames","utils","getSpDate","tipo","loadQueries","page","recXPag","selectSql","widths","oldVal","par","getBasicDataType","newPar","reference","newParams","unifyObjectKey","array","$nextTick","compute","mainTable","paramKey","qeColumns","pkName","beforeUpdate","mounted","computer","sortable","handle","start","stop","sortableStop","placeholder","revert","scroll","extendParam","newState","showForm","focus","innerHTML","actualRows","fila","newLine","eq","shortAlias","aliasArr","tagName","closest","$slot","attr","find","addClass","removeClass","popup","assigns","idField","updates","update","leftScroll","css","$cols","each","tabulator","jsonRecordset","$tabla","cellStyle","border","padding","firstRecord","$headRow","append","$cell","record","$row","wrap","parent","html","Blob","URL","createObjectURL","a","document","createElement","body","appendChild","download","click","containerResize","Tabla","that","componentName","componentLabel","checklist","customjs","getDocument","PK_ID","paramsToForm","qeHasChanged","hasChanged","qeSettings","changed","telon","toolbar","butSel","add","prop","working","colNames","column","cSplit","computedColumns","paramsComputedCols","results","keyCode","preventDefault","$field","descriptedSelect","alterSearchString","qep","remove","contextList","str","ui","$lis","$emit","loadList","qeSyntax","whereListado","recnum","orderbyStr","offset","orderbyColumns","pageSize","loadConfigFile","deleteConfigFile","close","node0","node1","showComponent","shownComponentIndex","tag","rowEdit","oninput","bus","config","productionTip","render","h","Circus","$mount","setInterval"],"mappings":"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","file":"js/app.95aff2c6.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./grid-fields.vue?vue&type=style&index=0&id=48de9c34&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./grid-fields.vue?vue&type=style&index=0&id=48de9c34&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./formulario.vue?vue&type=style&index=0&id=598a9c74&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./formulario.vue?vue&type=style&index=0&id=598a9c74&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./context-dialog.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./context-dialog.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./circus.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./circus.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tool-bar.vue?vue&type=style&index=0&id=4919e585&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tool-bar.vue?vue&type=style&index=0&id=4919e585&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./item-editor.vue?vue&type=style&index=0&id=18981f6d&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./item-editor.vue?vue&type=style&index=0&id=18981f6d&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tabs.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tabs.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./containers.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./containers.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"overflow\":\"hidden\",\"background\":\"transparent\"},attrs:{\"id\":\"circus\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.sessionId),expression:\"!sessionId\"}],staticClass:\"login-container\"},[_c('div',{staticClass:\"login-form\"},[_c('h1',[_vm._v(\"CIRCUS - Login\")]),_c('form',{attrs:{\"onsubmit\":\"return false\"}},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Usuaurio\")]),_c('input',{ref:\"controlUsuario\",staticClass:\"form-control\",domProps:{\"value\":_vm.getLoginCookie('usr')}})]),_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Contraseña\")]),_c('input',{ref:\"controlContrasena\",staticClass:\"form-control\",attrs:{\"type\":\"password\"},domProps:{\"value\":_vm.getLoginCookie('pass')}})]),_c('div',{staticClass:\"form-group\"},[_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":function($event){return _vm.login()}}},[_vm._v(\"Login\")])])])])]),_c('contextDialog',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.contextDialog.show),expression:\"contextDialog.show\"}],attrs:{\"components\":_vm.contextDialog.components,\"componentProps\":_vm.contextDialog.componentProps}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showHelpState),expression:\"showHelpState\"}],staticClass:\"panel-envelope\",staticStyle:{\"height\":\"auto\",\"width\":\"auto\",\"background\":\"transparent\",\"font-weight\":\"500\",\"font-size\":\"11px\",\"position\":\"absolute\",\"bottom\":\"0\",\"z-index\":\"100\",\"align-self\":\"flex-end\"}},[_c('div',{ref:\"helpCuadrant\",staticStyle:{\"height\":\"50%\",\"width\":\"100%\",\"background\":\"white\"},domProps:{\"innerHTML\":_vm._s(_vm.helpText)}}),_c('div',{staticClass:\"custom-title\",staticStyle:{\"position\":\"absolute\",\"width\":\"176px\",\"margin-top\":\"-20px\",\"display\":\"none\"}},[_vm._v(\"LOG\")]),_c('div',{ref:\"logCuadrant\",staticStyle:{\"height\":\"50%\",\"width\":\"100%\",\"overflow-y\":\"auto\",\"overflow-x\":\"none\",\"display\":\"none\"}},_vm._l((_vm.logText),function(msg){return _c('div',{staticStyle:{\"margin-bottom\":\"7px\"},domProps:{\"innerHTML\":_vm._s(msg)}})}),0)]),_c('ly',{staticStyle:{\"position\":\"relative\"},attrs:{\"flexbox\":\"1\",\"column\":\"1\",\"height\":\"1\"}},[_c('ly',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show.formlist),expression:\"show.formlist\"}],ref:\"contents\",staticStyle:{\"height\":\"70%\",\"position\":\"relative\",\"z-index\":\"10\",\"border\":\"0px solid red\"},attrs:{\"width\":\"1\",\"grow\":\"1\",\"id\":\"containers\"}},[_c('ly',{attrs:{\"flexbox\":\"1\",\"height\":\"1\"}},[_c('ly',{attrs:{\"grow\":\"1\",\"height\":\"1\"}},[_c('ly',{attrs:{\"flexbox\":\"1\",\"column\":\"1\",\"height\":\"1\"}},_vm._l((_vm.visibleAreas),function(area){return _c('ly',{style:(_vm.areaHeight),attrs:{\"grow\":\"1\"}},[_c('Containers',{attrs:{\"containers\":_vm.containersFromArea(area),\"panels\":_vm.panels},on:{\"panelSwitch\":_vm.panelSwitch}})],1)}),1)],1)],1)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.panels.bottom&&_vm.admin),expression:\"panels.bottom&&admin\"}],style:({display:'flex',height:(_vm.show.formlist?'30%':'100%')})},[_c('div',{staticClass:\"panel-envelope\",staticStyle:{\"flex-grow\":\"1\",\"height\":\"100%\",\"border\":\"0px solid red\",\"max-height\":\"calc(100% - 0px)\",\"position\":\"relative\",\"min-width\":\"100%\"},attrs:{\"id\":\"queriesList\"}},[_c('button',{staticStyle:{\"position\":\"absolute\",\"top\":\"15px\",\"right\":\"15px\",\"padding\":\"3px\",\"z-index\":\"1\"},on:{\"click\":function($event){_vm.show.formlist=!_vm.show.formlist}}},[_c('div',{class:{'arrow-up':_vm.show.formlist,'arrow-down':!_vm.show.formlist}})]),_c('SimpleTable',{staticStyle:{\"border\":\"1px solid gray\",\"border-width\":\"0px 0\",\"padding\":\"5px\"},attrs:{\"nowrap\":false,\"searchable\":true,\"editablekeys\":['Nombre'],\"hiddenKeys\":['id'],\"rows\":_vm.queries,\"actions\":_vm.gridActions,\"cellMaxHeight\":\"40px\"},on:{\"rowEdit\":_vm.queriesTableOnChange,\"rowClick\":_vm.queriesRowClick}})],1)])],1),_c('ContextList')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import {$dbq} from './api.js'\r\nfunction setKey ( state , {path ,value }) {\r\n    if ( value )\r\n        _.set ( state , path, value )\r\n    else\r\n        _.set ( state , path, false )\r\n    //_.unset ( state , path )\r\n}\r\nconst actions = {\r\n    strict: false,\r\n    mutations: {\r\n        setKey ( state, {path ,value } ) {\r\n            setKey ( state, {path ,value } )\r\n            return\r\n            var statePos = state\r\n            path.forEach ( (p,i) => {\r\n                if ( i < path.length - 1 ) {\r\n                    statePos = statePos[p]\r\n                } else {\r\n                    if ( val )\r\n                        statePos[p] = val\r\n                    else\r\n                        delete statePos[p];\r\n                }\r\n            })\r\n        }\r\n        , set_listModelAlias ( state , { listModelName, value } ) { state.database.listsModels[listModelName].alias = value }\r\n        , setContainerType ( state, {index,type} ) {\r\n            console.log({index,type})\r\n            state.containers[index].type = type\r\n            //return actions.getters.ventana(index)\r\n        },\r\n        setVentana ( state , {index,data} ) {\r\n            console.log(index)\r\n            //state.ventanas.data[index] = data\r\n        },\r\n        Query_add ( state, {query,cb} ) {\r\n            //console.log(JSON.cc({rowIndex,key,value}))\r\n            //state.queries.push ( query )\r\n            const sqlParams = {\r\n                operation: \"insert\"\r\n                , columns: [\"v_nombre\",\"v_identificador\",\"v_fecha\",\"v_json\"]\r\n                , schemaSyntax: \"views\"\r\n                , language: \"spanish\"\r\n                , values: [query.customName,query.name,query.fecha,JSON.stringify(query)]\r\n                , dbID: \"circus\"\r\n            }\r\n            $dbq (sqlParams,cb)\r\n        },\r\n        Query_setKey ( state, {id,key,value} ) {\r\n            let col\r\n            switch ( key ) {\r\n                case 'customName':\r\n                    col = 'v_nombre'\r\n                    break\r\n            }\r\n            const sqlParams = {\r\n                operation: \"update\"\r\n                , columns: [col]\r\n                , schemaSyntax: \"circus.dbo.views\"\r\n                , language: \"spanish\"\r\n                , values: [value]\r\n                , whereSyntax: \"v_id=\"+id\r\n            }\r\n            $dbq (sqlParams)\r\n        },\r\n        Query_delete ( state, id ) {\r\n            const sqlParams = {\r\n                operation: \"delete\"\r\n                , schemaSyntax: \"circus.dbo.views\"\r\n                , language: \"spanish\"\r\n                , whereSyntax: \"v_id=\"+id\r\n            }\r\n            console.log(sqlParams)\r\n            $dbq (sqlParams)\r\n        },\r\n        database_setLiteral ( state, {key, literal} ) {\r\n            state.database.literales[key] = literal\r\n        },\r\n        Ventana_setVisibility ( state, {indexVentana,visible} ) {\r\n            state.ventanas.data.forEach ( win => win.visible = false )\r\n            state.ventanas.data[indexVentana].visible = visible\r\n        },\r\n        Ventana_clone ( state, {index} ) {\r\n            const configVentana = JSON.cc(state.ventanas.data[index])\r\n            configVentana.queryeditor.parameters = []\r\n            configVentana.name = \"[NUEVA]\"\r\n            state.ventanas.data.push ( configVentana )\r\n            state.qeParams.push ( [] )\r\n            //state.ventanas.data.push ( JSON.cc(state.ventanas.data[index]).queryeditor.parameters = [] )\r\n        },\r\n        Ventana_delete ( state, {index} ) {\r\n            state.ventanas.data.splice ( index , 1 )\r\n            state.qeParams.splice ( index , 1 )\r\n        },\r\n        Ventana_injectQE ( state, {indexVentana,qeParams} ) {\r\n            //console.log('injectedParams')\r\n            //console.log(JSON.cc(qeParams))\r\n            //state.ventanas.data[indexVentana].queryeditor.parameters = qeParams\r\n            if ( ! state.qeParams || ! state.qeParams.length ) {\r\n                state.qeParams = []\r\n                state.ventanas.data.forEach ( ven => {\r\n                    state.qeParams.push ( [] )\r\n                })\r\n            }\r\n            state.qeParams[indexVentana] = qeParams\r\n            state.qeParams = JSON.cc(state.qeParams)\r\n            //state.ventanas.data[indexVentana].queryeditor.parameters.unshift ( qeParams[0] )\r\n            //console.log(JSON.cc(state.ventanas.data[indexVentana].queryeditor.parameters))\r\n        },\r\n        Ventana_setName ( state, {indexVentana,ventanaName} ) {\r\n            state.ventanas.data[indexVentana].name = ventanaName\r\n        },\r\n        Ventana_setTable ( state, {indexVentana,tableName} ) {\r\n            state.ventanas.data[indexVentana].table = tableName\r\n        },\r\n/*\r\n        Ventana_setFields ( state , {indexVentana, fields, identities} ) {\r\n            state.ventanas.data[indexVentana].identities = identities\r\n            state.ventanas.data[indexVentana].fields = fields\r\n        },\r\n*/\r\n        ContextMenu_open ( state, data ) {\r\n            //console.log(data)\r\n            state.contextMenu = JSON.cc(data)\r\n            //state.contextMenu.cursor[2] = 4\r\n        },\r\n        ContextMenu_clear ( state ) {\r\n            //console.log(data)\r\n            state.contextMenu = {}\r\n            //state.contextMenu.cursor[2] = 4\r\n        },\r\n        ContextMenu_formUpdate ( state, item ) {\r\n            //console.log({campos,cursor})\r\n            state.contextMenu.item = item\r\n            //state.contextMenu.cursor[2] = 4\r\n        },\r\n        ContextMenu_commit ( state ) {\r\n            const cursor = state.contextMenu.cursor\r\n            , newData = state.contextMenu.item\r\n            var stateCursor = new objeto(state).get(cursor)\r\n            log(newData)\r\n            Object.assign ( stateCursor , newData )\r\n\r\n        },\r\n        checked_assign ( state, {indexVentana,ids} ) {\r\n            state.ventanas.data[indexVentana].list.checkedIds = ids\r\n            //if ( ! state.ventanas.data[indexVentana].list.checkedIds ) state.ventanas.data[indexVentana].list.checkedIds = []\r\n            //state.ventanas.data[indexVentana].list.checkedIds.push ( ids )\r\n        },\r\n        set_distinct ( state, {indexVentana,value} ) {\r\n            state.ventanas.data[indexVentana].queryeditor.distinct = value\r\n            //Object.assign ( state.ventanas.data[indexVentana].queryeditor , { distinct : value } )\r\n            console.log(state.ventanas.data[indexVentana].queryeditor)\r\n            //if ( ! state.ventanas.data[indexVentana].list.checkedIds ) state.ventanas.data[indexVentana].list.checkedIds = []\r\n            //state.ventanas.data[indexVentana].list.checkedIds.push ( ids )\r\n        },\r\n        log ( state, msg ) {\r\n            if ( ! state.log ) state.log = []\r\n            var event = new Date()\r\n            // British English uses day-month-year order and 24-hour time without AM/PM\r\n            , fecha = event.toLocaleString('en-GB', { timeZone: 'UTC' })\r\n            state.log.unshift ( fecha + '<br>' + msg ) \r\n        },\r\n        set_databaseConfig ( state, {path, value} ) {\r\n            path =  `database.${path}` //LO QUE VA LA DB LLEVA EL PATH COMO CADENA DE TEXTO SEPARADA POR PUNTOS PORQUE ES MÁS FÁCIL DE ENVIAR A NODE QUE UN ARRAY QUE LUEGO HAY QUE PARSEAR.\r\n            //debugger\r\n            setKey ( state , { path , value })\r\n            state.database.literales = JSON.cc ( state.database.literales )\r\n        },\r\n        set_contextDialogProps ( state, value ) {\r\n            const path = ['contextDialog','props']\r\n            setKey ( state , { path, value } )\r\n        },\r\n        set_favoriteToField ( state, fieldConfig ) {\r\n            state.fieldsMap[fieldConfig.field_full_name].favorite = state.fieldsMap[fieldConfig.field_full_name].favorite ? 0 : 1\r\n            return\r\n            //debugger\r\n            const fieldsMap = JSON.cc(state.fieldsMap)\r\n            fieldsMap[fieldConfig.field_full_name].favorite = fieldsMap[fieldConfig.field_full_name].favorite ? 0 : 1\r\n            state.fieldsMap = fieldsMap\r\n        },\r\n        set_tablesMap ( state, tablesMap ) {\r\n            state.tablesMap = JSON.cc(state.tablesMap)\r\n        }\r\n    },\r\n    getters: {\r\n        ventanas: ( state ) => state.ventanas.data,\r\n        ventana: (state, getters) => (id) => {\r\n          return getters.ventanas[id]\r\n        },\r\n        qeParams: (state, getters) => (windowId) => {\r\n          return state.qeParams[windowId]\r\n        }\r\n        \r\n    },\r\n    actions: {\r\n        setVentana: ({getters,commit},id) => {\r\n          \r\n            //commit( 'write' , { cursor: getters.ventana(id) , data: \"juan\" } )\r\n            commit( 'setVentana' , { index: id , data: \"juan\" } )\r\n        },\r\n        \"context-menu\": ( {commit,state}, {action,item,cursor,title,branchs,keysSettings} ) => {\r\n            switch ( action ) {\r\n                case 'open':\r\n                    //console.log(data)\r\n                    var campos = new objeto(item).toArray()\r\n                    const data = {item,cursor,title,branchs,keysSettings}\r\n                    //console.log(data)\r\n                    commit ( 'ContextMenu_open', data )\r\n                    break;\r\n                case 'formChange':\r\n                     //log(item)\r\n                     //var campos = data\r\n                     commit ( 'ContextMenu_formUpdate', item )\r\n                     break;\r\n                case 'save':\r\n                     commit ( 'ContextMenu_commit' )\r\n                     break;\r\n                case 'clear':\r\n                     commit ( 'ContextMenu_clear' )\r\n                     break;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport default actions","import uuidV1 from 'uuid/v1'\r\nimport Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport actions from './actions.js'\r\nVue.use(Vuex) \r\nimport queryString from 'query-string';\r\nimport { _ } from 'core-js'\r\nconst parsedSearch = queryString.parse(location.search)\r\n, apiURL = \tparsedSearch.api\r\n, connectionsModel = {};\r\nvar storedVuexStore, vuexStore\r\nexport {vuexStore, parsedSearch, apiURL}\r\n\r\nlet services = {connNameToDbName:{}}\r\n$.ajax({\r\n\turl: apiURL + 'services',\r\n  \tdata: '',\r\n  \tmethod: \"POST\",\r\n  \tasync: false,\r\n\tsuccess: (respuesta) => {\r\n\t\tconst jsonRespuesta = JSON.parse(JSON.parse(respuesta))\r\n\t\t, connNameToDbName = {}\r\n\t\tObject.keys ( jsonRespuesta ).forEach ( key => {\r\n\t\t\tconnNameToDbName[key.toLocaleLowerCase()] = jsonRespuesta[key]\r\n\t\t})\r\n\t\tObject.assign ( services.connNameToDbName, connNameToDbName )\r\n\t},\r\n\terror: (respuesta) => {\r\n\t\tconsole.log('error en services json')\r\n  \t}\r\n});\r\nlet circusConfig = \"\"\r\n$.ajax({\r\n\turl: apiURL + 'circusConfig',\r\n  \tdata: '',\r\n  \tmethod: \"POST\",\r\n  \tasync: false,\r\n\tsuccess: (respuesta) => {\r\n\t\tcircusConfig = JSON.parse(JSON.parse(respuesta))\r\n\t},\r\n\terror: (respuesta) => {\r\n\t\tconsole.log('error en circusConfig json')\r\n  \t}\r\n});\r\n\r\n\r\nif ( parsedSearch.reset ) {\r\n\tvar fileName\r\n\tif ( parsedSearch.reset == 1 ) \r\n\t\tfileName = 'circus.json'\r\n\telse\r\n\t\tfileName = parsedSearch.reset\r\n\tloadTree( treeModel=>{\r\n\t\t\tcreateStore(treeModel);\r\n\t\t\t//console.log('Model loaded from ' + fileName );\r\n\t\t\talert(\"Se ha importado la configuración del archivo '\" + fileName + \"' a su Configuración Local.\")\r\n\t\t\tlocation = './?api=' + apiURL + '&admin=1'\r\n\t}, fileName )\r\n} else {\r\n\ttry {\r\n\t\tstoredVuexStore = JSON.parse(localStorage[\"vuexStore\"]);\r\n\t}\r\n\tcatch(err) {\r\n\t\talert('No se ha encontrado Cookie de configuración local.\\n\\nCargando configuración del servidor...');\r\n\t\tlocation = window.location.href + \"&reset=1\"\r\n\t}\t\r\n\tcreateStore(storedVuexStore)\r\n}\r\nexport \tfunction loadTree ( cb, fileName ) {\r\n\t//var fileName = fileName ? fileName : 'circus.json'\r\n\t$.ajax({\r\n\t\t  url: parsedSearch.api + 'readFile',\r\n\t\tdata: { fileName },\r\n\t\tmethod: \"POST\",\r\n\t\tasync: false,\r\n\t\t  success: (jsonString) => {\r\n\t\t\t  const obj = JSON.parse(jsonString)\r\n\t\t\tcb(obj)\r\n\t\t}\r\n\t});\r\n}\r\nexport function loadConfig ( fileName ) {\r\n\tlocation = './?api=' + apiURL + '&dev=1&admin=1&reset=' + fileName\r\n}\r\nexport function deleteConfig ( fileName, cb ) {\r\n\t$.ajax({\r\n\t\turl: parsedSearch.api + 'deleteFile',\r\n\t  data: { fileName },\r\n\t  method: \"POST\",\r\n\t  async: false,\r\n\t\tsuccess: (jsonString) => {\r\n\t\t  cb(jsonString)\r\n\t  }\r\n    });\r\n}\r\nfunction createStore (storedVuexStore) {\r\n\tconst vuexTree = {\r\n\t\tstate: {\r\n\t\t\t...storedVuexStore\r\n\t\t} ,\r\n\t\t...actions\r\n\t}\r\n\tconst localCircusConfig = vuexTree.state.database\r\n\tvuexTree.state.database = circusConfig // Asigno la configuración de la aplicación al archivo de configuración global.\r\n\r\n\t//Recupero el valor de \"favorito\" de la configuración local para manejarlo como un config del archivo de configuración individual y no como config general de la base de datos.\r\n\tObject.keys ( localCircusConfig.tables ).forEach ( tableName => {\r\n\t\tconst table = localCircusConfig.tables[tableName]\r\n\t\tif ( !table ) return\r\n\t\tconst fieldsConfig = table.fields_config\r\n\t\tif ( fieldsConfig ) {\r\n\t\t\tObject.keys ( fieldsConfig ).forEach ( fieldName => {\r\n\t\t\t\tconst fieldConfig = fieldsConfig[fieldName]\r\n\t\t\t\tconst favorite = fieldConfig.favorite\r\n\t\t\t\tif ( vuexTree.state.database.tables[tableName] )\r\n\t\t\t\t\tif ( vuexTree.state.database.tables[tableName].fields_config && vuexTree.state.database.tables[tableName].fields_config[fieldName] )\r\n\t\t\t\t\t\tvuexTree.state.database.tables[tableName].fields_config[fieldName].favorite = favorite   \r\n\t\t\t})\r\n\t\t}\r\n\t})\r\n\r\n\t\r\n\t//Object.assign ( vuexTree.state.database , circusConfig )\r\n\tvuexStore = new Vuex.Store(vuexTree)\r\n\tlocalStorage[\"vuexStore\"] = JSON.stringify(vuexTree.state)\r\n\r\n\tvuexStore.subscribe((mutation, state) => {\r\n\t\tconst estado = {...state}\r\n\t\tlocalStorage[\"vuexStore\"] = JSON.stringify(estado)\r\n\t\tresetApiStore()\r\n\t\t//setDatabaseMaps()\r\n\t\tconsole.log('Commit to Vuex.')\r\n\t\t//saveConfigFile ()\r\n\t\t//saveCircusConfig()\r\n\t\twindow.vuex = JSON.cc ( estado ) \r\n\t})\r\n}\r\nfunction saveConfigFile () {\r\n\tlet fileName = parsedSearch.reset\r\n\tif ( !fileName ) fileName = 'circus.json'\r\n\t$.ajax({\r\n\t\turl: apiURL + 'writeFile',\r\n\t\tdata: { json: localStorage[\"vuexStore\"], fileName },\r\n\t\tmethod: \"POST\",\r\n\t\t//async: false,\r\n\t\tsuccess: (storedVuexStore) => {\r\n\t\t\tconsole.log('Guardado ' + fileName )\r\n\t\t},\r\n\t\terror: (respuesta) => {\r\n\t\t\tconsole.log('error ajax saveConfigFile')\r\n\t\t}\r\n\t});\r\n}\r\n//alterTree()\r\nfunction alterTree () {\r\n\tlet tree = JSON.stringify({...vuexStore.state})\r\n\tdelete vuexStore.state.ventanas.data[2] //.table = \"hunter_personas\"\r\n\tlocalStorage[\"vuexStore\"] = JSON.stringify({...vuexStore.state})\r\n\tsaveTree(\"circus.json\")\r\n}\r\n\r\nlet store //= JSON.parse(localStorage[\"vuexStore\"])//vuexStore.state\r\nresetApiStore()\r\n\r\nfunction resetApiStore () {\r\n\tstore = JSON.parse(localStorage[\"vuexStore\"])\r\n}\r\n\r\n\r\n\r\n\r\n//----------------------------------------------------------------------------------------------------------\r\nexport function tablesFromConnection ( connection ) {\r\n\treturn [['clientes','clientes'],['polizas','polizas',],['recibos','recibos'],['colaboradores','colaboradores']]\r\n}\r\nexport const databaseMaps = {\r\n\tsetTablesMap () {\r\n\t\t//const existingTablesMap = window.tablesMap\r\n\t\tconst tablesMap = window.tablesMap ? window.tablesMap : new Map()\r\n\t\t, tablesConfig = store.database.tables\r\n\t\tObject.keys(tablesConfig).forEach ( ( key, i ) => {\r\n\t\t\tconst table = tablesConfig[key]\r\n\t\t\t, connection = table.connection\r\n\t\t\t, table_server = table.table_server\r\n\t\t\t, table_catalog = table.table_catalog\r\n\t\t\t, table_schema = table.table_schema ? table.table_schema : 'dbo'\r\n\t\t\t, table_name = table.table_name\r\n\t\t\t, table_alias = table.table_alias\r\n\t\t\tif ( connection && table_catalog && table_name && table_alias ) {\r\n\t\t\t\ttable.table_reference = `[${table_catalog}].[${table_schema}].[${table_name}]` \r\n\t\t\t\ttable.table_schema = table_schema\r\n\t\t\t\tif ( table_server ) table.table_reference =  `[${table_server}].` + table.table_reference\r\n\t\t\t\ttablesMap.set ( key, Object.assign ( tablesMap.get ( key ) ? tablesMap.get ( key ) : {} , table ) )\r\n\t\t\t}\r\n\t\t})\r\n\t\twindow.tablesMap = tablesMap\r\n\t\tvuexStore.state.tablesMap = Object.fromEntries(tablesMap)\r\n\t},\r\n\tsetFieldsMap () {\r\n\t\twindow.fieldsMap = {}\r\n\t\twindow.events = {}\r\n\t\twindow.events.endcache = new Event ( \"endcache\" )\r\n\t\tlet contador = 0\r\n\t\tif ( ! vuexStore.state.fieldsMap ) vuexStore.state.fieldsMap = {}\r\n\t\tfor ( const [key,table] of window.tablesMap ) {\r\n\t\t\tgetFieldsForTable ( key, ( { fields,identities } ) => {\r\n\t\t\t\tfields.forEach ( campo => {\r\n\t\t\t\t\tcampo.favorite = vuexStore.state.fieldsMap[campo.field_full_name] ? vuexStore.state.fieldsMap[campo.field_full_name].favorite : 0\r\n\t\t\t\t\twindow.fieldsMap[campo.field_full_name] = campo\r\n\t\t\t\t})\r\n\t\t\t\tObject.assign ( vuexStore.state.fieldsMap, window.fieldsMap )\r\n\t\t\t\tcontador++\r\n\t\t\t\tif ( contador == window.tablesMap.size ) window.dispatchEvent(window.events.endcache);\r\n\t\t\t})\r\n\t\t\t//console.log(table)\r\n\t\t}\r\n\t}\r\n}\r\ndatabaseMaps.setTablesMap()\r\ndatabaseMaps.setFieldsMap()\r\n\r\n/*\r\nexport function getListColumnSql ( key, options ) {\r\n\tconst list = getListModel(key)\r\n\tif ( !list ) return key\r\n*/\r\nexport function getListColumnSql ( qeParam, options ) {\r\n\tlet { list, field_full_name, listType } = qeParam\r\n\tif ( !list ) return field_full_name\r\n\tif ( listType == \"dynamic\" ) { // Lista dinámica\r\n        const sqlValueFromId = list.sqlValueFromId.replace ( \"{{id}}\", field_full_name )\r\n        const newKey = `(${sqlValueFromId})`\r\n\t\treturn newKey\r\n    } else { // Es Array. Lista estática\r\n\t\tif ( !options ) {\r\n\t\t\tlet newKey = `(case ${field_full_name}`\r\n\t\t\tif ( !list.forEach ) return field_full_name\r\n        \tlist.forEach ( item => {\r\n        \t    const val = item[0]\r\n        \t    , txt = item[1]\r\n        \t    newKey += ` when ${val} then '${txt}' `\r\n        \t})\r\n        \tnewKey += `end)`\r\n\t\t\treturn newKey\r\n\t\t} else {\r\n\t\t\treturn field_full_name\r\n\t\t}\r\n    } \r\n}\r\nexport function getListModel ( listKey ) {\r\n//\tif ( typeof listkey != \"object\" ) \r\n\t\treturn getListModelFromOldModel ( listKey ) // compatibilidad con el modelo antiguo\r\n\tconst table_config_keyname = listKey.table_config_keyname\r\n\t, tableConfig = window.tablesMap.get ( table_config_keyname )\r\n\t, field_name = listKey.column_name\r\n\t, field_list_model = _.get(tableConfig, `fields_config.${field_name}.listModel`)\r\n\tif ( field_list_model ) {\r\n\t\treturn field_list_model\r\n\t}\r\n\treturn false\r\n}\r\nfunction getListModelFromOldModel ( listKey ) {\r\n\tconst listsModels = store.database.listsModels\r\n    , lists = store.database.lists\r\n    , listModelName = lists[listKey]\r\n\t, listModel = JSON.cc(listsModels[listModelName])\r\n\treturn listModel\r\n}\r\nexport function getLiteral ( id ) {\r\n\tconst literales = store.database.literales\r\n\tif ( literales[id] ) return literales[id]\r\n\tconst computedFields = store.database.computedFields\r\n\t, computedField = computedFields.filter ( cf => cf.sql.indexOf(id) != -1 )\r\n\tif ( computedField.length ) return computedField[0].literal\r\n\tconst idArr = id.split(\".\")\r\n\treturn idArr[idArr.length-1]\r\n\t//return id\r\n}\r\n\r\nexport function getFieldsForTable ( table, cb ) {\r\n\ttable = getCaseSensitiveTableName ( table )\r\n\tconst tableConfig = window.tablesMap.get(table)\r\n    $fieldsForTable (table,fields => {\r\n\t\tlet identities = fields.filter ( (field,index) => field.is_identity ).map ( field => field.column_name )\r\n\t\tif ( ! identities.length ) identities = [tableConfig.table_pkname]\r\n\t\tcb ( { fields,identities })\r\n\t})\r\n}\r\nfunction getCaseSensitiveTableName (tableName) {\r\n\tlet csTableName\r\n\tObject.keys ( store.database.tables ).forEach ( key => {\r\n\t\tif ( key.toLowerCase() == tableName.toLowerCase() ) csTableName = key\r\n\t})\r\n\treturn csTableName\r\n}\r\n\r\nexport function getIdentitiesForTableSet ( table, cb ) {\r\n\tconst tableConfig = window.tablesMap.get(table)\r\n\t$fieldsForTable (table,fields => {\r\n\t\tlet identities = fields.filter ( (field,index) => field.is_identity ).map ( field => ( { column_name: field.column_name, table_name: field.table_name } ) )\r\n\t\tif ( ! identities.length ) identities = [tableConfig.table_pkname]\r\n\t\tcb ( identities )\r\n\t})\r\n}\r\nfunction sp_circus_fields ( tableName, cb ) {\r\n\tconst tableConfig = window.tablesMap.get(tableName) //store.database.tables[tableName]\r\n\tif ( !tableConfig ) {\r\n\t\tconsole.log ( `api.js no encuentra la tabla '${tableName}'.` )\r\n\t\treturn false\r\n\t}\r\n\tconst table_name = tableConfig.table_name\r\n\t, table_schema = tableConfig.table_schema\r\n\t, table_catalog = tableConfig.table_catalog\r\n\t, table_server = tableConfig.table_server\r\n\t, connection = tableConfig.connection\r\n\tlet sp_name = `[${table_catalog}].[${table_schema}].[sp_circus_fields] '${table_name}'`\r\n\tif ( table_server ) sp_name = `[${table_server}].${sp_name}`\r\n\t$dbq (\r\n\t\t{\r\n\t\t\toperation: 'sp'\r\n\t\t\t, sp_name\r\n\t\t\t, dbID: connection\r\n\t\t}\r\n\t\t, campos => { cb ( campos ) }\r\n\t)\r\n\r\n}\r\nexport function $buttonsForTable ( tableName, cb ) {\r\n\tconst tableConfig = window.tablesMap.get( tableName )  \r\n\treturn(tableConfig.buttons_config)\r\n}\r\nexport function $fieldsForTable ( tableName, cb ) {\r\n\tconst tables = getTablesRelation(tableName).names\r\n\t, finalCampos = []\r\n\t, promises = []\r\n\tlet index = 0\r\n\t//console.time('fieldsForTable'+tableName)\r\n\ttables.forEach ( ( tableName ) => {\r\n\t\tconst tna = tableName.split ( \".\" )\r\n\t\t, tableConfig = window.tablesMap.get(tableName) //store.database.tables[tableName]\r\n\t\t, dbID = getTableConnectionId(tableName)\r\n\t\tconst { table_catalog, table_name, table_schema, table_server, table_alias, table_pkname, fields_config, fields_computed, table_reference } = tableConfig\r\n\t\tlet promise\r\n\t\t//if ( ! tableConfig.evaluatedFields ) {\r\n\t\t\tpromise = new Promise ( ( resolve, reject ) => {\r\n\t\t\t\tsp_circus_fields ( tableName, ( campos ) => {\r\n\t\t\t\t\tconst newCampos = JSON.parse ( JSON.stringify ( campos ) )\r\n\t\t\t\t\tif ( fields_computed && fields_computed.length ) {\r\n\t\t\t\t\t\tfields_computed.forEach ( cf => {\r\n\t\t\t\t\t\t\tnewCampos.push({\r\n\t\t\t\t\t\t\t\tCHARACTER_MAXIMUM_LENGTH:10\r\n\t\t\t\t\t\t\t\t, column_name: cf.sql\r\n\t\t\t\t\t\t\t\t, data_type: cf.type\r\n\t\t\t\t\t\t\t\t, is_identity: false\r\n\t\t\t\t\t\t\t\t, table_name //: tableName //tabla\r\n\t\t\t\t\t\t\t\t, table_schema\r\n\t\t\t\t\t\t\t\t, table_catalog\r\n\t\t\t\t\t\t\t\t, literal: cf.literal\r\n\t\t\t\t\t\t\t\t, is_computed: true\r\n\t\t\t\t\t\t\t\t, label: cf.literal\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tevaluateFields(newCampos)\r\n\t\t\t\t\tresolve ( newCampos )\r\n\t\t\t\t} )\r\n\t\t\t})\r\n\t\t/*\r\n\t\t} else {\r\n\t\t\tpromise = function() {\r\n\t\t\t\tconst newCampos = tableConfig.evaluatedFields\r\n\t\t\t\tevaluateFields(newCampos)\r\n\t\t\t\treturn ( newCampos )\r\n\t\t\t}\r\n\t\t}\r\n\t\t*/\r\n\t\tpromises.push ( promise )\r\n\t\tfunction evaluateFields(newCampos) {\r\n\t\t\tnewCampos.forEach ( ( campo, i ) => {\r\n\t\t\t\t//const fieldSettings = getFieldSettings ( campo.column_name, campo.table_name )\r\n\t\t\t\tlet list = false, listModel = false, listAlias = false, listType = false, favorite= false\r\n\t\t\t\t//if ( campo.column_name.toLowerCase() == \"col_id_1\" ) debugger\r\n\r\n\t\t\t\t/*\r\n\t\t\t\tif ( fields_config && ! campo.is_computed ) {\r\n\t\t\t\t\tconst field_config = $$ ( fields_config ).getCI ( campo.column_name )\r\n\t\t\t\t\tif ( field_config ) {\r\n\t\t\t\t\t\tlistModel = field_config.listModel\r\n\t\t\t\t\t\tlist = store.database.listsModels[listModel]\r\n\t\t\t\t\t\tfavorite = field_config.favorite\r\n\t\t\t\t\t\t//debugger\r\n\t\t\t\t\t\tif ( list ) {\r\n\t\t\t\t\t\t\tlistAlias = list.alias\r\n\t\t\t\t\t\t\tif ( list.sqlListGrid ) { //ES LISTA DINÁMICA. \r\n\t\t\t\t\t\t\t\tlistType = \"dynamic\"\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tlistType = \"static\"\r\n\t\t\t\t\t\t\t\tlist = list.valuesArray ? list.valuesArray : list // ME QUEDO SÓLO CON EL ARRAY DE VALORES QUE ES CON LO QUE FUNCIONA EL RESTO DEL PROGRAMA.\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t*/\r\n\r\n\t\t\t\tconst field_full_name = ! campo.is_computed ? `[${table_alias}].[${campo.column_name}]` : `${campo.column_name}`\r\n\t\t\t\tObject.assign ( \r\n\t\t\t\t\tcampo\r\n\t\t\t\t\t, { \r\n\t\t\t\t\t\t//dbsettings: fieldSettings \r\n\t\t\t\t\t\t form: { group: 'grupo2'}\r\n\t\t\t\t\t\t , favorite\r\n\t\t\t\t\t\t, list\r\n\t\t\t\t\t\t, listModel\r\n\t\t\t\t\t\t, listAlias\r\n\t\t\t\t\t\t, listType\r\n\t\t\t\t\t\t, table_schema \r\n\t\t\t\t\t\t, table_server \t\t\t\t\t\r\n\t\t\t\t\t\t, table_alias \t\t\t\t\t\r\n\t\t\t\t\t\t, table_config_keyname: tableName\r\n\t\t\t\t\t\t, field_full_name\r\n\t\t\t\t\t\t, table_full_name : table_reference\r\n\t\t\t\t\t\t, table_pkname\r\n\t\t\t\t\t\t, index\r\n\t\t\t\t\t\t, key: field_full_name\r\n\t\t\t\t\t\t, aggregate_function : 'DISTINCT'\r\n\t\t\t\t\t\t, basic_data_type: function ( data_type ) {\r\n\t\t\t\t\t\t\t//console.log(data_type)\r\n\t\t\t\t\t\t\tconst text = 'text'\r\n\t\t\t\t\t\t\t, number = 'number'\r\n\t\t\t\t\t\t\t, date = 'date'\r\n\t\t\t\t\t\t\tswitch ( data_type ) {\r\n\t\t\t\t\t\t\t\tcase 'number':\r\n\t\t\t\t\t\t\t\t\treturn number\r\n\t\t\t\t\t\t\t\tcase 'int':\r\n\t\t\t\t\t\t\t\t\treturn number\r\n\t\t\t\t\t\t\t\tcase 'float':\r\n\t\t\t\t\t\t\t\t\treturn number\r\n\t\t\t\t\t\t\t\tcase 'money':\r\n\t\t\t\t\t\t\t\t\treturn number\r\n\t\t\t\t\t\t\t\tcase 'datetime':\r\n\t\t\t\t\t\t\t\t\treturn date\r\n\t\t\t\t\t\t\t\tcase 'date':\r\n\t\t\t\t\t\t\t\t\treturn date\r\n\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\treturn text\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}(campo.data_type)\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t//setFieldListSettings ( campo )\r\n\t\t\t\tindex++;\r\n\t\t\t});\r\n\t\t}\r\n\t})\r\n\tfunction execPromises_bak ( promiseNumber ) {\r\n\t\tconst promise = promises [promiseNumber]\r\n\t\tif ( promise.then ) {\r\n\t\t\tpromise.then( (newCampos) => {\r\n\t\t\t\taddFields ( newCampos )\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tconst newCampos = promise()\r\n\t\t\taddFields ( newCampos )\r\n\t\t}\r\n\t\tfunction addFields(newCampos) {\r\n\t\t\tfinalCampos.push ( ...newCampos )\r\n\t\t\tif ( promiseNumber < promises.length - 1 ) {\r\n\t\t\t\texecPromises ( promiseNumber+1 )\r\n\t\t\t} else {\r\n\t\t\t\t//console.timeEnd('fieldsForTable'+tableName)\r\n\t\t\t\tcb ( finalCampos )\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tfunction execPromises ( promiseNumber ) {\r\n\t\tconst promise = promises [promiseNumber]\r\n\t\tpromise.then( (newCampos) => {\r\n\t\t\taddFields ( newCampos )\r\n\t\t})\r\n\t\tfunction addFields(newCampos) {\r\n\t\t\tfinalCampos.push ( ...newCampos )\r\n\t\t\tif ( promiseNumber < promises.length - 1 ) {\r\n\t\t\t\texecPromises ( promiseNumber + 1 )\r\n\t\t\t} else {\r\n\t\t\t\t//console.timeEnd('fieldsForTable'+tableName)\r\n\t\t\t\t//console.log(finalCampos)\r\n\t\t\t\tconst tableConfig = window.tablesMap.get(tableName)\r\n\r\n\r\n\t\t\t\ttableConfig.evaluatedFields = finalCampos\r\n\t\t\t\twindow.tablesMap.set(tableName,tableConfig) \r\n\t\r\n\t\t\t\t//if ( tableName == \"visual_polizas\" ) debugger \r\n\t\t\t\tcb ( finalCampos )\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\texecPromises( 0 )\r\n}\r\nexport function setFieldListSettings ( campo ) {\r\n\tconst tableConfig = window.tablesMap.get( campo.table_config_keyname )  \r\n\tconst { table_catalog, table_name, table_schema, table_server, table_alias, table_pkname, fields_config, fields_computed, table_reference } = tableConfig\r\n\tlet list = false, listModel = false, listAlias = false, listType = false\r\n\tif ( fields_config && ! campo.is_computed ) {\r\n\t\tconst field_config = $$ ( fields_config ).getCI ( campo.column_name )\r\n\t\tif ( field_config ) {\r\n\t\t\tlistModel = field_config.listModel\r\n\t\t\tlist = store.database.listsModels[listModel]\r\n\t\t\tif ( list ) {\r\n\t\t\t\tlistAlias = list.alias\r\n\t\t\t\tif ( list.sqlListGrid ) { //ES LISTA DINÁMICA. \r\n\t\t\t\t\tlistType = \"dynamic\"\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlistType = \"static\"\r\n\t\t\t\t\tlist = list.valuesArray ? list.valuesArray : list // ME QUEDO SÓLO CON EL ARRAY DE VALORES QUE ES CON LO QUE FUNCIONA EL RESTO DEL PROGRAMA.\r\n\t\t\t\t}\r\n\t\t\t\tcampo.key = getListColumnSql ( { list, field_full_name: campo.field_full_name, listType } )\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tObject.assign ( campo , { list, listModel, listAlias, listType } )\r\n\treturn campo\r\n}\r\nfunction getFieldSettings ( fieldName, tableName ) {\r\n\tconst table = store.database.tables[tableName.toLowerCase()]\r\n\t, lists = store.database.lists\r\n\t//, dbsettings = table.fields ? table.fields[fieldName] : false\r\n\t, treatedSettings = {} // Object.assign ( {} , dbsettings )\r\n\t, listName = lists[tableName+'.'+fieldName]\r\n\ttreatedSettings.list = store.database.listsModels[listName]\r\n\treturn treatedSettings\r\n}\r\nexport function getTableConnectionId ( tableName, databasename ) {\r\n\tlet dbID = false\r\n\tObject.keys ( store.database.tables ).forEach ( key => {\r\n\t\tif ( key.toLocaleLowerCase() == tableName.toLocaleLowerCase() ) {\r\n\t\t\tconst connID = store.database.tables[key].connection//.toLowerCase()\r\n\t\t\tdbID = databasename ? services.connNameToDbName[connID.toLowerCase()] : connID\r\n\t\t}\r\n\t})\r\n\treturn dbID\r\n}\r\nexport function getTablesRelation ( tableName ) {\r\n\tconst dbID = getTableConnectionId(tableName,1)\r\n\t//const relatedGroup = { names: [tableName], joinSyntax: cleanTableName(dbID)+'.dbo.'+cleanTableName(tableName) }\r\n\tconst tableConfig = window.tablesMap.get ( tableName )\r\n\tif ( ! tableConfig ) {\r\n\t\tconsole.log(`api.js no ha encontrado la tabla '${tableName}' en el mapa de tablas.`)\r\n\t\treturn false\r\n\t}\r\n\tconst joinSyntax = `${tableConfig.table_reference} as [${tableConfig.table_alias}]`\r\n\tconst relatedGroup = { names: [tableName], joinSyntax: joinSyntax }\r\n\tconst relatedTables = getRelatedTables ( tableName )\r\n\trelatedGroup.joinSyntax +=  relatedTables.joinSyntax\r\n\tlet nextRelatedNames = relatedTables.names\r\n\tdo {\r\n\t\tlet relatedNames = nextRelatedNames\r\n\t\t//_.pullAll(relatedNames, relatedGroup.names)\r\n\t\tnextRelatedNames = []\r\n\t\tfor ( tableName of relatedNames ) {\r\n\t\t\tconst relatedTables = getRelatedTables ( tableName, relatedGroup.names.concat(relatedNames) )\r\n\t\t\tnextRelatedNames = nextRelatedNames.concat(relatedTables.names)\r\n\t\t\trelatedGroup.names.push ( tableName )\r\n\t\t\trelatedGroup.joinSyntax +=  relatedTables.joinSyntax\r\n\t\t}\r\n\t} while ( nextRelatedNames.length )\r\n\t//relatedGroup.names = [tableName].concat ( relatedGroup.names )\r\n\taliasIndex = -1\r\n\tinvolvedTablesNames = []\r\n\treturn relatedGroup\r\n}\r\nconst aliases = ['a','b','c','d','e','f','g','h','i']\r\nvar involvedTablesNames = []\r\nvar aliasIndex = -1\r\nfunction getNextAlias ( ) {\r\n\taliasIndex++\r\n\treturn aliases[aliasIndex]\r\n}\r\nfunction getRelatedTables ( tableName, excludeNames=[] ) {\r\n\tconst remoteTableConfig = window.tablesMap.get ( tableName )\r\n\tif ( ! remoteTableConfig ) return false\r\n\r\n\tconst res = { names: [], joinSyntax: \"\" }\r\n\tconst tables = store.database.tables\r\n\t, table = tables[tableName]\r\n\t, relatedTablesNames = []\r\n\t, remote_table_reference = remoteTableConfig.table_reference\r\n\t, remote_table_alias = remoteTableConfig.table_alias\r\n\tif ( !table ) return res\r\n\tlet joinTables = \"\"\r\n\t\r\n\tconst relatedTables = table.relatedTables ? table.relatedTables : {}\r\n\tObject.keys(relatedTables).filter(tableName=>excludeNames.indexOf(tableName)==-1).forEach ( ( key, aliasIndex ) => {\r\n\t\tconst tableConfig = window.tablesMap.get ( key )\r\n\t\tif ( ! tableConfig ) return false\r\n\r\n\t\tconst relatedTable = relatedTables[key]\r\n\t\t, remoteField = relatedTable.remoteField\r\n\t\t, localField = relatedTable.localField\r\n\t\t, dbID = cleanTableName ( getTableConnectionId ( key, 1 ) )\r\n\t\t, dbID2 = cleanTableName ( getTableConnectionId ( tableName, 1 ) )\r\n\t\t, joinType = relatedTables[key].join ? relatedTables[key].join : \"INNER JOIN\"\r\n\t\t//joinTables += ` ${joinType} ${dbID}.dbo.${cleanTableName(key)} ON ${dbID2}.dbo.${cleanTableName(tableName)}.${localField} = ${dbID}.dbo.${cleanTableName(key)}.${remoteField}`\r\n\t\t, t1fullname = `${dbID}.dbo.${cleanTableName(key)}`\r\n\t\t, alias = isTableRepeated (key) ? getNextAlias() : ''\r\n\t\t, alias2 = alias != '' ? alias : t1fullname\r\n\t\t, local_table_reference = tableConfig.table_reference\r\n\t\t, local_table_alias = tableConfig.table_alias\r\n\r\n\r\n\t\t// AL FINAL HE DECIDIDO EXCLUIR CUALQUIER REPETICIÓN DE UNA TABLA EN LA SELECT. LA QUE LLEGUE PRIMERO SE LO QUEDA.\r\n\t\tif ( ! isTableRepeated (key)  ) \r\n\t\t\tjoinTables += ` ${joinType} ${local_table_reference} AS [${local_table_alias}] ON [${local_table_alias}].[${localField}] =  [${remote_table_alias}].[${remoteField}]`\r\n\t\t\t//joinTables += ` ${joinType} ${t1fullname} ${alias} ON ${dbID2}.dbo.${cleanTableName(tableName)}.${localField} =  ${alias2}.${remoteField}`\r\n\t\trelatedTablesNames.push ( key )\r\n\t\tinvolvedTablesNames.push ( key )\r\n\t\tfunction isTableRepeated (tn) {\r\n\t\t\treturn involvedTablesNames.indexOf (tn) != -1\r\n\t\t}\r\n\t\t//debugger\r\n\t})\r\n\tres.names = relatedTablesNames\r\n\tres.joinSyntax = joinTables\r\n\treturn res\r\n}\r\nfunction cleanTableName ( tn ) {\r\n\tconst tnArr = tn.split(\".\")\r\n\t, cleanedName = tnArr.length > 1 ? tnArr[tnArr.length - 1] : tn\r\n\treturn cleanedName\r\n}\r\n\r\nexport function getDirectParents ( tableName ) {\r\n\tif (! store.database.tables[tableName] ) debugger\r\n\tconst relatedTables = store.database.tables[tableName].relatedTables\r\n\t, parentTables = relatedTables ? relatedTables : {}\r\n\treturn parentTables\r\n}\r\nexport function getDirectSuns ( tableName ) {\r\n\tconst tables = store.database.tables\r\n\t, childTablesNames = Object.keys(tables).filter(tName => {\r\n\t\tconst tab = tables[tName]\r\n\t\tif ( !tab.relatedTables ) return false\r\n\t\tconst relatedTables = Object.keys(tab.relatedTables).map(tName=>tName.toLowerCase())\r\n\t\tif ( relatedTables.indexOf(tableName.toLowerCase())==-1 ) return false\r\n\t\treturn true\r\n\t})\r\n\t, childTablesRes = {}\r\n\tchildTablesNames.forEach ( tName => {\r\n\t\t//tables[tName].relatedTables[tableName]\r\n\t\tchildTablesRes[tName]=tables[tName].relatedTables[tableName]\r\n\t})\r\n\treturn childTablesRes\r\n}\r\n//const api = 'http://82.223.111.21:8000/'\r\n//const api = 'http://localhost:8000/'\r\nexport function saveTree ( fileName, doPrompt ) {\r\n\tif ( doPrompt ) {\r\n\t\tconst givenName = window.prompt ( \"Introduzca el nombre que quiere dar al archivo de configuración\" , fileName )\r\n\t\tif ( !givenName ) return false\r\n\t\tfileName = givenName + ( givenName.indexOf ( '.json' ) == - 1 ? '.json' : '' )\r\n\t}\r\n\tif ( !fileName ) fileName = uuidV1()+'.json'\r\n\t//saveTree.fileName = fileName\r\n\t$.ajax({\r\n  \t\turl: apiURL + 'writeFile',\r\n\t\tdata: { json: localStorage[\"vuexStore\"], fileName },\r\n\t\tmethod: \"POST\",\r\n\t\t//async: false,\r\n  \t\tsuccess: (storedVuexStore) => {\r\n\t\t\tconsole.log('Model saved to ' + fileName )\r\n\t\t}\r\n\t});\r\n\treturn fileName\r\n}\r\nexport function saveGlobalConfig ( { path, value } ) {\r\n\tconsole.log( { path , value } )\r\n\t//return\r\n    $.ajax({\r\n        url: apiURL + 'writeConfig',\r\n      \tdata: { path, value },\r\n      \tmethod: \"POST\",\r\n      \t//async: false,\r\n        success: (storedVuexStore) => {\r\n        \tconsole.log('Global State saved.' )\r\n      \t}\r\n  \t});\r\n}\r\nexport function listFiles (folder,cb) {\r\n\t$.ajax({\r\n\t\turl: apiURL + 'listFiles',\r\n\t  \tdata: { folder },\r\n\t  \tmethod: \"POST\",\r\n\t  \t//async: false,\r\n\t\tsuccess: ( list ) => {\r\n\t\t  \tcb ( JSON.parse ( list ) )\r\n\t  \t}\r\n  \t});\r\n}\r\nexport function getTablesList (cb) {\r\n\tconst list = []\r\n\t, promises = []\r\n\t, connections = services.connNameToDbName\r\n\t//return list\r\n\tvar promiseIndex = 0\r\n\tObject.keys ( connections  ).forEach ( key => {\r\n\t\tconst connName = key\r\n\t\t, dbName = connections[connName]\r\n\t\tpromises.push ( new Promise (\r\n\t\t\tfunction ( resolve, reject ) {\r\n\t\t\t\t$dbq (\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcolumns: ['name']\r\n\t\t\t\t\t\t, schemaSyntax: \"sys.tables\"\r\n\t\t\t\t\t\t, dbID: connName\r\n\t\t\t\t\t\t, whereSyntax: \"name is not null\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfunction ( tablas ) {\r\n\t\t\t\t\t\tlist.push ( {label:connName, content:tablas.map ( ele => {return ele.name} ) } )\r\n\t\t\t\t\t\tresolve ('all cool')\r\n\t\t\t\t\t\t//cb(tablas)\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t) )\r\n\t})\r\n\texecutePromise()\r\n\tfunction executePromise () {\r\n\t\tpromises[promiseIndex].then ( \r\n\t\t\tfunction ( result ) { \r\n\t\t\t\tpromiseIndex++; \r\n\t\t\t\tif ( promiseIndex<promises.length ) {\r\n\t\t\t\t\t executePromise () \r\n\t\t\t\t} else {\r\n\t\t\t\t\tcb ( list )\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t, function ( err ) {}\r\n\t\t)\r\n\t}\r\n}\r\nexport function $dbq (\r\n\tparams\r\n\t, cb\r\n\t, async\r\n\t, request\r\n) {\r\n\t//if ( ! params.dbID ) params.dbID = 'visual'\r\n\tparams.language = 'spanish'\r\n\tif ( ! async ) async = true\r\n\tconst operation = request ? 'request' :  'dbq'\r\n\t//const operation = 'dbq'\r\n\t$.ajax({\r\n  \t\turl: apiURL + operation,\r\n\t\tdata: `params=${encodeURIComponent(JSON.stringify(params))}`,\r\n\t\tmethod: \"POST\",\r\n\t\tasync: async,\r\n  \t\tsuccess: (respuesta) => {\r\n\t\t\t  const jsonRespuesta = JSON.parse(respuesta)\r\n\t\t\t  if ( jsonRespuesta.length && jsonRespuesta[0].Error ){\r\n\t\t\t\t  //console.log(JSON.stringify(jsonRespuesta[0]))\r\n\t\t\t\t  window.circus.showHelpBox ( {title:'Error en consulta SQL', text:JSON.stringify(jsonRespuesta[0])}, true)\r\n\t\t\t  \t//alert(JSON.stringify(jsonRespuesta[0]))\r\n\t\t\t  }\r\n\t\t\tif ( cb ) cb(jsonRespuesta)\r\n\t\t},\r\n  \t\terror: (respuesta) => {\r\n\t\t\t  console.log(respuesta)\r\n\t\t}\r\n\t});\r\n\t\r\n}\r\nexport function keepDBConnAlive () {\r\n\t$.ajax({\r\n\t\turl: apiURL + 'ping',\r\n\t    data: `dbID=visual`,\r\n\t    method: \"POST\",\r\n\t    //async: true,\r\n\t\tsuccess: (respuesta) => {\r\n\t\t\tconsole.log('ping')\r\n\t  \t},\r\n\t\terror: (respuesta) => {\r\n\t\t\tconsole.log('error ajax ping')\r\n\t  \t}\r\n  });\r\n}\r\nexport function downloadExcel ( sqlParams, types ) {\r\n\t\r\n\twindow.open ( apiURL + 'downloadExcel?' + `params=${encodeURIComponent(JSON.stringify(sqlParams))}&types=${encodeURIComponent(JSON.stringify(types))}` )\r\n\treturn\r\n}\r\n","const actions_global = {\r\n    set_favoriteToField ( {tableKeyName, fieldName} ) {\r\n        const path = ['tables',`${tableKeyName}`,'fields_config',`${fieldName}`,'favorite']\r\n        const state = getVuexDatabaseState ()\r\n        , CSpath = $$(state).getCIpath ( path )\r\n        , actualValue = $$(state).getCI ( path )\r\n        //debugger\r\n        return ( { path: _.join ( CSpath, \".\" ) ,value: actualValue ? 0 :  1 } )\r\n    },\r\n    set_listModelNameToField ( { listModelName, tableName, fieldName } ) { \r\n        const path = ['tables',`${tableName}`,'fields_config',`${fieldName}`,'listModel']\r\n        const state = getVuexDatabaseState ()\r\n        , CSpath = $$(state).getCIpath ( path )\r\n        //debugger\r\n        return ( { path: _.join ( CSpath, \".\" ) , value: listModelName } )\r\n    }\r\n}\r\nexport default actions_global;\r\nfunction getVuexDatabaseState () {\r\n    return JSON.parse ( localStorage[\"vuexStore\"] ).database\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"contextList\",staticClass:\"context-list\",style:({\n        left: _vm.right ? '' : ( _vm.left+'px' ),\n        right: _vm.right ? ( _vm.right+'px' ) : '',\n        top:_vm.top+'px',\n        'max-height':_vm.maxheight+'px',\n        'margin-left': _vm.right ? '20px' : '',\n        'margin-right': ! _vm.right ? '20px' : '',\n    }),attrs:{\"id\":\"circusContextList\"}},[_c('div',{staticStyle:{\"padding\":\"4px 0 6px 6px\",\"width\":\"100%\",\"background\":\"#ccc\",\"font-weight\":\"bold\",\"border\":\"0px solid transparent\",\"border-width-top\":\"0px\"}},[_vm._v(_vm._s(_vm.qeParam.alias))]),_c('div',{staticStyle:{\"clear\":\"both\",\"float\":\"none\",\"width\":\"100%\",\"border\":\"0px solid red\",\"height\":\"21px\",\"padding-top\":\"1px\"}},[_c('button',{staticStyle:{\"float\":\"left\",\"margin-left\":\"4px\"},attrs:{\"data-help-code\":\"context-list-button-filled\"},on:{\"click\":function($event){return _vm.emptySearchString()}}},[_c('svg',{staticStyle:{\"width\":\"12px\",\"margin\":\"-2px 0 0 -4px\"},attrs:{\"height\":\"50px\",\"viewBox\":\"-48 0 407 407\",\"width\":\"50px\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"m89.199219 37c0-12.132812 9.46875-21 21.601562-21h88.800781c12.128907 0 21.597657 8.867188 21.597657 21v23h16v-23c0-20.953125-16.644531-37-37.597657-37h-88.800781c-20.953125 0-37.601562 16.046875-37.601562 37v23h16zm0 0\"}}),_c('path',{attrs:{\"d\":\"m60.601562 407h189.199219c18.242188 0 32.398438-16.046875 32.398438-36v-247h-254v247c0 19.953125 14.15625 36 32.402343 36zm145.597657-244.800781c0-4.417969 3.582031-8 8-8s8 3.582031 8 8v189c0 4.417969-3.582031 8-8 8s-8-3.582031-8-8zm-59 0c0-4.417969 3.582031-8 8-8s8 3.582031 8 8v189c0 4.417969-3.582031 8-8 8s-8-3.582031-8-8zm-59 0c0-4.417969 3.582031-8 8-8s8 3.582031 8 8v189c0 4.417969-3.582031 8-8 8s-8-3.582031-8-8zm0 0\"}}),_c('path',{attrs:{\"d\":\"m20 108h270.398438c11.046874 0 20-8.953125 20-20s-8.953126-20-20-20h-270.398438c-11.046875 0-20 8.953125-20 20s8.953125 20 20 20zm0 0\"}})])]),_c('button',{staticStyle:{\"float\":\"left\"},attrs:{\"data-help-code\":\"context-list-button-empty\"},on:{\"click\":function($event){return _vm.contextListButton(\"empty\")}}},[_c('svg',{staticStyle:{\"enable-background\":\"new 0 0 50.613 50.613\",\"zoom\":\"0.6\",\"margin-left\":\"-4px\",\"margin-top\":\"3px\"},attrs:{\"version\":\"1.1\",\"id\":\"Capa_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"width\":\"50.613px\",\"height\":\"50.613px\",\"viewBox\":\"0 0 50.613 50.613\",\"xml:space\":\"preserve\"}},[_c('g',[_c('g',[_c('g',[_c('circle',{attrs:{\"cx\":\"22.724\",\"cy\":\"43.575\",\"r\":\"4.415\"}}),_vm._v(\" \"),_c('circle',{attrs:{\"cx\":\"41.406\",\"cy\":\"43.63\",\"r\":\"4.415\"}}),_vm._v(\" \"),_c('path',{attrs:{\"d\":\"M46.707,32.312H20.886L10.549,2.568H2.5c-1.381,0-2.5,1.119-2.5,2.5s1.119,2.5,2.5,2.5h4.493L17.33,37.312h29.377\\t\\t\\t\\tc1.381,0,2.5-1.119,2.5-2.5S48.088,32.312,46.707,32.312z\"}})])])]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')])]),_c('button',{staticStyle:{\"float\":\"left\"},attrs:{\"data-help-code\":\"context-list-button-filled\"},on:{\"click\":function($event){return _vm.contextListButton(\"filled\")}}},[_c('svg',{staticStyle:{\"enable-background\":\"new 0 0 50.613 50.613\",\"zoom\":\"0.6\",\"margin-left\":\"-4px\",\"margin-top\":\"3px\"},attrs:{\"version\":\"1.1\",\"id\":\"Capa_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"width\":\"50.613px\",\"height\":\"50.613px\",\"viewBox\":\"0 0 50.613 50.613\",\"xml:space\":\"preserve\"}},[_c('g',[_c('g',[_c('g',[_c('path',{attrs:{\"d\":\"M49.569,11.145H20.055c-0.961,0-1.508,0.743-1.223,1.661l4.669,13.677c0.23,0.738,1.044,1.336,1.817,1.336h19.35\\t\\t\\t\\tc0.773,0,1.586-0.598,1.814-1.336l4.069-14C50.783,11.744,50.344,11.145,49.569,11.145z\"}}),_vm._v(\" \"),_c('circle',{attrs:{\"cx\":\"22.724\",\"cy\":\"43.575\",\"r\":\"4.415\"}}),_vm._v(\" \"),_c('circle',{attrs:{\"cx\":\"41.406\",\"cy\":\"43.63\",\"r\":\"4.415\"}}),_vm._v(\" \"),_c('path',{attrs:{\"d\":\"M46.707,32.312H20.886L10.549,2.568H2.5c-1.381,0-2.5,1.119-2.5,2.5s1.119,2.5,2.5,2.5h4.493L17.33,37.312h29.377\\t\\t\\t\\tc1.381,0,2.5-1.119,2.5-2.5S48.088,32.312,46.707,32.312z\"}})])])]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')])])]),_c('div',{staticClass:\"blobs\",staticStyle:{\"height\":\"auto\",\"width\":\"100%\",\"border\":\"0px solid #ddd\",\"padding\":\"2px 5px\",\"min-height\":\"21px\",\"max-width\":\"500px\",\"margin-bottom\":\"4px\"}},_vm._l((_vm.firstSearchStringArray),function(blob){return _c('div',{staticClass:\"blob\",on:{\"click\":function($event){return _vm.uncheckRow(blob,$event)}}},[_vm._v(\" \"+_vm._s(blob)+\" \")])}),0),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchString),expression:\"searchString\"}],staticStyle:{\"height\":\"21px\",\"width\":\"100%\",\"border\":\"1px solid #ddd\",\"padding\":\"15px 5px\",\"margin\":\"0px\",\"background\":\"white\",\"cursor\":\"text\",\"box-shadow\":\"0 0 5px 0px inset #ccc\",\"border-radius\":\"1px\"},attrs:{\"contenteditable\":\"true\",\"placeholder\":\"Buscar...\"},domProps:{\"value\":(_vm.searchString)},on:{\"keyup\":function($event){return _vm.updateContext($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.searchString=$event.target.value}}}),(_vm.type=='list')?_c('SimpleTable',{ref:\"simpleTable\",attrs:{\"rows\":_vm.rows,\"hiddenKeys\":_vm.hiddenKeys,\"checkable\":true,\"searchable\":_vm.searchable,\"selectable\":false,\"showHeaders\":false,\"checkedRows\":_vm.checkedRows.map(function (ele){ return ele.i; }),\"singlecheck\":_vm.singlecheck,\"searchString\":_vm.searchString,\"showSearchField\":false},on:{\"rowClick\":_vm.contextListRowClick,\"checkClick\":_vm.contextListCheckClick,\"search\":_vm.contextListSearch}}):(_vm.type=='date'||_vm.type=='number')?_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\",\"background\":\"white\",\"padding\":\"5px\",\"border\":\"1px solid #ddd\"}},[_c('div',{ref:\"contextList_rango\",staticStyle:{\"min-width\":\"100px\"}},[_c('label',{staticStyle:{\"font-weight\":\"normal\"}},[_vm._v(\"Desde\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.leftVal),expression:\"leftVal\"}],ref:\"desde\",staticClass:\"form-control\",attrs:{\"data-help-code\":\"search-parameter-value\"},domProps:{\"value\":(_vm.leftVal)},on:{\"blur\":function($event){return _vm.contextListKeyUp()},\"input\":function($event){if($event.target.composing){ return; }_vm.leftVal=$event.target.value}}}),_c('label',{staticStyle:{\"font-weight\":\"normal\"}},[_vm._v(\"Hasta\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.rightVal),expression:\"rightVal\"}],ref:\"hasta\",staticClass:\"form-control\",attrs:{\"data-help-code\":\"search-parameter-value\"},domProps:{\"value\":(_vm.rightVal)},on:{\"blur\":function($event){return _vm.contextListKeyUp()},\"input\":function($event){if($event.target.composing){ return; }_vm.rightVal=$event.target.value}}})])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"simple_table_vue\",staticClass:\"simple-table-vue\",style:({width:'100%',height:'100%','max-height':'inherit',overflow:'hidden','box-sizing':'border-box',position:'relative'})},[_c('div',{ref:\"scrollableDiv\",style:({height:'100%','overflow-x':_vm.overflow,'overflow-y':'scroll','max-height':'inherit'}),attrs:{\"id\":\"scrollableDiv\"},on:{\"scroll\":_vm.scrollHeaders}},[_c('table',{staticClass:\"table table-condensed header\"},[_c('tbody',{ref:\"header\",style:({position:'absolute'})},[(_vm.showHeaders)?_c('tr',[(_vm.checkable && _vm.editedRows.length)?_c('td',{staticStyle:{\"text-align\":\"center\"}},[_c('input',{attrs:{\"type\":\"checkbox\"},on:{\"click\":function($event){return _vm.allChecksClick($event)}}})]):_vm._e(),_vm._l((_vm.keys),function(key,i){return _c('td',{attrs:{\"data-order\":_vm.getOrder(key)},on:{\"click\":function($event){return _vm.headerClick(key,$event.target,i)}}},[_vm._v(_vm._s(key))])})],2):_vm._e(),(_vm.searchable)?_c('tr',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showSearchField),expression:\"showSearchField\"}]},[(_vm.checkable)?_c('td'):_vm._e(),_vm._l((_vm.keys),function(key,i){return _c('td',[_c('div',{staticStyle:{\"width\":\"100%\",\"cursor\":\"text\"},attrs:{\"contenteditable\":\"true\",\"id\":key},on:{\"keyup\":function($event){return _vm.filterTable()}}},[_vm._v(_vm._s(_vm.searchString))])])})],2):_vm._e()])]),_c('table',{ref:\"tabla\",staticClass:\"table table-condensed\",attrs:{\"data-component\":\"Tabla\"}},[_c('tbody',{ref:\"tbody\"},_vm._l((_vm.editedRows),function(row,rowIndex){return (row._filterPassed)?_c('tr',{class:{rowSelected:_vm.selectedRowIndex==row._rowIndex, rowChecked:row._checked},on:{\"click\":function($event){return _vm.onRowClick(row,rowIndex,$event)}}},[(_vm.checkable)?_c('td',{class:_vm.tdClass,staticStyle:{\"text-align\":\"center\",\"width\":\"1px\"}},[_c('input',{attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":row._checked},on:{\"click\":function($event){return _vm.onCheckClick(row,rowIndex,$event);}}})]):_vm._e(),_vm._l((_vm.keys),function(key){return [(_vm.editablekeys.length && _vm.editablekeys.indexOf(key)!=-1)?_c('td',{class:_vm.tdClass,attrs:{\"contenteditable\":_vm.editablekeys.indexOf(key)!=-1,\"data-help-code\":_vm.editablekeys.indexOf(key)!=-1?'general-cell-canedit':''},on:{\"blur\":function($event){return _vm.editTable($event,key,row._rowIndex)},\"keyup\":function($event){return _vm.resizeHeaders()}}},[_vm._v(_vm._s(row[key]))]):_c('td',{class:_vm.tdClass},[_c('div',{style:(_vm.wrapperStyle),attrs:{\"title\":row[key]}},[_vm._v(_vm._s(row[key]))])])]}),(_vm.actions.length)?_c('td',{class:_vm.tdClass,staticStyle:{\"white-space\":\"nowrap\"}},_vm._l((_vm.actions),function(action){return _c('button',{attrs:{\"data-help-code\":\"general-record-delete\"},domProps:{\"innerHTML\":_vm._s(action.button)},on:{\"click\":function($event){return action.func($event,row._rowIndex)}}})}),0):_vm._e()],2):_vm._e()}),0),_c('tfoot',{staticStyle:{\"visibility\":\"hidden\"}},[_c('tr',[(_vm.checkable)?_c('td',{staticStyle:{\"text-align\":\"center\",\"padding-top\":\"0\",\"padding-bottom\":\"0\"}},[_c('div',{staticStyle:{\"height\":\"0\",\"overflow\":\"hidden\"}})]):_vm._e(),_vm._l((_vm.keys),function(key){return _c('td',{staticStyle:{\"padding-top\":\"0\",\"padding-bottom\":\"0\"}},[_c('div',{staticStyle:{\"height\":\"0\",\"overflow\":\"hidden\"}},[_vm._v(_vm._s(key))])])})],2)])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div class=\"simple-table-vue\" ref=\"simple_table_vue\" :style=\"{width:'100%',height:'100%','max-height':'inherit',overflow:'hidden','box-sizing':'border-box',position:'relative'}\">\r\n    <div :style=\"{height:'100%','overflow-x':overflow,'overflow-y':'scroll','max-height':'inherit'}\" v-on:scroll=\"scrollHeaders\" id=\"scrollableDiv\" ref=\"scrollableDiv\">\r\n        <table class=\"table table-condensed header\">\r\n            <tbody :style=\"{position:'absolute'} \" ref=\"header\">\r\n                <tr v-if=\"showHeaders\"><td style=\"text-align:center;\" v-if=\"checkable && editedRows.length\"><input type=\"checkbox\" @click=\"allChecksClick($event)\"></td><td v-for=\"(key,i) in keys\" @click=\"headerClick(key,$event.target,i)\" :data-order=\"getOrder(key)\">{{key}}</td></tr>\r\n                <tr v-if=\"searchable\" v-show=\"showSearchField\"><td v-if=\"checkable\">&nbsp;</td><td v-for=\"(key,i) in keys\" ><div contenteditable=\"true\" style=\"width:100%;cursor:text\" @keyup=\"filterTable()\" :id=\"key\">{{searchString}}</div></td></tr>\r\n            </tbody>\r\n        </table>\r\n        <table data-component=\"Tabla\" ref=\"tabla\" class=\"table table-condensed\" >\r\n            <tbody ref=\"tbody\">\r\n                <tr v-for=\"(row,rowIndex) in editedRows\" @click=\"onRowClick(row,rowIndex,$event)\" v-if=\"row._filterPassed\" :class=\"{rowSelected:selectedRowIndex==row._rowIndex, rowChecked:row._checked}\">\r\n                    <td v-if=\"checkable\" :class=\"tdClass\" style=\"text-align:center;width:1px\">\r\n                        <input type=\"checkbox\" :checked=\"row._checked\" @click=\"onCheckClick(row,rowIndex,$event);\"/>\r\n                    </td>\r\n                    <template v-for=\"key in keys\">\r\n                        <td v-if=\"editablekeys.length && editablekeys.indexOf(key)!=-1\" :contenteditable=\"editablekeys.indexOf(key)!=-1\" :class=\"tdClass\" @blur=\"editTable($event,key,row._rowIndex)\" @keyup=\"resizeHeaders()\"  :data-help-code=\"editablekeys.indexOf(key)!=-1?'general-cell-canedit':''\">{{row[key]}}</td>\r\n                        <td v-else :class=\"tdClass\">\r\n                            <div :style=\"wrapperStyle\" :title=\"row[key]\">{{row[key]}}</div>\r\n                        </td>\r\n                    </template>\r\n                    <td :class=\"tdClass\" v-if=\"actions.length\" style=\"white-space:nowrap\">\r\n                        <button v-for=\"action in actions\" @click=\"action.func($event,row._rowIndex)\" data-help-code=\"general-record-delete\" v-html=\"action.button\">\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n            <tfoot style=\"visibility:hidden\">\r\n                <tr><td style=\"text-align:center;padding-top:0;padding-bottom:0\" v-if=\"checkable\"><div style=\"height:0;overflow:hidden\"></div></td><td v-for=\"key in keys\" style=\"padding-top:0;padding-bottom:0\"><div style=\"height:0;overflow:hidden\">{{key}}</div></td></tr>\r\n            </tfoot>\r\n        </table>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport $ from 'jquery'\r\nexport default {\r\n  props: {\r\n    rows: {\r\n        type: Array\r\n        , required: true\r\n    }\r\n    , nowrap: Boolean\r\n    , selectable: {\r\n        Type: Boolean\r\n        , default: true\r\n    }\r\n    , searchable: Boolean\r\n    , showSearchField: Boolean\r\n    , searchString: String\r\n    , deleteable: Boolean\r\n    , orderable: Boolean\r\n    , checkable: Boolean\r\n    , singlecheck: Boolean\r\n    , showHeaders: {\r\n        type: Boolean\r\n        , default: true\r\n    }\r\n    , cellMaxHeight: String\r\n    , overflow: String\r\n    , checkedRows: {\r\n        type: Array\r\n        , default: function (){return []}\r\n    }\r\n    , hiddenKeys: {\r\n        type: Array\r\n        , default: function (){return []}\r\n    }\r\n    , editablekeys: {\r\n        type: Array\r\n        , default: function (){return []}\r\n    }\r\n    , actions: {\r\n        type: Array\r\n        , default: function (){return []}\r\n    }\r\n  },\r\n  data: function () {\r\n    return {\r\n        orderby: {}\r\n        , editedRows: this.generateEditedRows()\r\n        , selectedRowIndex: {}\r\n        , wrapperStyle: (function() {\r\n            const style = {}\r\n            if ( !this.cellMaxHeight ) return style\r\n            Object.assign( style, {'max-height':this.cellMaxHeight,overflow:'hidden','text-overflow':'ellipsis'} )\r\n            return style\r\n        }.bind(this))()\r\n        //, checkable: false\r\n    }\r\n  },\r\n  watch: {\r\n    rows(){\r\n        this.editedRows = this.generateEditedRows()\r\n        this.selectedRowIndex = -1\r\n        //this.$emit('rowClick',{})\r\n    },\r\n    checkedRows(){\r\n        this.editedRows = this.generateEditedRows()\r\n        //this.selectedRowIndex = -1\r\n        //this.$emit('rowClick',{})\r\n    }\r\n  },\r\n  computed: {\r\n      keys: function  () {\r\n          //console.log(this.editedRows)\r\n          if ( ! this.rows.length ) return []\r\n          //console.log(this.rows.length)\r\n          const llaves = Object.keys(this.rows[0]).filter ( key => {\r\n              return this.hiddenKeys.indexOf(key)==-1\r\n          })\r\n          return llaves \r\n      },\r\n      tdClass() {\r\n          const classes = {nowrap:false}\r\n          if ( this.nowrap ) classes.nowrap = 1\r\n          return classes\r\n      }\r\n  },\r\n  methods: {\r\n      generateEditedRows() {\r\n        if ( ! this.rows.length ) return []\r\n        const editedRows = this.rows.map ( (row,i) => {\r\n            return Object.assign ( {}, row, { _rowIndex: i, _filterPassed: true, _checked: this.checkedRows.indexOf(i) != -1 ? true : false } )\r\n        } )\r\n        //console.log ( editedRows)\r\n        return editedRows\r\n      },\r\n      reIndexRows(rows) {\r\n        if ( ! this.rows.length ) return rows\r\n        this.rows.forEach ( (row,i) => {\r\n            row._rowIndex = i\r\n        } )\r\n        return rows\r\n      },\r\n      editTable ( event, key, rowIndex ) {\r\n            const value =  $(event.target).text()\r\n            $(event.target).text(value)\r\n            this.editedRows[rowIndex][key] = value\r\n            const row = Object.assign(this.rows[rowIndex],this.editedRows[rowIndex])\r\n            //delete row._rowIndex\r\n            //delete row._filterPassed\r\n            this.$emit('rowEdit',Object.assign ( row , {__editedKeyName__:key}))\r\n            //filterTable()\r\n      },\r\n      /*\r\n      onRowDelete ( event, rowIndex ) {\r\n          event.stopPropagation();\r\n            if ( ! confirm ( 'Eliminar este registro?' ) ) return false\r\n            this.$emit('rowDelete',rowIndex)\r\n            //filterTable()\r\n      },\r\n      */\r\n      filterTable () {\r\n          const searchFields = $(this.$refs.simple_table_vue).find('.header [contenteditable=\"true\"]')\r\n          //console.log(searchFields.length)\r\n          this.editedRows.forEach ( (row,i) => {\r\n              let filterPassed = true\r\n              searchFields.each ( function() {\r\n                  if ( filterPassed ) {\r\n                    const val = $(this).text()\r\n                    , key = this.id\r\n                    , rowVal = row[key]\r\n                    , re = new RegExp ( val , \"gi\" )\r\n                    , matches = ( rowVal && rowVal != null && typeof rowVal != \"undefined\" ) ? rowVal.toString().match(re) : false\r\n                    filterPassed = ( val == \"\" || matches ) ? true : false\r\n                  }\r\n              })\r\n              this.editedRows[i]._filterPassed = filterPassed\r\n          })\r\n          this.resizeHeaders()\r\n          let searchArray = []\r\n          searchFields.each ( function() {\r\n              searchArray.push ( $(this).html() )\r\n          })\r\n          this.$emit('search', searchArray ) //emito los valores introducidos en las casillas de búsqueda.\r\n      },\r\n      onRowClick (row,rowIndex,event) {\r\n          if ( ! this.selectable ) {\r\n              this.onCheckClick (row,rowIndex,event)\r\n              return false\r\n          }\r\n        this.selectedRowIndex = row._rowIndex\r\n          this.$emit('rowClick',row)\r\n      },\r\n      onCheckClick (row,rowIndex,event) {\r\n          event.stopPropagation()\r\n          const newRows = JSON.parse ( JSON.stringify ( this.editedRows ) )\r\n          if ( this.singlecheck ) {\r\n            newRows.forEach ( (row,i) => { \r\n                row._checked = false; \r\n            } )\r\n          }\r\n          const newRow = JSON.parse(JSON.stringify(row))\r\n          newRow._checked = event.target.checked ? event.target.checked : ! newRow._checked\r\n          newRows[rowIndex]=newRow;\r\n          const checklist = newRows.filter ( row => row._checked )//.map ( row => row._rowIndex )\r\n          this.editedRows=newRows \r\n          this.$emit('checkClick',checklist)\r\n      },\r\n      allChecksClick (event) {\r\n          event.stopPropagation()\r\n          this.editedRows.forEach(row=>{row._checked=event.target.checked});\r\n          const checklist = this.editedRows.filter ( row => row._checked ).map ( row => row._rowIndex )//\r\n          this.$emit('checkClick',checklist)\r\n      },\r\n      headerClick ( key, target, i ) {\r\n          this.$emit ( 'headerClick', {key, target, index: i})\r\n      },\r\n      orderBy ( key, target ) {\r\n          if ( !this.orderable ) return false\r\n          const order = this.orderby[key] \r\n          let newOrder\r\n          switch ( order ) {\r\n              case 'asc':\r\n                newOrder = 'desc'\r\n                break\r\n              case 'desc':\r\n                newOrder = false\r\n                break\r\n              default:\r\n                newOrder = 'asc'\r\n          }\r\n          delete this.orderby[key]\r\n          $(target).removeAttr('data-order')\r\n          if ( newOrder ) {\r\n            this.orderby[key] = newOrder\r\n            $(target).attr('data-order',newOrder)\r\n          }\r\n          this.$emit('orderBy',this.orderby)\r\n        //log(this.orderby)\r\n      },\r\n      getOrder ( key ) {\r\n          const order = this.orderby[key]\r\n          return order\r\n      },\r\n      resizeHeaders() {\r\n        const $header = $(this.$refs.header)\r\n        , $tbody = $(this.$refs.tbody)\r\n        , $columns = $tbody.find('tr:visible').eq(0).find('td')\r\n        , $headerColumns = $header.find('tr').eq(0).find('td')\r\n        , $scrollableDiv = $(this.$refs.scrollableDiv)\r\n        , widths = []\r\n        $scrollableDiv.height('100%')\r\n        $header.closest('tbody').width($tbody.closest('table').width())\r\n        $columns.each ( function (i) {\r\n            const $col = $(this)\r\n            , $headerCol = $headerColumns.eq(i)\r\n            , width = $col.width()\r\n            //console.log(i+'*'+width)\r\n            $headerCol.width ( width )\r\n            widths.push ( width )\r\n        })\r\n        const headerHeight = $header.height()\r\n        $header.css({\"margin-top\":\"-\"+headerHeight+\"px\"})\r\n        $(this.$refs.simple_table_vue).css({\"padding-top\":headerHeight+\"px\"})\r\n        this.scrollHeaders()\r\n        const height = $(this.$refs.simple_table_vue).outerHeight()\r\n        $scrollableDiv.height(height)\r\n        this.$emit('resizeHeaders',widths)\r\n      },\r\n      scrollHeaders() {\r\n          //this.resizeHeaders()\r\n          const div = this.$refs.scrollableDiv //$('#scrollableDiv')[0]\r\n          if ( !div ) return false\r\n          const $header = $(this.$refs.header)\r\n          , scrollLeft = ( ( div.scrollLeft * -1 ) )\r\n          , width = $('.simple-table-vue').width()\r\n          $header.css({'margin-left':scrollLeft+ 'px'})//.width (width-scrollLeft-20)\r\n          this.$emit('scrollHeaders',scrollLeft*-1)\r\n          //$(this.$refs.header).css({clip:`rect(0px,${width-scrollLeft-16}px,100px,0px)`})\r\n          //console.log(width\r\n      },\r\n    reset () { \r\n        \r\n        this.$nextTick(function(){\r\n          const newRows = JSON.cc ( this.generateEditedRows() ) \r\n          this.editedRows=newRows \r\n        })\r\n        \r\n    }\r\n\r\n  },\r\n  updated(){\r\n    //if ( this.editedRows.length ) this.onRowClick(this.editedRows[0],0)\r\n      this.resizeHeaders()\r\n      this.filterTable()\r\n  },\r\n    mounted () {\r\n      window.addEventListener('resize', this.resizeHeaders )\r\n      this.resizeHeaders()\r\n      new ResizeObserver(this.resizeHeaders).observe(this.$refs.simple_table_vue)\r\n      //this.filterTable()\r\n    },\r\n    beforeDestroy () {\r\n      window.removeEventListener('resize', this.resizeHeaders)\r\n    }    \r\n}\r\n</script>\r\n","import mod from \"-!../../../CIRCUS/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../CIRCUS/node_modules/thread-loader/dist/cjs.js!../../../CIRCUS/node_modules/babel-loader/lib/index.js!../../../CIRCUS/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../CIRCUS/node_modules/vue-loader/lib/index.js??vue-loader-options!./simple-table.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../CIRCUS/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../CIRCUS/node_modules/thread-loader/dist/cjs.js!../../../CIRCUS/node_modules/babel-loader/lib/index.js!../../../CIRCUS/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../CIRCUS/node_modules/vue-loader/lib/index.js??vue-loader-options!./simple-table.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./simple-table.vue?vue&type=template&id=576a9950&\"\nimport script from \"./simple-table.vue?vue&type=script&lang=js&\"\nexport * from \"./simple-table.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../CIRCUS/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default class queryEditor {\r\n    constructor (paramArray,queries) {\r\n        /*\r\n        const params = Object.keys(paramObject).map ( key => ({\r\n            key\r\n            , value: paramObject[key].value\r\n            , text: paramObject[key].text\r\n            , data_type: paramObject[key].data_type\r\n            , operator: \"AND\"\r\n        }))\r\n        */\r\n       // if ( !paramArray.length ) paramArray = this.getParamArray(paramArray)\r\n        /*\r\n       const params = paramObject.map ( para => {\r\n            const key = para.key\r\n            , value = para.value\r\n            , text = para.text\r\n            , data_type = para.data_type\r\n            , operator = para.operator ? para.operator : \"AND\"\r\n            , vista = para.vista\r\n            , campo = para.campo\r\n            , list = para.list\r\n            , leftText = para.leftText\r\n            , rightText = para.rightText\r\n            return { key, value, text, data_type, operator, vista, campo, list }\r\n        })\r\n        */\r\n        this.params = paramArray\r\n        this.queries = queries\r\n    }\r\n    getParams ( paramObject ) {\r\n        return this.params\r\n    }\r\n    getColumns ( ) {\r\n        const columns = (this.params.filter(param=>param._inlist).map(param=>{\r\n            let key = param.key\r\n            if(param.data_type==\"date\"){\r\n                key = `(convert(char(10),${key},103))`\r\n            }\r\n            return (`${key} as [${param.alias}]`)\r\n        }))\r\n        //console.log(columns)\r\n        return columns\r\n    }\r\n    getSqlSyntax () {\r\n        let sqlSyntax = \"\"\r\n        , val\r\n        //console.log(\"qe\")\r\n        //console.log(JSON.cc(this.params))\r\n        this.params.filter ( param => param._active ).forEach ( param => {\r\n            const vista = param.vista\r\n            let isInlineSelect = false // param.value.match ( /^{.*}$/g )\r\n            try {\r\n                const json = JSON.parse ( param.value )\r\n                if ( typeof json == 'object' && !json.length ) { //es select con descripcion\r\n                    const sql = json.sql\r\n                    , descripcion = json.descripcion\r\n                    isInlineSelect = {sql,descripcion}\r\n                }\r\n            } catch ( err ) {}\r\n            //debugger\r\n            if ( vista && vista != \"\" ) {\r\n                console.log('motito'+vista+'--')\r\n                const campo = param.campo\r\n                , query = this.getQueryByName ( vista )\r\n                const joinSyntax = query.joinSyntax\r\n                , whereSql = query.whereSql\r\n                val = ` ${param.key} on( SELECT ${campo} FROM ${joinSyntax} ${whereSql} )`\r\n                //sqlSyntax += ` ${param.operator} ${param.leftText} ${val} ${param.rightText}`\r\n            } else if (isInlineSelect) {\r\n                val = ` ${param.key} IN ( ${isInlineSelect.sql} )`\r\n            } else {\r\n                if ( param.list && param.list.length ) {\r\n                    const listElements = this.matchListElements(param.list,param.text) // Ej: [[1,'alta'],[2,'baja']]\r\n                    let valor = \"\"\r\n                    listElements.forEach ( ele => {\r\n                        const value = ele[0]\r\n                        valor += `\"${value}\" OR `\r\n                    })\r\n                    if ( valor != \"\" ) {\r\n                        valor = valor.substring ( 0, valor.length - 4 )\r\n                        param.value = valor\r\n                    }\r\n                } else {\r\n                    \r\n                }\r\n                val = stringMatch ( param.key, param.text, param.data_type, param )\r\n            }\r\n            if ( param.value != \"%\" && param.value != \"[]\" && param.value != \"\" ) sqlSyntax += ` ${param.operator} ${param.leftText} ${val} ${param.rightText}`\r\n        })\r\n        if ( sqlSyntax.length > 0 ) {\r\n            sqlSyntax = sqlSyntax.substring ( 4 )\r\n            //sqlSyntax += this.getOrderBy()\r\n        }\r\n        //console.log(sqlSyntax)\r\n        return sqlSyntax\r\n    }\r\n    getOrderBy () {\r\n        let orderBy = []\r\n        this.params.forEach ( param => {\r\n            const order = param._orderby\r\n            , valid = ( order == 'asc' || order == 'desc' )\r\n            if ( valid ) {\r\n                let key = param.key\r\n                /*\r\n                if(param.data_type==\"date\"){\r\n                    key = `(convert(char(10),${key},103))`\r\n                }\r\n                */\r\n                /*\r\n                if(key.toLowerCase().indexOf('select ')!=-1&&key.toLowerCase().indexOf('from ')!=-1) {\r\n                    key = param.reference\r\n                }\r\n                */\r\n                orderBy.push ( key + ' ' + order )\r\n                //return (`${key} as [${param.alias}]`)\r\n            }\r\n        })\r\n        //if ( orderBy != \"\" ) orderBy = orderBy.substring(0,orderBy.length-1)\r\n        return orderBy\r\n    }\r\n    getQueryByName (name) {\r\n        let resQuery\r\n        this.api.$dbq ({\r\n            schemaSyntax: \"views\"\r\n            , columns: [\"v_json\"]\r\n            , whereSyntax: \"name = \"+name\r\n            , language: \"spanish\"\r\n            , dbID: \"circus\"\r\n        },(recordset)=>{\r\n            const v_json = recordset[0].v_json\r\n            console.log(v_json)\r\n        },false)\r\n        return\r\n        this.queries.forEach ( query => {\r\n            console.log(query.name+'*'+name)\r\n            if ( query.name == name ) {\r\n                resQuery = query\r\n            }\r\n        })\r\n        //console.log(resQuery)\r\n        return resQuery\r\n    }\r\n    getWhereText () {\r\n        let whereText = \"\"\r\n        this.params.filter ( param => param._active ).forEach ( param => {\r\n            whereText += param.operator + ' ' + param.leftText + ' ' + param.alias + ' = ' + param.text + ' ' + param.rightText\r\n        })\r\n        return whereText\r\n    }\r\n    matchListElements (keyList, searchedValue ) {\r\n        //log(this.keysSettings)\r\n        let matchedEles = []\r\n        if ( keyList ) {\r\n            //const values = keyList.values\r\n            matchedEles = keyList.filter ( val => {\r\n                if ( val[1].indexOf(searchedValue) != -1 ) return true\r\n            })\r\n        }\r\n        return matchedEles\r\n    }\r\n}\r\nexport function parseHandy (txt) {\r\n    if ( txt.indexOf('\"') != -1 ) return txt // si lleva doble comillas es expresión de la vieja complicada. No proceso.\r\n    //txt = txt.replace ( /  /g , \" \" ) //quito dobles espacios\r\n    const spliters = ['> ','< ','>= ','<= ','<> ','= ']\r\n    , txtSplit = txt.split(\" - \")\r\n    , parsedHandy = {}\r\n    let parseAble = false\r\n    if ( txtSplit.length == 2 ) { // Es Rango.\r\n        const leftVal = txtSplit[0]\r\n        , rightVal = txtSplit[1]\r\n        parsedHandy.val1 = leftVal\r\n        parsedHandy.val2 = rightVal\r\n        parseAble = true\r\n    }\r\n    if ( ! parseAble ) {\r\n        spliters.forEach ( spliter => {\r\n            const txtSplit = txt.split(spliter)\r\n            if ( txtSplit.length == 2 && ! parseAble ) {\r\n                const rightVal = txtSplit[1]\r\n                parsedHandy.val1 = rightVal\r\n                parsedHandy.operator = spliter\r\n                parseAble = true\r\n                //handSyntax = `\"${spliter}${rightVal}\"`\r\n                //console.log(spliter)\r\n            }\r\n        })\r\n    }\r\n    if ( parseAble ) {\r\n        return parsedHandy\r\n    } else {\r\n        return txt\r\n    }\r\n}\r\nfunction handyToClassic ( handy ) {\r\n    if ( typeof handy == 'object' ) {\r\n        const val1 = handy.val1\r\n        , val2 = handy.val2\r\n        , operator = handy.operator\r\n        if ( typeof val2 != \"undefined\" ) {\r\n            return `\">=${val1}\" AND \"<=${val2}\"`\r\n        } else {\r\n            return `\"${operator}${val1}\"`\r\n        }\r\n    } else {\r\n        return handy\r\n    }\r\n\r\n}\r\n//console.log(hoyToGetdate('\">hoy(+1a)\"'))\r\nfunction hoyToGetdate(exp) {\r\n    const re = / *hoy *\\( *([\\+,\\-] *\\d+ *[d,m,a,D,M,A]){0,1} *\\) */gi\r\n    , matches = exp.match(re)\r\n    if ( ! matches ) return exp\r\n    matches.forEach ( match => {\r\n        exp = exp.replace ( match, gde(match) )\r\n    })\r\n    return exp\r\n    function gde ( match ) {\r\n        let handy = match.replace ( / */gi , \"\" ).replace(\"hoy(\",\"\").replace(\")\",\"\")\r\n        if ( ! handy.length ) return `getdate()`\r\n        const operator = handy[0]\r\n        , increment = handy.substr(1,handy.length-2)\r\n        let interval = handy[handy.length-1]\r\n        switch ( interval ) {\r\n            case 'a': interval = 'year'; break;\r\n            case 'm': interval = 'month'; break;\r\n            case 'd': interval = 'day'; break;\r\n        }\r\n        const dateExp = `dateadd(${interval},${operator}${increment},getdate())`\r\n        //console.log(interval)\r\n        return dateExp\r\n    }\r\n}\r\nfunction stringMatch ( n, v, data_type, param ) {\r\n    const type = data_type//dataType ( data_type )\r\n    , isnumeric = type == 'number'\r\n    , isdate = type == 'date'\r\n    , sqlparaloquesea = '\"%\" or \"\"'\r\n    let vJson = false\r\n    if ( isnumeric || isdate ) v = handyToClassic ( parseHandy ( v ) )\r\n    if ( v == '%' ) v=sqlparaloquesea\r\n    try {\r\n        vJson = JSON.parse ( v )\r\n        if ( typeof vJson == \"string\" || typeof vJson == \"number\"  ) vJson = undefined\r\n    } catch ( err ) {\r\n    }\r\n\tvar re=/\"([^\"]*)\"/gi\r\n    var matches=v.match(re)\r\n    if ( vJson ) {\r\n        const literals = vJson.map ( literal => {\r\n            return `'${literal.replace(/\\'/gi,\"''\")}'` \r\n        })\r\n        \r\n        var sqltxt = \"\"\r\n        literals.forEach ( function ( val ) {\r\n            sqltxt = sqltxt + n + \" LIKE \" + val + \" OR \"\r\n        } )\r\n        if (sqltxt.length ) sqltxt = \"(\" + sqltxt.substring(0, sqltxt.length-3) + \")\";\r\n        //if ( param.like ) return sqltxt\r\n        if ( ! isnumeric && ! isdate ) return sqltxt\r\n    \r\n        return \"(\"+n+\" IN (\" + literals + \"))\"\r\n    } else {\r\n        if ( !matches ){\r\n            if ( isdate ) {\r\n                var r=\"convert(char(10),\"+n+\",103) like '%\"+v+\"%'\"\r\n                return \"(\"+r+\")\"\r\n            /*\r\n            } else if ( isnumeric ) {\r\n                return \"(\"+n+\" = \" + v + \")\"\r\n            */\r\n            } else {\r\n                return \"(\"+n+\" like '%\" + v + \"%')\"\r\n            }\r\n        } else {\r\n            var espacioraro=new RegExp(String.fromCharCode(160),\"g\")\r\n            , saltodelinea=new RegExp(String.fromCharCode(10),\"g\")\r\n            , sqlparanulo = '(\" is null\" or \"=' + \"''\" + '\")'\r\n            , r=\"\"\r\n            , l=\"\"\r\n            v=v.replace(espacioraro,\"\").replace(saltodelinea,\"\")\r\n            if(isnumeric||isdate){v=v.replace('\"\"',sqlparanulo)}\r\n            if(isnumeric||isdate){\r\n                r=hoyToGetdate(v.replace(re,n+\"$1\"))\r\n                //if(tipo==135 && v.toLowerCase().indexOf('getdate')==-1 && v.toLowerCase().indexOf(sqlparanulo)==-1){\r\n                if(isdate){\r\n                    var red=new RegExp(\"[0-9]{1,2}/[0-9]{1,2}/[0-9]{4}\",\"g\")\r\n                    var matchesf = r.match(red)\r\n                    //if (matchesf == null){alerta('Sintaxis de filtrado no válida');return false}\r\n                    //for(var i=0;i<matchesf.length;i++)r=r.replace(matchesf[i],\"'\"+matchesf[i]+\"'\")\r\n                    if (matchesf != null){\r\n                        for(var i=0;i<matchesf.length;i++){\r\n                            //if(tipo==135 && v.toLowerCase().indexOf('getdate')==-1 && v.toLowerCase().indexOf(sqlparanulo)==-1)\r\n                                r=r.replace(matchesf[i],\"'\"+matchesf[i]+\"'\")\r\n                        }\r\n                    }\r\n                }\r\n            }else{\r\n                for(var i=0;i<matches.length;i++)v=v.replace(matches[i],matches[i])\r\n                r=v.replace(re,n+\" like '$1'\")\r\n                r=r.replace(n+\" like ''\",\"(\"+n+\" is null OR \"+n+\"='')\")\r\n            }\r\n            return \"(\"+r+\")\"\r\n        }\r\n    }\r\n}\r\nfunction eliminarAcentos(txt){\r\n\ttxt=txt.replace(/a/gi,\"[a,\\u00e1]\")\r\n\ttxt=txt.replace(/e/gi,\"[e,\\u00e9]\")\r\n\ttxt=txt.replace(/i/gi,\"[i,\\u00ed]\")\r\n\ttxt=txt.replace(/o/gi,\"[o,\\u00f3]\")\r\n\ttxt=txt.replace(/u/gi,\"[u,\\u00fa]\")\r\n\ttxt=txt.replace(/n/gi,\"[n,\\u00f1]\")\r\n\treturn txt\r\n}\r\n","<template>\r\n    <div ref=\"contextList\"\r\n        id=\"circusContextList\"\r\n        class=\"context-list\"\r\n        :style=\"{\r\n            left: right ? '' : ( left+'px' ),\r\n            right: right ? ( right+'px' ) : '',\r\n            top:top+'px',\r\n            'max-height':maxheight+'px',\r\n            'margin-left': right ? '20px' : '',\r\n            'margin-right': ! right ? '20px' : '',\r\n        }\"\r\n    >\r\n        <!--<div style=\"position:absolute;border:1px solid red;min-width:50px;background:#f2f2f2;max-height:300px;\">-->\r\n        <div style=\"padding: 4px 0 6px 6px;width:100%;background: #ccc; font-weight: bold;border:0px solid transparent;border-width-top:0px\">{{qeParam.alias}}</div>\r\n        <div style=\"clear:both;float:none;width:100%;border:0px solid red;height:21px;padding-top:1px\">\r\n            <button @click='emptySearchString()' style=\"float:left;margin-left:4px\" data-help-code=\"context-list-button-filled\">\r\n                <svg height=\"50px\" viewBox=\"-48 0 407 407\" width=\"50px\" style=\"width:12px; margin: -2px 0 0 -4px\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m89.199219 37c0-12.132812 9.46875-21 21.601562-21h88.800781c12.128907 0 21.597657 8.867188 21.597657 21v23h16v-23c0-20.953125-16.644531-37-37.597657-37h-88.800781c-20.953125 0-37.601562 16.046875-37.601562 37v23h16zm0 0\"/><path d=\"m60.601562 407h189.199219c18.242188 0 32.398438-16.046875 32.398438-36v-247h-254v247c0 19.953125 14.15625 36 32.402343 36zm145.597657-244.800781c0-4.417969 3.582031-8 8-8s8 3.582031 8 8v189c0 4.417969-3.582031 8-8 8s-8-3.582031-8-8zm-59 0c0-4.417969 3.582031-8 8-8s8 3.582031 8 8v189c0 4.417969-3.582031 8-8 8s-8-3.582031-8-8zm-59 0c0-4.417969 3.582031-8 8-8s8 3.582031 8 8v189c0 4.417969-3.582031 8-8 8s-8-3.582031-8-8zm0 0\"/><path d=\"m20 108h270.398438c11.046874 0 20-8.953125 20-20s-8.953126-20-20-20h-270.398438c-11.046875 0-20 8.953125-20 20s8.953125 20 20 20zm0 0\"/></svg>\r\n            </button>\r\n            <button @click='contextListButton(\"empty\")' data-help-code=\"context-list-button-empty\" style=\"float:left\">\r\n                <svg version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\t width=\"50.613px\" height=\"50.613px\" viewBox=\"0 0 50.613 50.613\" style=\"enable-background:new 0 0 50.613 50.613;;zoom:0.6;margin-left:-4px;margin-top:3px\"\t xml:space=\"preserve\"><g>\t<g>\t\t<g><circle cx=\"22.724\" cy=\"43.575\" r=\"4.415\"/>\t\t\t<circle cx=\"41.406\" cy=\"43.63\" r=\"4.415\"/>\t\t\t<path d=\"M46.707,32.312H20.886L10.549,2.568H2.5c-1.381,0-2.5,1.119-2.5,2.5s1.119,2.5,2.5,2.5h4.493L17.33,37.312h29.377\t\t\t\tc1.381,0,2.5-1.119,2.5-2.5S48.088,32.312,46.707,32.312z\"/>\t\t</g>\t</g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>\r\n            </button>\r\n            <button @click='contextListButton(\"filled\")' style=\"float:left\" data-help-code=\"context-list-button-filled\">\r\n                <svg version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\t width=\"50.613px\" height=\"50.613px\" viewBox=\"0 0 50.613 50.613\" style=\"enable-background:new 0 0 50.613 50.613;;zoom:0.6;margin-left:-4px;margin-top:3px\"\t xml:space=\"preserve\"><g>\t<g>\t\t<g>\t\t\t<path d=\"M49.569,11.145H20.055c-0.961,0-1.508,0.743-1.223,1.661l4.669,13.677c0.23,0.738,1.044,1.336,1.817,1.336h19.35\t\t\t\tc0.773,0,1.586-0.598,1.814-1.336l4.069-14C50.783,11.744,50.344,11.145,49.569,11.145z\"/>\t\t\t<circle cx=\"22.724\" cy=\"43.575\" r=\"4.415\"/>\t\t\t<circle cx=\"41.406\" cy=\"43.63\" r=\"4.415\"/>\t\t\t<path d=\"M46.707,32.312H20.886L10.549,2.568H2.5c-1.381,0-2.5,1.119-2.5,2.5s1.119,2.5,2.5,2.5h4.493L17.33,37.312h29.377\t\t\t\tc1.381,0,2.5-1.119,2.5-2.5S48.088,32.312,46.707,32.312z\"/>\t\t</g>\t</g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>\r\n            </button>\r\n            &nbsp;\r\n        </div>\r\n            <div style=\"height: auto;width:100%;border:0px solid #ddd; padding: 2px 5px; min-height:21px; max-width:500px;margin-bottom: 4px\" class=\"blobs\">\r\n                <div class=\"blob\" v-for=\"blob in firstSearchStringArray\" @click=\"uncheckRow(blob,$event)\">\r\n                    {{blob}}\r\n                </div>\r\n                \r\n            </div>\r\n            <input \r\n                contenteditable=\"true\" \r\n                style=\"height: 21px;width:100%;border:1px solid #ddd; padding: 15px 5px; margin: 0px; background: white;cursor:text;box-shadow: 0 0 5px 0px inset #ccc;border-radius:1px\"\r\n                placeholder=\"Buscar...\"\r\n                v-model = \"searchString\"\r\n                @keyup = \"updateContext($event)\"\r\n            >\r\n                \r\n            \r\n        <SimpleTable\r\n            v-if=\"type=='list'\"\r\n            ref=\"simpleTable\"\r\n            :rows=\"rows\"\r\n            :hiddenKeys=\"hiddenKeys\"\r\n            :checkable=\"true\"\r\n            :searchable=\"searchable\"\r\n            :selectable=\"false\"\r\n            :showHeaders=\"false\"\r\n            :checkedRows=\"checkedRows.map(ele=>ele.i)\"\r\n            :singlecheck=\"singlecheck\"\r\n            :searchString=\"searchString\"\r\n            :showSearchField=\"false\"\r\n            v-on:rowClick=\"contextListRowClick\"\r\n            v-on:checkClick=\"contextListCheckClick\"\r\n            v-on:search=\"contextListSearch\"\r\n        />\r\n        <div\r\n            v-else-if=\"type=='date'||type=='number'\"\r\n            style=\"width:100%;height:100%;background:white;padding:5px; border:1px solid #ddd\"\r\n        >\r\n            <div ref=\"contextList_rango\" style=\"min-width:100px\">\r\n            <label style=\"font-weight:normal\">Desde</label>\r\n            <input class=\"form-control\" @blur=\"contextListKeyUp()\" ref=\"desde\" v-model=\"leftVal\" data-help-code=\"search-parameter-value\">\r\n            <label style=\"font-weight:normal\">Hasta</label>\r\n            <input class=\"form-control\" @blur=\"contextListKeyUp()\" ref=\"hasta\" v-model=\"rightVal\" data-help-code=\"search-parameter-value\">\r\n            </div>\r\n        <!--</div>-->\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport SimpleTable from 'D:/data/iis/simple-table/src/components/simple-table.vue'\r\nimport * as qe from './query-editor.js';\r\n\r\n\r\n/*\r\nwindow.bus.$on('contextListBlur',function(){\r\n    window.contextListFocused = false\r\n})\r\n*/\r\nexport default {\r\n    components: { SimpleTable }\r\n    , props: {\r\n    }\r\n    , data() {\r\n        return {\r\n            rows: []\r\n            , hiddenKeys: []\r\n            , top: 400\r\n            , left: 100\r\n            , right: false\r\n            , height: 300\r\n            , maxheight: 300\r\n            , checkedRows: []\r\n            , type: \"text\"\r\n            , comparation: 0\r\n            , leftVal: \"\"\r\n            , rightVal: \"\"\r\n            , searchString: \"\"\r\n            , firstSearchString: \"\"\r\n            , searchable: true\r\n            , qeParam : {}\r\n        }\r\n    },\r\n    watch: {\r\n        searchString (object,oldVal) {\r\n            this.searchString = this.simpleTableSearchString()\r\n            /*\r\n            const simpleSS = this.simpleTableSearchString()\r\n            if ( simpleSS != \"\" ) {\r\n                this.searchString = simpleSS\r\n            } else {\r\n                this.searchString = oldVal\r\n            }\r\n            */\r\n        }\r\n    }\r\n    , mounted () {\r\n        window.contextList = this\r\n    }\r\n    , computed : {\r\n        firstSearchStringArray(){\r\n            const firstSearchString = this.firstSearchString\r\n            let firstSearchStingArray\r\n            try {\r\n                const arr = JSON.parse(firstSearchString)\r\n                if ( arr.length ) return arr\r\n            } catch ( err ) {}\r\n            return [firstSearchString]\r\n        }\r\n    }\r\n    , methods: {\r\n        emptySearchString(){\r\n            //this.searchString = \"\"\r\n            //const checkedRows = []\r\n            //this.checkedRows = checkedRows\r\n            this.checkedRows = []\r\n            this.onChange(\"\")\r\n        },\r\n        uncheckRow ( label , event) {\r\n            $(event.target).addClass('removing')\r\n            setTimeout ( ()=> {\r\n                event.stopPropagation()\r\n                const simpleTable = this.$refs.simpleTable\r\n//contextLi     t.checkedRows = checkedRows.map ( row => ({ row, i: row._rowIndex }) )\r\n                //debugger\r\n                const labelKey = Object.keys(this.checkedRows[0].row)[1]\r\n                //const checkedRows = this.checkedRows.filter ( row => row.row[labelKey] != label ).map ( row => ( { i:1 , [labelKey] : row.row[labelKey] } ) )\r\n                const checkedRows = this.checkedRows.filter ( row => row.row[labelKey] != label )//.map ( row => row.row )\r\n                //getCheckedRowsFromInput ( val, contextList.rows ) {\r\n                this.checkedRows = checkedRows\r\n                this.onChange(checkedRows,\"remove\",label)\r\n                //this.contextListCheckClick ( checkedRows )\r\n                $(event.target).removeClass('removing')\r\n            }, 300)\r\n        },\r\n        simpleTableSearchString (searchString) {\r\n            const st = searchString ? searchString : this.searchString\r\n            let obj = false\r\n            try {\r\n                obj = JSON.parse ( st )\r\n                if( !obj.length ) return st\r\n            } catch ( err ) {return st }\r\n            if ( obj ) return \"\";\r\n\r\n        },\r\n        contextListKeyUp(){\r\n            const desde = this.$refs.desde.value\r\n            , hasta = this.$refs.hasta.value\r\n            //, iguala = this.$refs.iguala.value\r\n            //, comparation = this.$refs.comparation.selectedIndex\r\n            let val = \"\"\r\n            if ( desde != \"\" && hasta == \"\" ) val = \">= \" + desde\r\n            if ( desde == \"\" && hasta != \"\" ) val = \"<= \" + hasta\r\n            if ( desde != \"\" && hasta != \"\" ) {\r\n                if ( desde == hasta )\r\n                    val = \"= \" + desde\r\n                else\r\n                    val = desde + \" - \" + hasta\r\n            }\r\n            this.onChange(val)\r\n        },\r\n        contextListButton(option){\r\n            if(option==\"empty\")this.onChange(`\"\"`)\r\n            if(option==\"filled\")this.onChange(`_`)\r\n        },\r\n        contextListRowClick(row){\r\n            \r\n        },\r\n        contextListCheckClick(checkedRows){\r\n            /*\r\n            console.log(checkedIndexes)\r\n            const checkedRows = JSON.cc(this.rows).filter ( (ele,i) => {\r\n                const exists = checkedIndexes.filter ( cr => {\r\n                    if ( cr._ROW_NUMBER == ele._ROW_NUMBER ) return true\r\n                })\r\n                //if ( checkedIndexes._ROW_NUMBER == ele._ROW_NUMBER ) return true\r\n                return exists.length\r\n            })\r\n            console.log(checkedRows)\r\n            */\r\n            //const checkedRows = checkedIndexs\r\n            //debugger\r\n            //const checkedIds = checkedRows.map ( row => row[Object.keys(row)[0]] )\r\n            const oldCheckedRows = contextList.checkedRows.map ( ele => ele.row )\r\n            //, oldCheckedIds = oldCheckedRows.map ( row => row[Object.keys(row)[0]] )\r\n            const checkedLiterals = checkedRows.map ( row => row[Object.keys(row)[1]] )\r\n            , oldCheckedLiterals = oldCheckedRows.map ( row => row[Object.keys(row)[1]] )\r\n            let operation = \"none\"\r\n            , differenceIndex\r\n            , differenceLiteral\r\n            , removedElement\r\n\r\n            //if ( !this.oldCheckedRows ) this.oldCheckedRows = checkedRows\r\n            if ( checkedRows.length > oldCheckedRows.length ) operation = \"add\"\r\n            if ( checkedRows.length < oldCheckedRows.length ) operation = \"remove\"\r\n            //differenceIndex = oldCheckedIds.filter(x => !checkedIds.includes(x))[0];\r\n            differenceLiteral = oldCheckedLiterals.filter(x => !checkedLiterals.includes(x))[0];\r\n            //removedElement = JSON.cc ( this.rows ).filter( row => row[Object.keys(row)[0]] == differenceIndex )[0]\r\n            removedElement = differenceLiteral\r\n            //this.oldCheckedIds = checkedIds\r\n            contextList.checkedRows = checkedRows.map ( row => ({ row, i: row._rowIndex }) )\r\n            this.onChange(checkedRows,operation,removedElement)\r\n            //this.onChange(checkedRows)\r\n        },      \r\n        contextListSearch(searchStrings) {\r\n            //console.log(searchStrings)\r\n            const searchString = searchStrings[0]\r\n        },\r\n        updateContext (event) {\r\n            if ( this.searchTimer ) clearTimeout ( this.searchTimer )\r\n            const that = this\r\n            this.searchTimer = setTimeout ( function () {\r\n                that.openContextParameters.searchString = that.searchString\r\n                that.reloadContext ( )\r\n            } , 300 )\r\n        },\r\n        reloadContext ( ) {\r\n            this.open ( this.openContextParameters, true )\r\n        },\r\n        open ( {keyName,$field,val,type,onChange,cb, singlecheck, pkName,dbname,ownername,tablename,fieldname,dbID, searchString, cbWhenClose, qeParam  }, onlyReload ) {\r\n            this.openContext (keyName,$field,val,type,onChange,cb, singlecheck, {pkName,dbname,ownername,tablename,fieldname,dbID, searchString,cbWhenClose, qeParam }, onlyReload )\r\n        },\r\n        openContext (keyName,$field,val,type,onChange,cb, singlecheck, {pkName,dbname,ownername,tablename,fieldname,dbID, searchString,cbWhenClose, qeParam }, onlyReload ) {\r\n            this.openContextParameters = {keyName,$field,val,type,onChange,cb, singlecheck, pkName,dbname,ownername,tablename,fieldname,dbID, searchString,cbWhenClose, qeParam }\r\n            this.qeParam = qeParam\r\n            this.singlecheck = singlecheck\r\n        \t//if ( this.simpleTableSearchString(searchString) != \"\" )  \r\n            this.searchString = searchString\r\n            if ( ! onlyReload ) {\r\n                this.firstSearchString = searchString\r\n                this.contextListFocused = true\r\n            }\r\n            this.onChange = (val,operation,removedElement) => {\r\n                onChange(val,operation,removedElement)\r\n                setTimeout(this.positionContext,0)\r\n            }\r\n            this.$field = $field\r\n        \tconst contextList = this\r\n            contextList.rows = []\r\n            //return\r\n        \t//const listModel = this.api.getListModel(keyName)\r\n        \tconst listModel = qeParam.list\r\n        \tif ( listModel ) { \r\n        \t\tlet contextListData, contextListHiddenKeys\r\n        \t\tif ( !listModel.length ) { //Es lista dinámica\r\n        \t\t\tconst {sqlListGrid,connection} = listModel\r\n        \t\t\t, sql = sqlListGrid.toLowerCase()\r\n        \t\t\t, columns = sql.substring ( sql.indexOf('select') + 6, sql.indexOf('from') ).trim().split(\",\")\r\n        \t\t\t, schemaSyntax = sql.substring ( sql.indexOf('from') + 4, sql.indexOf('where') ).trim()\r\n        \t\t\t, whereSyntax = sql.substring ( sql.indexOf('where') + 5, sql.indexOf('order by') ).trim()\r\n        \t\t\t, orderbyColumns = sql.substring ( sql.indexOf('order by') + 8 ).trim()\r\n        \t\t\t, dbqParams = {\r\n        \t\t\t\toperation: 'select'\r\n        \t\t\t\t, columns\r\n        \t\t\t\t, schemaSyntax\r\n        \t\t\t\t, whereSyntax\r\n        \t\t\t\t, orderbyColumns\r\n                        , dbID: connection\r\n        \t\t\t}\r\n                    window.working(1)\r\n        \t\t\tthis.api.$dbq ( dbqParams, data => {\r\n        \t\t\t\tcontextListData = data\r\n        \t\t\t\tcontextListHiddenKeys = [columns[0]]\r\n        \t\t\t\tfeedList()\r\n                        window.working(0)\r\n        \t\t\t})\r\n        \t\t} else { //Es lista estática\r\n        \t\t\tconst data = listModel.map ( ele => ({\r\n        \t\t\t\tid: ele[0]\r\n        \t\t\t\t, Literal: ele[1]\r\n        \t\t\t}))\r\n        \t\t\tcontextListData = data\r\n        \t\t\tcontextListHiddenKeys = ['id']\r\n        \t\t\tfeedList()\r\n        \t\t}\r\n        \t\tfunction feedList() {\r\n        \t\t\tconst top = $field.offset().top + $field.outerHeight()\r\n        \t\t\t, left = $field.offset().left\r\n                    , checkedRows = getCheckedRowsFromInput(contextList.firstSearchString,contextListData)\r\n                    /*\r\n        \t\t\t, checkedRows = []\r\n        \t\t\tlet json = false\r\n        \t\t\ttry {\r\n        \t\t\t\tconst checkedLiterals = JSON.parse ( val )\r\n        \t\t\t\tcontextListData.forEach ( (row,i) => {\r\n        \t\t\t\t\tif ( checkedLiterals.indexOf(row[Object.keys(row)[1]]) != -1 ) checkedRows.push ( i ) \r\n        \t\t\t\t})\r\n        \t\t\t} catch (err){ }\r\n                    */\r\n        \t\t\tcontextList.rows = contextListData\r\n        \t\t\tcontextList.hiddenKeys = contextListHiddenKeys\r\n        \t\t\tcontextList.checkedRows = checkedRows\r\n                    contextList.searchable = true\r\n        \t\t\topen('list')\r\n        \t\t}\r\n        \t} else {\r\n        \t\tconst parsedHandy = qe.parseHandy ( val )\r\n        \t\t, leftVal = parsedHandy.leftVal\r\n        \t\t, operator = parsedHandy.operator\r\n        \t\tif ( ! operator ) {\r\n        \t\t\tcontextList.leftVal = parsedHandy.val1\r\n        \t\t\tcontextList.rightVal = parsedHandy.val2\r\n        \t\t} else {\r\n        \t\t\tif ( operator.indexOf ( \">\" ) != -1 ) {\r\n        \t\t\t\tcontextList.leftVal = parsedHandy.val1\r\n        \t\t\t\tcontextList.rightVal = \"\"\r\n        \t\t\t} else if ( operator.indexOf ( \"<\" ) != -1 ) {\r\n        \t\t\t\tcontextList.leftVal = \"\"\r\n        \t\t\t\tcontextList.rightVal = parsedHandy.val1\r\n        \t\t\t} else {\r\n        \t\t\t\tcontextList.leftVal = parsedHandy.val1\r\n        \t\t\t\tcontextList.rightVal = parsedHandy.val1\r\n        \t\t\t}\r\n        \t\t}\r\n\r\n                // SELECTOR DE COINCIDENCIAS EN CAMPO DE TEXTO\r\n                if ( type == \"text\" ) {\r\n                    if ( fieldname ) { // Los computed fields no tienen fieldname y por el momento me los salto de la funcionalidad de context-list.\r\n                        let likeExpression = this.simpleTableSearchString()\r\n                        likeExpression = likeExpression == \"\" ? \"\" : ` AND ${fieldname} LIKE '%${likeExpression}%' ` \r\n                        const dbqParams = {\r\n        \t\t\t    \toperation: 'request'\r\n        \t\t\t    \t//, sqlSyntax: `SELECT distinct top 20  ${pkName} AS _ROW_NUMBER,${fieldname} FROM ${dbname}.${ownername}.${tablename} WHERE ${fieldname} IS NOT NULL AND ${fieldname} <> '' ${likeExpression} ORDER BY ${fieldname}`\r\n        \t\t\t    \t, sqlSyntax: `SELECT distinct top 20  1 AS _ROW_NUMBER,${fieldname} FROM ${qeParam.table_full_name} AS [${qeParam.table_alias}] WHERE ${fieldname} IS NOT NULL AND ${fieldname} <> '' ${likeExpression} ORDER BY ${fieldname}`\r\n                            , dbID\r\n        \t\t\t    }\r\n                        window.working(1)\r\n        \t\t\t    this.api.$dbq ( dbqParams, data => {\r\n        \t\t\t    \tcontextList.rows = data\r\n                            contextList.checkedRows = getCheckedRowsFromInput ( contextList.firstSearchString, data )\r\n                            contextList.hiddenKeys = ['_ROW_NUMBER']\r\n                            window.working(0)\r\n        \t\t\t    }, true, true)\r\n                        this.searchable = false\r\n                        type=\"list\"\r\n                    }\r\n                }\r\n                \r\n        \t\topen(type)\r\n        \t}\r\n            const that = this\r\n            //this.getCheckedRowsFromInput = getCheckedRowsFromInput\r\n            function getCheckedRowsFromInput ( val, contextListData ) {\r\n        \t\t\tconst checkedRows = []\r\n        \t\t\tlet json = false\r\n        \t\t\ttry {\r\n        \t\t\t\tconst checkedLiterals = JSON.parse ( val )\r\n        \t\t\t\tcontextListData.forEach ( (row,i) => {\r\n        \t\t\t\t\tif ( checkedLiterals.indexOf(row[Object.keys(row)[1]]) != -1 ) checkedRows.push ( {row,i} ) \r\n        \t\t\t\t})\r\n        \t\t\t} catch (err){ }\r\n                    return checkedRows\r\n            }\r\n        \tfunction open(type) {\r\n        \t\tconst top = $field.offset().top + $field.outerHeight()\r\n        \t\t, left = $field.offset().left\r\n                , $list = $(contextList.$refs.contextList).addClass('shown')//show()\r\n                //, $detach = $list.detach()\r\n        \t\tcontextList.type = type\r\n                //$field.css({'background-color':'red'}).before($list)\r\n                contextList.opened = true\r\n                contextList.positionContext()\r\n                //$(contextList.$refs.contextList).find('[contenteditable=\"true\"]').focus()\r\n                $('body').click(showContext)\r\n        \t\tif ( cb ) cb ( )\r\n        \t}\r\n            function showContext (event){\r\n                const ae = document.activeElement\r\n                , isContextList = $(ae).closest('#circusContextList').length || $(event.target).closest('#circusContextList').length\r\n                if(!isContextList && !that.contextListFocused) {\r\n                    const menu = $(that.$refs.contextList)\r\n                    menu.removeClass('shown')//hide()\r\n                    contextList.opened = false\r\n                    $('body').off()\r\n                    if ( cbWhenClose ) cbWhenClose ()\r\n                }\r\n            }\r\n        },\r\n        positionContext(event) {\r\n            if ( !contextList.opened || !this.$field ) return\r\n            const ww = $(window).width();\r\n            const wh = $(window).height();\r\n       \t\tconst top = this.$field.offset().top + this.$field.outerHeight()\r\n            , left = this.$field.offset().left\r\n            , right = left > ( ww / 2 ) ? ( ww - left - this.$field.outerWidth() ) : false\r\n            , maxheight = wh - top - 20\r\n       \t\tcontextList.top = top\r\n       \t\tcontextList.left = left\r\n       \t\tcontextList.right = right\r\n       \t\tcontextList.maxheight = maxheight\r\n            if (!event || !$.contains (event.target,this.$field[0]))return\r\n            const inView= isScrolledIntoView(this.$field,$(event.target))\r\n            if ( !inView )\r\n                $(this.$refs.contextList).removeClass('shown') //hide()\r\n            else \r\n                $(this.$refs.contextList).addClass('shown') //.show()\r\n\r\n            function isScrolledIntoView($elem,$container) {\r\n                var docViewTop = $container.offset().top //$container.scrollTop();\r\n                var docViewBottom = docViewTop + $container.height();\r\n\r\n                var elemTop = $elem.offset().top;\r\n                var elemBottom = elemTop + $elem.height();\r\n\r\n                return ((elemBottom <= docViewBottom) && (elemTop >= docViewTop));\r\n            }\r\n            \r\n        },\r\n        closeContext() {\r\n            this.contextListFocused = false\r\n            return\r\n            const $aux = $('#contextList_auxiliar')\r\n            const $list = $(contextList.$refs.contextList).removeClass('shown').detach()\r\n            $('body').append($list)\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./context-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./context-list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./context-list.vue?vue&type=template&id=40fe05ac&\"\nimport script from \"./context-list.vue?vue&type=script&lang=js&\"\nexport * from \"./context-list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ly',{attrs:{\"flexbox\":\"1\"}},_vm._l((_vm.buttons),function(button){return _c('ly',[_c('button',{staticClass:\"btn btn-primary btn-xs\",staticStyle:{\"border\":\"none\",\"outline\":\"none\"},attrs:{\"disabled\":button.disabled,\"title\":button.title,\"data-help-code\":button.helpCode,\"value\":button.label},domProps:{\"innerHTML\":_vm._s(button.label)},on:{\"click\":function($event){return _vm.onClick(button)}}})])}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.itemClasses},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div :class=\"itemClasses\">\r\n    <slot>\r\n    </slot>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props:['grow','overflow','breakHeight','flexbox','column','height','shrink','wrap'],\r\n  computed: {\r\n    isContainer () {\r\n      return this.flexbox\r\n    },\r\n    baseClassName () {\r\n      return this.isContainer ? 'LyBox' : 'LyItem'\r\n    },\r\n    itemClasses: function () {\r\n      const baseClassName = this.baseClassName\r\n      , clases = {\r\n        [baseClassName]: 1, \r\n        [baseClassName+'-grow']: this.grow, \r\n        [baseClassName+'-overflow']: this.overflow, \r\n        [baseClassName+'-breakHeight']: this.breakHeight,\r\n        [baseClassName+'-column']: this.column,\r\n        [baseClassName+'-height']: this.height,\r\n        [baseClassName+'-shrink']: this.shrink,\r\n        [baseClassName+'-wrap']: this.wrap\r\n      }\r\n      return clases\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./layout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./layout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./layout.vue?vue&type=template&id=db7441a6&\"\nimport script from \"./layout.vue?vue&type=script&lang=js&\"\nexport * from \"./layout.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <ly flexbox=1>\r\n        <ly v-for=\"button of buttons\" ><button :disabled=\"button.disabled\" @click=\"onClick(button)\" class=\"btn btn-primary btn-xs\" :title=\"button.title\" :data-help-code=\"button.helpCode\" :value=\"button.label\" v-html=\"button.label\" style=\"border:none;outline:none\"></button></ly>\r\n    </ly>\r\n</template>\r\n\r\n<script>\r\nimport Ly from './layout.vue'\r\n\r\nexport default {\r\n  props: {\r\n      buttons: {\r\n          type: Array,\r\n          required: true\r\n      }\r\n  },\r\n  methods: {\r\n      onClick (button) {\r\n        button.onClick(button.label)\r\n      }\r\n  },\r\n  components: { Ly }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    .btn-primary {\r\n        background: #e9e9e9;\r\n        background: transparent;\r\n        border: 0px solid #ddd;\r\n        //border-width: 0 0 0 1px;\r\n        color: #333;\r\n        border-radius: 0;\r\n        min-width:20px;\r\n        min-height:20px;\r\n        height: 24px;\r\n        //box-shadow: 0 -0px 1px #ddd ;\r\n        margin: 0 2px;\r\n        cursor:default;\r\n    }\r\n    .btn-primary:last-child {\r\n        //border-right-width: 1px;\r\n    }\r\n    .btn-primary[disabled] {\r\n        cursor:no-drop;\r\n        background: transparent;\r\n        border: 0px solid #ddd;\r\n    }\r\n    .btn-primary:active {\r\n        background: transparent;\r\n        box-shadow:none;\r\n        //zoom:0.9;\r\n        border: 0px solid transparent;\r\n    }\r\n \r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tool-bar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tool-bar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tool-bar.vue?vue&type=template&id=4919e585&scoped=true&\"\nimport script from \"./tool-bar.vue?vue&type=script&lang=js&\"\nexport * from \"./tool-bar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tool-bar.vue?vue&type=style&index=0&id=4919e585&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4919e585\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Ly',{attrs:{\"data-component\":\"Containers\",\"height\":\"1\",\"flexbox\":\"1\"}},_vm._l((_vm.containers),function(container){return _c('Ly',{style:(_vm.containerWidth),attrs:{\"grow\":\"1\",\"height\":\"1\",\"data-overflow\":_vm.containerType(container)}},[_c('Ly',{attrs:{\"flexbox\":\"1\",\"column\":\"1\",\"height\":\"1\"}},[_c('Ly',{staticStyle:{\"padding\":\"0 0 0px 0px\",\"border-bottom\":\"1px solid #999\"},attrs:{\"flexbox\":\"1\"}},_vm._l((_vm.toolbarButtons(container)),function(boton,index){return _c('div',{class:{pestanaVentana:true,pestanaVentanaSelected:(_vm.visibleVentanas ( container ).indexOf(index)!=-1)},on:{\"click\":boton.onClick}},[_c('div',{staticClass:\"botonLabel\",attrs:{\"contenteditable\":\"false\"},on:{\"dblclick\":function($event){return _vm.editWindowName($event.target,index)},\"blur\":function($event){return _vm.saveWindowName($event.target,index)}}},[_vm._v(_vm._s(boton.label))]),(boton.label!='+')?_c('div',{staticClass:\"close closeButton\",staticStyle:{\"cursor\":\"default\"},on:{\"click\":function($event){$event.stopPropagation();return boton.onClose($event)}}}):_vm._e()])}),0),_c('Ly',{staticStyle:{\"position\":\"relative\"},attrs:{\"grow\":\"1\",\"height\":\"1\",\"overflow\":_vm.containerType(container)}},_vm._l(((_vm.ventanasDelContainer(container))),function(ventana){return _c('Ventana',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.visibleVentanas ( container ).indexOf(ventana.index)!=-2),expression:\"visibleVentanas ( container ).indexOf(ventana.index)!=-2\"}],key:ventana.index,staticClass:\"window-container\",style:(_vm.styleVentana(container,_vm.visibleVentanas ( container ).indexOf(ventana.index)!=-1)),attrs:{\"visible\":_vm.selectedIndex==ventana.index,\"ventana\":ventana,\"isInline\":_vm.isInlineContainer(container),\"index\":ventana.index,\"switchVentana\":_vm.onButtonClick,\"panels\":_vm.panels},on:{\"panelSwitch\":_vm.panelSwitch}})}),1)],1)],1)}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Ly',{ref:\"Ventana\",staticStyle:{},attrs:{\"flexbox\":\"1\",\"column\":\"1\",\"grow\":\"1\",\"height\":\"1\",\"data-component\":\"Ventana\",\"data-layout\":_vm.isInline?'inline':'default'}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.admin),expression:\"admin\"}],staticStyle:{\"width\":\"100%\",\"padding\":\"5px 5px\"}},[_c('div',{staticClass:\"toolbar-box\"},[_c('div',{staticClass:\"toolbar-box-title\"},[_vm._v(\"Navegación\")]),(_vm.parentTablesWindows.length)?_c('select',{ref:\"parentTable\",staticClass:\"form-control\",staticStyle:{\"display\":\"inline\",\"width\":\"auto\",\"font-size\":\"11px\",\"margin-top\":\"2px\"},attrs:{\"data-help-code\":\"ventana-toolbar-parents\"},on:{\"change\":function($event){return _vm.injectParent()}}},[_c('option',[_vm._v(\"Padres...\")]),_vm._l((_vm.parentTablesWindows),function(tab){return _c('option',{domProps:{\"value\":tab.index}},[_vm._v(_vm._s(tab.name))])})],2):_vm._e(),(_vm.childTablesWindows.length)?_c('select',{ref:\"childTable\",staticClass:\"form-control\",staticStyle:{\"display\":\"inline\",\"width\":\"auto\",\"font-size\":\"11px\"},attrs:{\"data-help-code\":\"ventana-toolbar-childs\"},on:{\"change\":function($event){return _vm.injectChild()}}},[_c('option',[_vm._v(\"Hijos...\")]),_vm._l((_vm.childTablesWindows),function(tab){return _c('option',{domProps:{\"value\":tab.index}},[_vm._v(_vm._s(tab.name))])})],2):_vm._e()]),_c('div',{staticClass:\"toolbar-box\"},[_c('div',{staticClass:\"toolbar-box-title\"},[_vm._v(\"Tabla Principal\")]),_c('select',{staticClass:\"form-control\",staticStyle:{\"display\":\"inline\",\"width\":\"auto\",\"font-size\":\"11px\",\"margin-bottom\":\"-2px\",\"margin-top\":\"1px\"},on:{\"change\":function($event){return _vm.tableChange($event)}}},_vm._l((_vm.availableTables),function(table){return _c('option',{domProps:{\"value\":table[0],\"selected\":table[0]==_vm.ventana.data.table?'selected':''}},[_vm._v(_vm._s(table[1].table_alias))])}),0)]),_c('div',{staticClass:\"toolbar-box\"},[_c('div',{staticClass:\"toolbar-box-title\"},[_vm._v(\"Paneles\")]),_c('Toolbar',{staticStyle:{\"width\":\"auto\",\"float\":\"left\",\"margin\":\"0px 0 -2px 3px\"},attrs:{\"buttons\":_vm.buttons2}})],1),_c('div',{staticClass:\"toolbar-box\"},[_c('div',{staticClass:\"toolbar-box-title\"},[_vm._v(\"Archivo de Configuración\")]),_c('select',{ref:\"configFileSelect\",staticClass:\"form-control\",staticStyle:{\"display\":\"inline\",\"width\":\"auto\",\"font-size\":\"11px\",\"margin-bottom\":\"-2px\",\"margin-top\":\"1px\",\"float\":\"left\"},attrs:{\"id\":\"configFileSelect\"}},[_c('option',{attrs:{\"value\":\"\"}},[_vm._v(\"Archvos de Config...\")]),_vm._l((_vm.configFilesList),function(fn){return _c('option',{domProps:{\"value\":fn,\"selected\":fn==_vm.api.parsedSearch.reset}},[_vm._v(_vm._s(fn))])})],2),_c('Toolbar',{staticStyle:{\"width\":\"auto\",\"float\":\"left\",\"margin\":\"0px 0 -2px 3px\"},attrs:{\"buttons\":_vm.buttons}})],1),_c('div',{staticClass:\"toolbar-box\"},[_c('div',{staticClass:\"toolbar-box-title\"},[_vm._v(\"Salir\")]),_c('button',{on:{\"click\":function($event){return _vm.logout()}}},[_vm._v(\"SALIR\")])])]),_c('div',{staticStyle:{\"display\":\"flex\",\"flex-grow\":\"1\",\"height\":\"calc(100% - 0px)\",\"max-height\":\"calc(100% - 50px)\",\"position\":\"relative\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.panels.form&&_vm.admin),expression:\"panels.form&&admin\"}],ref:\"Formulario\",staticClass:\"panel-envelope\",staticStyle:{\"height\":\"100%\",\"border\":\"0px solid red\"}},[_c('Formulario',{staticStyle:{\"min-width\":\"150px\",\"background\":\"#f4f4f4\",\"padding\":\"0px\"},attrs:{\"item\":_vm.form.data,\"onFilter\":_vm.formFilter,\"overflow\":_vm.overflow,\"keysSettings\":_vm.keysSettings,\"ventanaIndex\":_vm.evaluatedVentana.index,\"ventanaTable\":_vm.evaluatedVentana.data.table,\"fields\":_vm.evaluatedFieldsOfVentana.fields,\"visible\":_vm.visible}})],1),_c('Ly',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.list),expression:\"list\"}],staticClass:\"slots panel-envelope\",staticStyle:{\"flex-grow\":\"1\"},attrs:{\"grow\":\"1\",\"breakHeight\":\"1\",\"shrink\":\"1\"}},[_c('Listado',{ref:\"listado\",staticStyle:{\"background\":\"#f4f4f4\",\"padding\":\"5px\",\"box-sizing\":\"border-box\"},attrs:{\"rows\":_vm.ventana.data.list.data,\"ventana\":_vm.evaluatedVentana,\"filter\":_vm.formFilterState.data,\"overflow\":_vm.overflow,\"formSetValues\":_vm.formSetValues,\"keysSettings\":_vm.keysSettings},on:{\"rowClick\":_vm.rowClick}})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Ly',{staticStyle:{\"border\":\"0 solid #ddd\",\"border-width\":\"0 0px 0 0\"},attrs:{\"flexbox\":\"1\",\"column\":\"1\",\"height\":\"1\",\"data-component\":\"Formulario\"}},[_c('div',{class:{'star-row-favorited':_vm.verSoloFavoritos},staticStyle:{\"display\":\"flex\",\"flex-wrap\":\"nowrap\"}},[_c('div',{staticClass:\"star-row\",staticStyle:{\"width\":\"25px\",\"padding-top\":\"3px\",\"zoom\":\"0.9\"},on:{\"click\":function($event){_vm.verSoloFavoritos=!_vm.verSoloFavoritos}}},[_c('div',{staticStyle:{\"margin-top\":\"2px\"}},[_c('img',{staticClass:\"full-star\",attrs:{\"src\":\"images/filled-star.svg\"}}),_c('img',{staticClass:\"empty-star\",attrs:{\"src\":\"images/empty-star.svg\"}})])]),_c('div',{staticStyle:{\"width\":\"12px\",\"margin-top\":\"4px\"}},[_c('input',{attrs:{\"type\":\"checkbox\",\"data-help-code\":\"campos-ruta-mostrar\"},domProps:{\"checked\":_vm.showPath},on:{\"click\":function($event){_vm.showPath=$event.target.checked}}})]),_c('div',{staticStyle:{\"padding\":\"3px\",\"margin-left\":\"0px\",\"width\":\"calc(100% - 15px)\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter),expression:\"filter\"}],staticClass:\"form-control\",attrs:{\"placeholder\":\"Buscar...\"},domProps:{\"value\":(_vm.filter)},on:{\"focus\":function($event){return $event.target.select()},\"input\":function($event){if($event.target.composing){ return; }_vm.filter=$event.target.value}}})])]),_c('div',{staticStyle:{\"position\":\"relative\",\"left\":\"calc(100% - 50px)\",\"top\":\"-20px\",\"height\":\"0\",\"overflow\":\"visible\",\"font-size\":\"9px\",\"color\":\"gray\"}},[_vm._v(_vm._s(_vm.shownNumber)+\" / \"+_vm._s(Object.keys(_vm.formState.editorData).length))]),_c('div',{staticClass:\"LyItem LyItem-grow LyItem-overflow\",staticStyle:{\"padding\":\"0\"},on:{\"scroll\":function($event){return _vm.positionContext($event)}}},[_c('GridFields',{ref:\"gridfields\",attrs:{\"objeto\":_vm.formState.editorData,\"fields\":_vm.fields,\"data-component\":\"Formulario\",\"indexVentana\":_vm.ventanaIndex,\"filter\":_vm.filterForGrid,\"showFields\":_vm.showFields,\"showPath\":_vm.showPath,\"verSoloFavoritos\":_vm.verSoloFavoritos,\"visible\":_vm.visible},on:{\"change\":_vm.formChange,\"clickLabel\":_vm.clickLabel,\"focusField\":_vm.focusField,\"filter\":_vm.updateShownNumber,\"addField\":_vm.addField}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('table',{ref:\"tabla\"},_vm._l((_vm.shallowFields),function(campo,index){return _c('tr',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.fieldsWithFilter[index].inFilter && (!_vm.verSoloFavoritos || _vm.fieldsMap[_vm.fields[index].field_full_name].favorite)),expression:\"fieldsWithFilter[index].inFilter && (!verSoloFavoritos || fieldsMap[fields[index].field_full_name].favorite)\"}],key:index,class:{'star-row-favorited':_vm.fieldsMap[_vm.fields[index].field_full_name].favorite},staticStyle:{\"display\":\"block\",\"margin-bottom\":\"2px\"},on:{\"click\":function($event){return _vm.addField($event,campo,_vm.tab)}}},[_c('td',{staticClass:\"star-row\",staticStyle:{\"margin-top\":\"-2px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.favorite(campo,index)}}},[_c('img',{staticClass:\"full-star\",attrs:{\"src\":\"images/filled-star.svg\"}}),_c('img',{staticClass:\"empty-star\",attrs:{\"src\":\"images/empty-star.svg\"}})]),(_vm.showPath)?_c('td',{staticClass:\"highlight-text\"},[_vm._v(_vm._s(_vm.fields[index].table_alias))]):_vm._e(),_c('td',{staticClass:\"highlight-text highlight-text-strong\",domProps:{\"innerHTML\":_vm._s(_vm.fields[index].label)},on:{\"dblclick\":function($event){return _vm.editFieldName($event.target)},\"blur\":function($event){return _vm.saveFieldName($event.target,campo)}}})])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <table ref=\"tabla\">\r\n        <tr v-for=\"(campo, index) in shallowFields\" v-show=\"fieldsWithFilter[index].inFilter && (!verSoloFavoritos || fieldsMap[fields[index].field_full_name].favorite)\" :key=\"index\" @click=\"addField($event,campo,tab)\"  :class=\"{'star-row-favorited':fieldsMap[fields[index].field_full_name].favorite}\" style=\"display:block;margin-bottom:2px\">\r\n            <td class=\"star-row\" @click.stop=\"favorite(campo,index)\" style=\"margin-top:-2px\">\r\n                <img src=\"images/filled-star.svg\" class=\"full-star\" style=\"\">\r\n                <img src=\"images/empty-star.svg\" class=\"empty-star\" style=\"\">\r\n            </td>\r\n            <td v-if =\"showPath\" class=\"highlight-text\">{{fields[index].table_alias}}</td>\r\n            <td @dblclick=\"editFieldName($event.target)\" @blur=\"saveFieldName($event.target,campo)\" v-html=\"fields[index].label\"  class=\"highlight-text highlight-text-strong\" style=\"\"></td>\r\n        </tr>\r\n    </table>\r\n</template>\r\n\r\n<script>\r\n//import Vue from 'vue'\r\n//import $ from 'jquery'\r\n//import {objeto,JSON.cc,select} from '../helpers.js'\r\n//import autosizeTextarea  from './autosize-textarea.vue'\r\n//Vue.use(VueAutosize)\r\nexport default {\r\n    components: {  },\r\n    props: {\r\n        objeto: {\r\n            type: Object,\r\n            required: true\r\n        }, \r\n        branchs: Array,\r\n        lists: Array,\r\n        filter: String,\r\n        showFields: Boolean,\r\n        showPath: Boolean,\r\n        indexVentana: Number,\r\n        verSoloFavoritos: Boolean,\r\n        fields: Array,\r\n        visible: Boolean\r\n    },\r\n    data: function () {\r\n        /*\r\n                const obj = JSON.cc(this.item)\r\n                Object.keys( obj ).forEach ( key => {\r\n                    const val = obj[key]\r\n                    console.log(typeof val+val)\r\n                    if ( typeof val==\"object\" ) obj[key] = \"\"\r\n                })\r\n                */\r\n        return {\r\n            tab: \"main\",\r\n            validations: {\r\n                label: ( val ) => {\r\n                    return true\r\n                }\r\n            },\r\n            fieldsMap: JSON.cc(this.$store.state.fieldsMap)\r\n            \r\n        }\r\n    },\r\n    watch:{\r\n        \r\n        visible: function (val, oldVal ) { \r\n            if ( val ) this.fieldsMap = JSON.cc(this.$store.state.fieldsMap)\r\n        }\r\n        \r\n    },\r\n    computed : {\r\n        fieldsWithFilter () {\r\n            if ( ! this.fields ) return []\r\n            let contador = 0\r\n            this.fields.forEach ( field => {\r\n                if ( this.inFilter ( field ) ) {\r\n                    if ( ! this.verSoloFavoritos || field.favorite ) contador++\r\n                    field.inFilter = 1\r\n                } else {\r\n                    field.inFilter = 0\r\n                }\r\n                //field.name = \r\n            })\r\n            const fieldsWithFilter = this.fields // JSON.cc ( this.fields )\r\n            this.$emit('filter',contador)\r\n            return fieldsWithFilter \r\n\r\n        },\r\n        /*\r\n        fieldsMap () {\r\n            //alert('b')\r\n            return this.$store.state.fieldsMap\r\n        },\r\n        */\r\n        shallowFields () {\r\n            //if ( ! this.visible  ) return []\r\n            const obj = this.objeto\r\n            const shallowKeys = Object.keys(obj).filter ( key => ( obj[key] == null || typeof obj[key] != 'object' || this.listFor(key) ) )\r\n            const shallowFields = shallowKeys.map ( key => {\r\n                const value = JSON.cc(obj[key])\r\n                , name = key\r\n                , type = this.fieldType (key)\r\n                , text = this.listTextForValue ( value , key )\r\n                return ({ name, value, type, text })\r\n            } )//Object.keys(this.objeto).filter ( campo => ( typeof campo[this.valueKeyName] != 'object' || this.isList(campo) ) )\r\n            return shallowFields\r\n            //return [shallowFields[0]]\r\n        }\r\n    },\r\n    methods: {\r\n        addField (event,campo,tab) {\r\n//            const campoKey = campo.name\r\n            const formState = this.objeto//JSON.cc(this.objeto)\r\n            Object.keys(formState).forEach ( key => {\r\n                formState[key] = ''\r\n            })\r\n            //this.$emit('change',JSON.cc(formState))\r\n            const index = this.assignModel({target:{value:\"%\"}},campo,tab)\r\n            //console.log(campo)\r\n            //console.log(campoKey)\r\n            \r\n            this.$emit('addField',index)\r\n        },\r\n        assignModel ( event, campo, tab ) {\r\n            const val = event.target.value\r\n            if ( ! this.isContentValid ( val, campo, tab ) ) {\r\n                alert ('El contenido del campo no es valido.')\r\n                return false;\r\n            }\r\n            const value = campo.type == 'multiple' ? new select(val).getValues() : val\r\n            const key = campo.name\r\n            , model = { [key]: value }\r\n            , formState = JSON.cc(this.objeto) // this.objeto // this.branch(tab) \r\n            Object.assign ( formState , model )\r\n            let index = -1\r\n            Object.keys(formState).forEach ( ( fkey, i ) => {\r\n                const val = formState[fkey]\r\n                formState[fkey] = { value: val, text: this.listTextForValue(val,key)}\r\n                if ( key == fkey ) index = i\r\n            })\r\n            return index\r\n            //log(formState)\r\n            //this.utils.setTextareaHeight(event.target)\r\n            this.$emit('change',formState)\r\n            window.contextList.positionContext()\r\n        },\r\n        saveFieldName(target,key){\r\n            this.$store.commit ( 'database_setLiteral' , {key,literal:$(target).text()} )\r\n            $(target).attr('contenteditable',false)\r\n        },\r\n        editFieldName(target){\r\n            $(target).attr('contenteditable',true).focus()\r\n        },\r\n        focusTextField(event,campo){\r\n           if ( event.target.value=='' ) this.objeto[campo.name]='%'\r\n           event.target.select()\r\n           this.utils.setTextareaHeight(event.target)\r\n            this.$emit('focusField',$(event.currentTarget))\r\n        },\r\n        labelClick (event) {\r\n            return false // desactivo esta funcionalidad de momento para no confundir (es la de anidar vistas)\r\n            const $field = $(event.currentTarget).parent()\r\n            this.$emit('clickLabel',$field)\r\n            //console.log($field[0])\r\n        },\r\n        inFilter(campo) {\r\n            if ( !this.filter || this.filter == \"\" ) return true\r\n            const re = new RegExp ( this.filter.toLowerCase(), 'gi' )\r\n            , matches = campo.label.toLowerCase().match (re)\r\n            , matches2 = campo.label.toLowerCase().match (re)\r\n            , inFilter = ( matches != null || matches2 != null )\r\n            return inFilter\r\n        },\r\n        elementStyle(campo) {\r\n            if ( !this.keysSettings ) return {}\r\n            const keySetting = this.keysSettings[campo.name]\r\n            const readOnly = keySetting ? keySetting.readOnly : false\r\n            , zindex = readOnly ? {\"z-index\" : -1} : {}\r\n            return zindex\r\n        },\r\n         isContentValid ( val, campo, tab ) {\r\n            //return true\r\n            const fieldValidation = this.fieldValidation ( campo, tab )\r\n            , isValid = fieldValidation ? fieldValidation ( val ) : true\r\n            return isValid\r\n        },\r\n        branch ( tab ) {\r\n            if ( tab == 'main' ) {\r\n                return this.objeto\r\n            } else {\r\n                return this.objeto[tab]\r\n            }\r\n        },\r\n        fieldType ( key ) {\r\n            const list = this.listFor ( key )\r\n            if ( list ) { return list.multiple ? 'multiple' : 'textarea' } // Me salto mi mecanismo de listas convencionales para trabajar con las nuevas multiselec. if ( list ) { return list.multiple ? 'multiple' : 'select' }\r\n            if ( typeof this.objeto[key] == 'boolean' ) return 'boolean'\r\n            return 'textarea'\r\n        },\r\n        listTextForValue ( val, key ) {\r\n            const list = this.listFor ( key )\r\n            if ( ! list || ! list.values || ! list.values.filter ) return val\r\n            const textArr = list.values.filter ( pair => pair[0] == val )[0]\r\n            const text = textArr ? textArr[1] : false\r\n            //val = typeof val == 'string' ? val : val[1]\r\n            //log(text)\r\n            return text\r\n        },\r\n        listFor ( key ) {\r\n            if ( ! this.keysSettings ) return false\r\n            const keySettings =  this.keysSettings[key]//.filter ( list => list.key == key )[0]\r\n            , keyList = keySettings ? keySettings.list : false\r\n             //console.log( JSON.cc(keyList))\r\n           if ( ! keyList || ! keyList.values.length ) return false\r\n            return keyList\r\n        },\r\n        listOptions ( campo ) {\r\n            const keyName = campo.name\r\n            , options = this.keysSettings[keyName].list.values\r\n            return options\r\n        },\r\n        listFor_old ( key ) {\r\n            if ( ! this.lists ) return false\r\n            const list =  this.lists.filter ( list => list.key == key )[0]\r\n           if ( ! list ) return false\r\n            return list\r\n        },\r\n        listOptions_old ( campo ) {\r\n            const keyName = campo.name\r\n            , options = this.lists.filter ( list => list.key == keyName )[0].values\r\n            return options\r\n        },\r\n        fieldValidation ( campo, tabName ) {\r\n            let validation = false\r\n            if ( tabName == 'main' ) tabName = undefined\r\n            if ( ! tabName ) {\r\n                try {\r\n                    validation = this.validations[campo.name]\r\n                } catch(err) {}\r\n            } else {\r\n                try {\r\n                    validation = this.validations[tabName][campo.name]\r\n                } catch(err) {}\r\n            }\r\n            return validation\r\n        },\r\n        favorite ( campo, index ) {\r\n            let fieldConfig = JSON.cc(this.fields[index])\r\n            this.fieldsMap[fieldConfig.field_full_name].favorite = this.fieldsMap[fieldConfig.field_full_name].favorite ? 0 : 1\r\n            this.$store.commit ( 'set_favoriteToField', fieldConfig )\r\n            //debugger\r\n            //window.commit ( 'set_favoriteToField', { tableKeyName: fieldConfig.table_config_keyname, fieldName: fieldConfig.column_name } )\r\n        }\r\n    }\r\n    , beforeUpdate(){\r\n        //console.time('gridFieldsRender'+this.indexVentana)\r\n    }\r\n    , updated() {\r\n        //console.timeEnd('gridFieldsRender'+this.indexVentana)\r\n    },\r\n    mounted() {\r\n        //this.setFilteredFields()\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n    .LyItem {\r\n        padding: 2px;\r\n    }\r\n    label {\r\n        font-weight: normal;\r\n        margin:0;\r\n        padding:0 0 1px 0;\r\n        color: #666;\r\n    }\r\n    input,select,textarea {\r\n        font-size:11px;\r\n        box-shadow: none;\r\n        border-radius: 2px;\r\n        //background: #f8f8f8;\r\n    }\r\n    /*\r\n    */\r\n</style>    ","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./grid-fields.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./grid-fields.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./grid-fields.vue?vue&type=template&id=48de9c34&scoped=true&\"\nimport script from \"./grid-fields.vue?vue&type=script&lang=js&\"\nexport * from \"./grid-fields.vue?vue&type=script&lang=js&\"\nimport style0 from \"./grid-fields.vue?vue&type=style&index=0&id=48de9c34&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"48de9c34\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    \r\n    <Ly flexbox=1 column=1 height=1 data-component=\"Formulario\" style=\"border:0 solid #ddd;border-width:0 0px 0 0;\" >\r\n\r\n        <!-- CAPA EMERGENTE X ARRIBA. INUTILIZADA PERGO GUARDA POR SI ACASO.\r\n        <div style=\"width:250px;height:30px;min-height:32px;padding:4px 4px 0 4px;border:0 solid #ddd;border-width: 0 0 0px 0\" ref=\"Formulario\">\r\n            <Toolbar :buttons=\"buttons\" style=\"float:left\"/>\r\n            <input type=\"checkbox\" style=\"float:left\" :checked=\"showFields\" @click=\"showFields=$event.target.checked\">\r\n            <div style=\"float:left;margin-top:2px\">&nbsp;Campos&nbsp;&nbsp;</div>\r\n        </div>\r\n        <div style=\"width:100%; text-align:center;cursor:pointer\" @click=\"showToolbar=!showToolbar\" class=\"\"><svg version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\t width=\"292.362px\" height=\"292.362px\" viewBox=\"0 0 292.362 292.362\" style=\"enable-background:new 0 0 292.362 292.362;zoom:0.7\"\t xml:space=\"preserve\"><g>\t<path style=\"cursor:pointer\" d=\"M286.935,69.377c-3.614-3.617-7.898-5.424-12.848-5.424H18.274c-4.952,0-9.233,1.807-12.85,5.424\t\tC1.807,72.998,0,77.279,0,82.228c0,4.948,1.807,9.229,5.424,12.847l127.907,127.907c3.621,3.617,7.902,5.428,12.85,5.428\t\ts9.233-1.811,12.847-5.428L286.935,95.074c3.613-3.617,5.427-7.898,5.427-12.847C292.362,77.279,290.548,72.998,286.935,69.377z\"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg></div>\r\n        -->\r\n        <div style=\"display:flex; flex-wrap: nowrap;\"  :class=\"{'star-row-favorited':verSoloFavoritos}\">\r\n            <div style=\"width: 25px;padding-top:3px;zoom:0.9\" @click=\"verSoloFavoritos=!verSoloFavoritos\" class=\"star-row\">\r\n                <div style=\"margin-top:2px\">\r\n                            <img src=\"images/filled-star.svg\" class=\"full-star\" style=\"\">\r\n                            <img src=\"images/empty-star.svg\" class=\"empty-star\" style=\"\">\r\n                </div>\r\n            </div>\r\n            <div style=\"width:12px;margin-top:4px\">\r\n                <input type=\"checkbox\" style=\"\" :checked=\"showPath\" @click=\"showPath=$event.target.checked\" data-help-code=\"campos-ruta-mostrar\">\r\n                <!--<div style=\"float:left;margin-top:2px\">&nbsp;Rutas&nbsp;</div>-->\r\n            </div>\r\n            <div style=\"padding:3px;background:;margin-left: 0px; width: calc(100% - 15px)\"><input v-model=\"filter\" class=\"form-control\" placeholder=\"Buscar...\" @focus=\"$event.target.select()\"></div>\r\n        </div>\r\n        <div style=\"position:relative;left:calc(100% - 50px);top:-20px;height:0;overflow:visible;font-size:9px;color:gray\">{{shownNumber}} / {{Object.keys(formState.editorData).length}}</div>\r\n        <div class=\"LyItem LyItem-grow LyItem-overflow\" @scroll=\"positionContext($event)\" style=\"background:; padding:0\">\r\n            <GridFields \r\n                :objeto=\"formState.editorData\" \r\n                :fields=\"fields\"\r\n                data-component=\"Formulario\" \r\n                v-on:change=\"formChange\" \r\n                v-on:clickLabel=\"clickLabel\"\r\n                v-on:focusField=\"focusField\"\r\n                v-on:filter=\"updateShownNumber\"\r\n                v-on:addField=\"addField\"\r\n                :indexVentana =\"ventanaIndex\"\r\n                :filter=\"filterForGrid\" \r\n                :showFields=\"showFields\"\r\n                :showPath=\"showPath\"\r\n                :verSoloFavoritos=\"verSoloFavoritos\"\r\n                :visible=\"visible\"\r\n                ref=\"gridfields\"\r\n            />\r\n        </div>\r\n    </Ly>\r\n\r\n\r\n</template>\r\n\r\n<script>\r\nimport Ly from './layout.vue'\r\nimport Toolbar from './tool-bar.vue'\r\nimport GridFields from './grid-fields.vue'\r\nexport default {\r\n    components: { GridFields, Toolbar, Ly },\r\n    data: function () {\r\n        return {\r\n            showToolbar: false,\r\n            verSoloFavoritos: false,\r\n            buttons: [\r\n                /*\r\n                {\r\n                    label: \"Load\",\r\n                    onClick: this.loadFields\r\n                },\r\n                */\r\n                {\r\n                    label: `<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 44 44\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" enable-background=\"new 0 0 44 44\"><g><circle cx=\"20\" cy=\"20\" r=\"7\"></circle><path d=\"m22,0c-12.2,0-22,9.8-22,22s9.8,22 22,22 22-9.8 22-22-9.8-22-22-22zm12.7,33.3l-1.4,1.4c-0.4,0.4-1,0.4-1.4,0l-5.4-5.4c-0.2-0.2-0.4-0.2-0.6-0.1-1.7,1.1-3.7,1.7-5.9,1.7-6.1,0-11-4.9-11-11s4.9-11 11-11 11,4.9 11,11c0,2.2-0.6,4.2-1.7,5.9-0.1,0.2-0.1,0.5 0.1,0.6l5.4,5.4c0.3,0.5 0.3,1.1-0.1,1.5z\"></path></g></svg>`,\r\n                    onClick: this.filter,\r\n                    //title: \"Generar parámetros de filtrado con los valores introducidos\"\r\n                     helpCode: \"form-toolbar-filter\"\r\n                },\r\n                {\r\n                    label: `<svg version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 330.5 330.5\" style=\"enable-background:new 0 0 330.5 330.5;\" xml:space=\"preserve\"><path d=\"M178.3,136.6l16.4,16.4l69.7-69.7c2.3-2.3,3.4-5.2,3.4-8.2c0-3-1.1-5.9-3.4-8.2c-4.5-4.5-11.8-4.5-16.4,0L178.3,136.6z\t M172.3,140.2l-0.7-0.7l-12.4,12.4l-7.7,7.7l20.4,20.4l8.3-8.3l11.8-11.8l-0.9-0.9l-1.2-1.2l-16.4-16.4L172.3,140.2z M66.8,197.2\tc-0.1,0-0.2,0.1-0.3,0.1c-0.5,0.1-0.9,0.3-1.3,0.6l-0.2,0.1L65,198c-0.5,0.3-0.8,0.7-1.2,1.2c-0.3,0.5-0.6,1-0.8,1.6\tc-0.5,1.7-0.3,3.7,1.3,4.9c3.8,3,7.7,6,11.6,8.9l0.7-0.3l1.7-0.7L80,213l14.1-5.4l20.6-7.9l-14.3,16.6l-8,9.2l-1.1,1.3l-1.1,1.3\tl-1.1,1.3c0.8,0.3,1.6,0.4,2.5,0.2c0.5-0.1,1-0.3,1.6-0.5c0.1,0,0.1-0.1,0.2-0.1c0.6-0.3,1.1-0.5,1.7-0.7l3.3,3.3\tc0,0.8-0.1,1.5-0.1,2.3c-0.1,0.7-0.1,1.5-0.2,2.2c-0.1,1.1-0.3,2.2-0.6,3.3c-0.6,2.5,0.8,5.7,3.5,6.2c4.4,0.9,8,2.4,11.1,4.5\tc3.5,2.4,6.4,5.4,9.1,9.1c1.3,1.8,2.6,3.6,3.9,5.6c1,1.6,2.6,2.3,4.1,2.3c0.7,0,1.4-0.1,2-0.4c2.4-0.9,4.2-3.4,3.1-6.2l32.3-75.5\tl-20.2-20.2L66.8,197.2z M165.2,330.5L165.2,330.5C74,330.5,0,256.5,0,165.2v0C0,74,74,0,165.2,0h0c91.3,0,165.2,74,165.2,165.2v0\tC330.5,256.5,256.5,330.5,165.2,330.5z\"></path></svg>`,\r\n                    onClick: this.clean\r\n                    //,title: \"Vaciar formulario\"\r\n                    , helpCode: \"form-toolbar-clear\"\r\n                },\r\n                /*\r\n                ,{\r\n                    label: \"Set\",\r\n                    onClick: this.setQuery\r\n                }\r\n                */\r\n            ],\r\n            formState: {\r\n                data: (function(){\r\n                    return this.formStateData ( JSON.cc ( this.item ) )\r\n                }.bind(this))() \r\n                , editorData: this.item \r\n            },\r\n            filter: \"\"\r\n            , filterForGrid: \"\"\r\n            , shownNumber: 0\r\n            , focusedKeyName: \"\"\r\n            , showFields: false\r\n            , showPath: false\r\n        }\r\n    },\r\n    props: ['item','fields','onFilter','overflow','keysSettings','ventanaIndex','ventanaTable','visible'],\r\n    watch: {\r\n        item: function ( val, oldVal ) {\r\n            this.formState.editorData = val\r\n            this.formState.data = this.formStateData ( val )\r\n            //console.log('new item')\r\n        },\r\n        filter() {\r\n            if ( this.filterTimeout ) clearTimeout ( this.filterTimeout )\r\n            this.filterTimeout = setTimeout ( () => {\r\n                this.filterForGrid = this.filter\r\n            }, 300)\r\n        }\r\n    },\r\n    computed : {\r\n      },\r\n    mounted: function () {\r\n        const $form = $(this.$refs.Formulario)\r\n        $form.width($form.width())\r\n        /*\r\n        window.bus.$on('contextListChecked',function(checkedIds){\r\n            this.contextListCheckClick(checkedIds)\r\n        }.bind(this))\r\n        window.bus.$on('contextListClosed',function(){\r\n            this.focusedKeyName=\"\"\r\n        }.bind(this))\r\n        window.bus.$on('contextList:keyup',function(val){\r\n            this.contextListCheckClick(val)\r\n        }.bind(this))\r\n        */\r\n    },\r\n    updated: function() {\r\n        //console.log('updated')\r\n    },\r\n    methods: {\r\n        positionContext(event) {\r\n            window.contextList.positionContext(event)\r\n        },\r\n        contextListKeyUp ( val ) {\r\n            const formState = JSON.cc ( this.formState )\r\n            , key = this.focusedKeyName\r\n            formState.editorData[key] = val\r\n            formState.data[key] = { value: val, text: val }\r\n            this.formState = formState\r\n        },\r\n        contextListRowClick(row){\r\n            \r\n        },\r\n        contextListCheckClick(checkedRows){\r\n            const formState = JSON.cc ( this.formState )\r\n            , key = this.focusedKeyName\r\n            , checkedLiterals = JSON.stringify ( checkedRows.map ( row => row[Object.keys(row)[1]] ) )\r\n            formState.editorData[key] = checkedLiterals\r\n            formState.data[key] = { value: checkedLiterals, text: checkedLiterals }\r\n            this.formState = formState\r\n        },\r\n        updateShownNumber(n){\r\n            this.shownNumber=n\r\n        },\r\n        shownNumber_old() {\r\n            let shownNumber = 0\r\n            //console.log(this.$refs)\r\n            if ( this.$refs.gridfields )\r\n                shownNumber = this.$refs.gridfields.shownNumber\r\n            return shownNumber\r\n        },\r\n        clickLabel($field) {\r\n            const selectedQuery = this.$store.state.selectedQuery\r\n            , queryName = selectedQuery.name\r\n            , $input = $field.find('input').add($field.find('select'))\r\n            , fieldName = $field.find('label').text()\r\n            , value = \"{{\" + queryName + \"|\" + fieldName + \"}}\"\r\n            $input.val(value)\r\n            this.formState.editorData[fieldName] = value\r\n            this.formState.data[fieldName].text = value\r\n            this.formState.data[fieldName].value = value\r\n            /*\r\n            console.log(JSON.cc(this.formState.editorData))\r\n            */\r\n        },\r\n        focusField($field) {\r\n            const keyName = $field.attr('id')\r\n            , val = $field.val()\r\n            , type = this.utils.getBasicDataType (this.keysSettings[keyName].data_type)\r\n            this.focusedKeyName = keyName\r\n            window.contextList.openContext(keyName,$field,val,type,this.contextListCheckClick)\r\n        },\r\n        filterState () {\r\n            const formState = this.formState.data\r\n            , filterState = {}\r\n            //, dynamicListModels = {}\r\n            /*\r\n            Object.keys(listsModels).forEach ( key => {\r\n                const model = listsModels[key]\r\n                if ( ! model.length ) //No es un Array (modelo estático).\r\n                    dynamicListModels[key] = model\r\n            })\r\n            */\r\n            Object.keys(formState).forEach ( (key,index) => {\r\n                let value = ( typeof formState[key].value == 'string' || typeof formState[key].value == 'number' ) ? formState[key].value.toString() : ''\r\n                , data_type = ( this.keysSettings && this.keysSettings[key] ) ? this.keysSettings[key].data_type : null\r\n                , list = ( this.keysSettings && this.keysSettings[key] ) ? this.keysSettings[key].list : null\r\n                //, listModelName = lists[key]\r\n                , lm = this.api.getListModel(key)\r\n                , listModel = ( lm && lm.length )  ? ({values:lm}) : false\r\n                , text = formState[key].text\r\n                , regexp = new RegExp ( \"{{.*|.*}}\", \"gi\")\r\n                , matches = value.match ( regexp )\r\n                let vista = \"\"\r\n                , campo = \"\"\r\n                if ( matches != null ) {\r\n                    const codigo = matches[0].replace ( \"{{\" , \"\" ).replace ( \"}}\" , \"\" ).split ( \"|\" )\r\n                    vista = codigo[0]\r\n                    campo = codigo[1]\r\n                }\r\n                if ( listModel ) { // Me salto mi mecanismo de listas convencionales para trabajar con las nuevas multiselec.\r\n                    data_type = \"varchar\"\r\n                    text = value\r\n                }\r\n                if ( value && value != \"\" ) filterState[key] = { value, data_type, text, vista, campo, list:listModel, index }\r\n\r\n            })\r\n            //console.log(formState)\r\n            //console.log(JSON.cc(filterState))\r\n            return (filterState)\r\n        },\r\n        formStateData ( editorData ) {\r\n            let formData = {}\r\n            , item = JSON.cc ( editorData )\r\n            //console.log('item')\r\n            Object.keys(item).forEach ( key => {\r\n                const val = item[key]\r\n                formData[key] = { value: val, text: val }\r\n            })\r\n            //console.log(JSON.cc (formData))\r\n            return JSON.cc (formData)\r\n        },\r\n        setQuery () {\r\n            this.clean()\r\n            const actualFormState = this.formState.editorData\r\n            , query = this.$store.state.selectedQuery\r\n            , params = query.queryEditor.params\r\n            Object.keys(params).forEach ( key => {\r\n                const value = params[key].value\r\n                actualFormState[key] = value\r\n            } )\r\n            this.formState.data = this.formStateData (actualFormState)\r\n            //this.formState.editorData = actualFormState\r\n            //console.log(JSON.cc(actualFormState))\r\n        },\r\n        filter_old () {\r\n            //console.log(this.keysSettings)\r\n            this.onFilter(this.filterState())\r\n            this.clean()\r\n            //console.log(JSON.cc(this.filterState()))\r\n        },\r\n        clean () {\r\n            //console.log(this.keysSettings)\r\n            const item = this.formState.data\r\n            , blankedItem = {}\r\n            , blankedEditorItem = {}\r\n            //log(item)\r\n            Object.keys(item).forEach ( key => {\r\n                blankedItem[key] = { value: \"\", text: \"\" }\r\n                blankedEditorItem[key] = \"\"\r\n            })\r\n            const formState = JSON.cc ( this.formState )\r\n            formState.data = blankedItem\r\n            formState.editorData = blankedEditorItem\r\n            this.formState = formState\r\n        },\r\n        addField(index){\r\n            //const fs = JSON.cc(this.filterState())\r\n            //debugger\r\n            this.onFilter(index)\r\n            //this.onFilter ( campo )\r\n            //this.clean()\r\n        },\r\n        formChange(item) {\r\n            //console.log(item)\r\n            this.formState.data = item\r\n            window.contextList.closeContext()\r\n            //window.bus.$emit('contextListBlur')\r\n        },\r\n        loadFields () {\r\n            return\r\n            //log(this.items)\r\n            //console.log(fields)\r\n            getFieldsForTable ( this.ventanaTable, ( { fields, identities } ) => {\r\n                //console.log(JSON.cc(fields))\r\n                this.$store.commit ( 'Ventana_setFields', {indexVentana: this.ventanaIndex, fields, identities})\r\n            } )\r\n        }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n    input {\r\n        font-size:11px;\r\n        box-shadow: none;\r\n        border-radius: 2px;\r\n        background: white;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./formulario.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./formulario.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./formulario.vue?vue&type=template&id=598a9c74&scoped=true&\"\nimport script from \"./formulario.vue?vue&type=script&lang=js&\"\nexport * from \"./formulario.vue?vue&type=script&lang=js&\"\nimport style0 from \"./formulario.vue?vue&type=style&index=0&id=598a9c74&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"598a9c74\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Ly',{ref:\"listado\",staticClass:\"qe\",staticStyle:{\"padding\":\"0\"},attrs:{\"flexbox\":\"1\",\"column\":\"1\",\"grow\":\"1\",\"height\":\"1\",\"data-component\":\"Listado\"}},[_c('div',{staticStyle:{\"position\":\"absolute\",\"top\":\"0\",\"left\":\"0\",\"width\":\"5px\",\"height\":\"100vh\",\"background\":\"transparent\",\"z-index\":\"1000\"},on:{\"mouseover\":function($event){return _vm.showFormulario()}}}),_c('Series',{ref:\"popup\",attrs:{\"operation\":_vm.series.operation,\"fields\":_vm.series_parameters},on:{\"operate\":_vm.operate_serie}}),_c('div',{staticStyle:{\"width\":\"100%\",\"display\":\"block\",\"min-height\":\"40px\",\"padding\":\"0px 0\",\"background\":\"#f4f4f4\",\"margin\":\"0\"}},[_c('div',{ref:\"toolbar\",staticStyle:{\"float\":\"left\",\"display\":\"block\",\"padding\":\"0px\",\"width\":\"550px\"}},[_c('div',{staticClass:\"toolbar-box toolbar1\"},[_c('div',{staticClass:\"toolbar-box-title\",staticStyle:{\"margin-top\":\"-7px\"}}),_c('Toolbar',{staticStyle:{\"float\":\"left\"},attrs:{\"buttons\":_vm.admin?_vm.buttons:_vm.buttonsUser}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.admin),expression:\"admin\"}],staticClass:\"toolbar-box\"},[_c('div',{staticClass:\"toolbar-box-title\",staticStyle:{\"margin-top\":\"-7px\"}},[_vm._v(\"Vistas\")]),_c('Toolbar',{staticStyle:{\"float\":\"left\"},attrs:{\"buttons\":_vm.buttonsVistas}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.admin),expression:\"admin\"}],staticClass:\"toolbar-box\"},[_c('div',{staticClass:\"toolbar-box-title\",staticStyle:{\"margin-top\":\"-7px\"}},[_vm._v(\"Series\")]),_c('select',{staticClass:\"form-control\",staticStyle:{\"width\":\"auto\",\"margin-top\":\"-0px\",\"font-size\":\"11px\",\"float\":\"left\",\"margin-left\":\"10px\"},attrs:{\"data-help-code\":\"list-toolbar-series-operation\"},on:{\"change\":function($event){_vm.series.operation=$event.target.            value}}},[_c('option',{attrs:{\"value\":\"Sobreescribir\"}},[_vm._v(\"Sobreescribir\")]),_c('option',{attrs:{\"value\":\"Vaciar\"}},[_vm._v(\"Vaciar\")])]),_c('button',{staticClass:\"btn btn-primary btn-xs\",staticStyle:{\"background\":\"transparent\",\"border\":\"0\",\"float\":\"left\",\"outline\":\"none\",\"box-shadow\":\"none\"},attrs:{\"data-help-code\":\"list-toolbar-series-run\"},on:{\"click\":function($event){return _vm.open_serie($event)}}},[_c('svg',{staticStyle:{\"enable-background\":\"new 0 0 256 256\"},attrs:{\"version\":\"1.1\",\"id\":\"Capa_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"viewBox\":\"0 0 256 256\",\"xml:space\":\"preserve\"}},[_c('path',{attrs:{\"d\":\"M0,128C0,57.3,57.3,0,128,0s128,57.3,128,128s-57.3,128-128,128S0,198.7,0,128z M172.8,68.3c1.2-10.2-6.8-19.1-17.1-19.1\\n\\t\\t            \\t        \\tc-8.7,0-16.1,6.6-17.1,15.2c-0.5,4.6,0.8,9.1,3.6,12.7C151.6,88.9,171,83.6,172.8,68.3z M78.3,207.2c3.3-2.5,3.5-3.7,12.2-18.6\\n\\t\\t            \\t        \\tc0,0,0-0.1,0.1-0.1c0,0,0,0-0.1,0c4.5-7.7,10.5-18.2,19.1-32.7c0.7,0.4,14.2,6,19.9,9.7c-6.5,4-15.1,9.6-21.3,13.4\\n\\t\\t            \\t        \\tc-10,6-4.4,18.7,4.1,18c4.1-0.3,4.9-1.2,20.4-8.9c7.3-3.6,14.8-7.3,20.7-10.9c4.9-2.9,10.9-12.3,3.3-18.9L133.1,142\\n\\t\\t            \\t        \\tc5.9-11.3,11.6-21.7,17.4-31.8c19.8,5.7,40.1-0.7,55.2-21.7c5.7-7.9,1.2-15.2-5.1-15.2c-10.4,0-10.2,17.3-32.7,17.3\\n\\t\\t            \\t        \\tc-10.7,0-18.5-4.3-28.1-10C118,67.5,90,76.3,75.9,96.1c-8.5,11.8,4.5,22.6,12.8,11c7.8-10.9,17.6-15,29.1-12\\n\\t\\t            \\t        \\tc-5.2,9.1-52.1,97.7-52.8,99.3C59.9,204.8,71.5,212.3,78.3,207.2z\"}})])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.admin),expression:\"admin\"}],staticClass:\"toolbar-box\"},[_c('div',{staticClass:\"toolbar-box-title\",staticStyle:{\"margin-top\":\"-7px\"}},[_vm._v(\"Customm\")]),_vm._l((_vm.custom_buttons),function(boton){return _c('button',{staticClass:\"btn btn-primary btn-xs\",staticStyle:{\"background\":\"transparent\",\"border\":\"0\",\"float\":\"left\",\"outline\":\"none\",\"box-shadow\":\"none\"},attrs:{\"title\":boton.label,\"data-help-code\":\"\"},on:{\"click\":function($event){return _vm.custom_button_click(boton.onclick)}}},[_c('img',{staticStyle:{\"width\":\"21px\",\"opacity\":\"0.5\"},attrs:{\"src\":boton.image_src}})])})],2)]),_c('div',{staticStyle:{\"float\":\"right\",\"display\":\"block\"}},[_vm._v(_vm._s(_vm.grid.loadedRecsNumber)+\"/\"+_vm._s(_vm.grid.rowCount))])]),_c('div',{ref:\"qeContainer\",staticClass:\"bgqe\",staticStyle:{\"position\":\"relative\",\"border\":\"0 solid #ddd\",\"max-height\":\"80%\",\"border-width\":\"0px 0 1px 0\",\"margin-top\":\"5px\",\"margin-left\":\"-5px\",\"width\":\"calc(100% + 10px)\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show.queryEditor),expression:\"show.queryEditor\"}],staticStyle:{\"height\":\"100%\",\"overflow\":\"auto\",\"padding\":\"5px 0\",\"min-height\":\"47px\"}},[_c('Queryeditor',{ref:\"qe\",attrs:{\"params\":_vm.qeParams,\"dbID\":_vm.api.getTableConnectionId(_vm.ventana.data.table)},on:{\"paramUpdate\":_vm.qeParamUpdate,\"paramDelete\":_vm.paramDelete}})],1)]),_c('div',{class:{'computer-container':true, 'sorting':!_vm.grid.rows.length, 'computer-container-advanced': _vm.showAdvanced }},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.qeParams.length),expression:\"qeParams.length\"}],staticStyle:{\"width\":\"25px\",\"float\":\"left\",\"padding-top\":\"77px\",\"position\":\"relative\",\"z-index\":\"1\"}},[_c('button',{staticStyle:{\"border\":\"1px solid #ddd\",\"height\":\"23px\"},attrs:{\"data-help-Code\":\"show-advanced-params\"},on:{\"click\":function($event){return _vm.extendParams()}}},[_vm._v(\"+\")])]),_c('div',{ref:\"computer\",staticStyle:{\"display\":\"flex\",\"width\":\"\",\"padding\":\"0 0 0 25px\",\"position\":\"absolute\",\"white-space\":\"nowrap\",\"border\":\"0px solid #ccc\",\"border-top-width\":\"5px\"}},_vm._l((_vm.grid.columns.names),function(col,i){return (_vm.qeParams[i])?_c('div',{key:'cont_'+col.label,ref:'computed_'+col.label,refInFor:true,staticClass:\"header-cell\",attrs:{\"type\":_vm.getParam(i).basic_data_type,\"param\":JSON.stringify(_vm.getParam(i))}},[_c('div',{staticStyle:{\"display\":\"flex\",\"width\":\"100%\",\"flex-direction\":\"column\"}},[_c('div',{staticClass:\"cell-title\",staticStyle:{\"clear\":\"both\",\"float\":\"none\",\"font-weight\":\"normal\",\"padding\":\"4px 24px 4px 8px\",\"width\":\"100%\",\"background\":\"#898F99\",\"border-radius\":\"10px\",\"color\":\"white\",\"text-align\":\"center\"},attrs:{\"contenteditable\":\"true\",\"title\":\"Renómbralo haciendo doble click.\"},on:{\"dblclick\":function($event){return _vm.editAlias($event,i)},\"blur\":function($event){return _vm.saveAlias($event,i)}}},[_vm._v(\" \"+_vm._s(_vm.getParam(i).alias)+\" \")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.admin),expression:\"admin\"}],staticClass:\"close closeButton\",staticStyle:{\"float\":\"right\",\"margin-top\":\"-18px\",\"margin-bottom\":\"5px\",\"margin-left\":\"calc(100% - 18px)\",\"zoom\":\"1.1\"},attrs:{\"data-help-code\":\"search-parameter-close\"},on:{\"click\":function($event){return _vm.deleteParam(i)}}})]),_c('div',{staticStyle:{\"position\":\"relative\",\"border\":\"0px solid #ddd\",\"border-width\":\"0 0 0 0\",\"padding\":\"2px 4px 3px 5px\",\"white-space\":\"nowrap\",\"margin-top\":\"0px\",\"clear\":\"both\",\"float\":\"none:width:100%\",\"height\":\"24px\",\"top\":\"3px\"}},[_c('div',{staticClass:\"button-operation\",staticStyle:{\"position\":\"absolute\",\"cursor\":\"pointer\",\"border\":\"0px solid blue\",\"top\":\"3px\",\"z-index\":\"1000\",\"zoom\":\"1.1\",\"margin-left\":\"-1px\"}},[_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.getParam(i).basic_data_type=='number'),expression:\"getParam(i).basic_data_type=='number'\"}],class:{hidden:_vm.getParam(i).aggregate_function!='SUM'},staticStyle:{\"color\":\"red\",\"zoom\":\"0.6\",\"float\":\"left\",\"margin-top\":\"-2px\"},attrs:{\"title\":\"SUMA\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"viewBox\":\"0 0 512.002 512.002\",\"xml:space\":\"preserve\"},on:{\"click\":function($event){return _vm.clickFunc('SUM',$event,i)}}},[_c('g',[_c('g',[_c('path',{staticStyle:{\"background\":\"blue\"},attrs:{\"d\":\"M437.108,74.898c-99.869-99.858-262.345-99.858-362.214,0c-99.858,99.858-99.858,262.34,0,362.203\\t\\t\\tc49.934,49.929,115.521,74.896,181.107,74.896s131.173-24.967,181.107-74.896C536.966,337.243,536.966,174.762,437.108,74.898z\\t\\t\\t M373.067,166.895c0,9.229-7.484,16.707-16.707,16.707s-16.707-7.478-16.707-16.707v-16.826H191.01l77.923,95.294\\t\\t\\tc5.036,6.15,5.036,14.975,0,21.126l-77.923,95.204h148.643v-16.588c0-9.229,7.484-16.707,16.707-16.707\\t\\t\\tc9.223,0,16.707,7.478,16.707,16.707v33.414c0,9.229-7.601,16.588-16.824,16.588H155.758c-6.45,0-12.334-3.66-15.098-9.491\\t\\t\\tc-2.762-5.835-1.926-12.713,2.164-17.705l91.585-111.926L142.825,144.06c-4.09-4.992-4.927-11.959-2.164-17.795\\t\\t\\tc2.762-5.83,8.648-9.61,15.098-9.61h200.485c9.223,0,16.824,7.597,16.824,16.826V166.895z\"}})])]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')]),_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.getParam(i).basic_data_type=='number'),expression:\"getParam(i).basic_data_type=='number'\"}],class:{hidden:_vm.getParam(i).aggregate_function!='AVG'},staticStyle:{\"enable-background\":\"new 0 0 512 512\",\"zoom\":\"0.6\",\"float\":\"left\",\"margin-top\":\"-2px\"},attrs:{\"title\":\"MEDIA\",\"version\":\"1.1\",\"id\":\"Layer_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"viewBox\":\"0 0 512 512\",\"xml:space\":\"preserve\"},on:{\"click\":function($event){return _vm.clickFunc('AVG',$event,i)}}},[_c('g',[_c('g',[_c('path',{attrs:{\"d\":\"M155.804,205.902c-27.625,0-50.098,22.473-50.098,50.098s22.473,50.098,50.098,50.098\\t\\t\\tc28.788,0,52.979-23.076,77.68-50.098C208.782,228.978,184.593,205.902,155.804,205.902z\"}})])]),_c('g',[_c('g',[_c('path',{attrs:{\"d\":\"M356.196,205.902c-28.788,0-52.979,23.076-77.68,50.098c24.7,27.022,48.891,50.098,77.68,50.098\\t\\t\\tc27.625,0,50.098-22.473,50.098-50.098S383.821,205.902,356.196,205.902z\"}})])]),_c('g',[_c('g',[_c('path',{attrs:{\"d\":\"M256,0C114.844,0,0,114.839,0,256s114.844,256,256,256s256-114.839,256-256S397.156,0,256,0z M356.196,339.496\\t\\t\\tc-41.465,0-71.896-27.919-100.196-58.632c-28.3,30.713-58.73,58.632-100.196,58.632c-46.042,0-83.496-37.454-83.496-83.496\\t\\t\\tc0-46.042,37.454-83.496,83.496-83.496c41.465,0,71.896,27.919,100.196,58.632c28.3-30.713,58.73-58.632,100.196-58.632\\t\\t\\tc46.042,0,83.496,37.454,83.496,83.496C439.692,302.042,402.238,339.496,356.196,339.496z\"}})])]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')]),_c('svg',{class:{hidden:_vm.getParam(i).aggregate_function!='DISTINCT'},staticStyle:{\"enable-background\":\"new 0 0 512 512\",\"zoom\":\"0.6\",\"float\":\"left\",\"margin-top\":\"-2px\"},attrs:{\"title\":\"Número de valores distintos\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"viewBox\":\"0 0 512 512\",\"xml:space\":\"preserve\"},on:{\"click\":function($event){return _vm.clickFunc('DISTINCT',$event,i)}}},[_c('g',[_c('g',[_c('path',{attrs:{\"d\":\"M256,0C114.844,0,0,114.839,0,256s114.844,256,256,256s256-114.839,256-256S397.156,0,256,0z M389.594,317.231H244.592\\n\\t\\t\\tl-40.125,90.281c-2.772,6.219-8.872,9.92-15.275,9.92c-2.261,0-4.567-0.468-6.773-1.446c-8.425-3.745-12.221-13.612-8.48-22.043\\n\\t\\t\\tl34.094-76.712h-85.627c-9.219,0-16.699-7.475-16.699-16.699c0-9.225,7.48-16.699,16.699-16.699h100.471l29.688-66.797H122.406v0\\n\\t\\t\\tc-9.219,0-16.699-7.475-16.699-16.699c0-9.225,7.48-16.699,16.699-16.699h145.002l40.125-90.281\\n\\t\\t\\tc3.751-8.42,13.579-12.236,22.049-8.474c8.425,3.745,12.221,13.612,8.48,22.043l-34.094,76.712h85.627\\n\\t\\t\\tc9.219,0,16.699,7.475,16.699,16.699s-7.48,16.699-16.699,16.699H289.124l-29.688,66.797h130.159\\n\\t\\t\\tc9.219,0,16.699,7.475,16.699,16.699C406.294,309.756,398.813,317.231,389.594,317.231z\"}})])]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')]),_c('div',{staticStyle:{\"float\":\"none\",\"clear\":\"both\"}})]),_c('span',{staticStyle:{\"top\":\"-1px\",\"float\":\"left\",\"padding-left\":\"17px\",\"position\":\"relative\"}},[_vm._v(\"-\")]),_c('div',{staticStyle:{\"float\":\"none\",\"clear\":\"both\"}})]),_c('div',{staticStyle:{\"display\":\"flex\",\"width\":\"100%\"}},[_c('div',{staticStyle:{\"border\":\"0px solid red\",\"width\":\"auto\",\"flex-grow\":\"1\"}},[_c('button',{staticStyle:{\"padding\":\"0\",\"border\":\"0\",\"width\":\"20px\",\"height\":\"15px\"},attrs:{\"data-help-code\":\"search-parameter-active\"},on:{\"click\":function($event){return _vm.activateParam(i,$event);}}},[_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.qeParams[i]._active),expression:\"qeParams[i]._active\"}],staticStyle:{\"enable-background\":\"new 0 0 470 470\"},style:({height:'12px','margin-bottom':'-1px','margin-left':'-2px',fill:(_vm.qeParams[i]._active?'blue':'')}),attrs:{\"version\":\"1.1\",\"id\":\"Layer_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"viewBox\":\"0 0 470 470\",\"xml:space\":\"preserve\"}},[_c('g',[_c('path',{attrs:{\"d\":\"M162.5,102.5c0-39.977,32.523-72.5,72.5-72.5s72.5,32.523,72.5,72.5V160h30v-57.5C337.5,45.981,291.519,0,235,0\\t\\tS132.5,45.981,132.5,102.5V160h30V102.5z\"}}),_vm._v(\" \"),_c('rect',{attrs:{\"x\":\"77.5\",\"y\":\"190\",\"width\":\"315\",\"height\":\"280\"}})]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')]),_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.qeParams[i]._active),expression:\"!qeParams[i]._active\"}],staticStyle:{\"enable-background\":\"new 0 0 470 470\"},style:({height:'12px','margin-bottom':'-1px','margin-left':'-2px',fill:(_vm.qeParams[i]._active?'blue':'')}),attrs:{\"version\":\"1.1\",\"id\":\"Layer_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"viewBox\":\"0 0 470 470\",\"xml:space\":\"preserve\"}},[_c('g',[_c('rect',{attrs:{\"x\":\"137.5\",\"y\":\"190\",\"width\":\"315\",\"height\":\"280\"}}),_vm._v(\" \"),_c('path',{attrs:{\"d\":\"M192.5,102.5V160h30v-57.5C222.5,45.981,176.519,0,120,0S17.5,45.981,17.5,102.5V190h30v-87.5\\t\\tC47.5,62.523,80.023,30,120,30S192.5,62.523,192.5,102.5z\"}})]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')])]),_c('button',{staticStyle:{\"padding\":\"0\",\"border-left-color\":\"transparent\",\"box-shadow\":\"none\",\"border\":\"0\",\"width\":\"20px\"},attrs:{\"data-help-code\":\"search-parameter-order\"},on:{\"click\":function($event){return _vm.setNewOrder(i)}}},[_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.qeParams[i]._orderby!='asc'&&_vm.qeParams[i]._orderby!='desc'),expression:\"qeParams[i]._orderby!='asc'&&qeParams[i]._orderby!='desc'\"}],staticStyle:{\"enable-background\":\"new 0 0 427.484 427.484\"},style:({height:'10px','margin-bottom':'0px','margin-left':'-2px'}),attrs:{\"version\":\"1.1\",\"id\":\"Capa_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"width\":\"427.484px\",\"height\":\"427.484px\",\"viewBox\":\"0 0 427.484 427.484\",\"xml:space\":\"preserve\"}},[_c('g',[_c('path',{attrs:{\"d\":\"M405.943,290.254L302.096,425.338c-1.04,1.354-2.66,2.146-4.374,2.146c-1.702,0-3.321-0.798-4.368-2.146L189.511,290.254\\t\\tc-0.769-0.993-1.144-2.176-1.144-3.357c0-1.152,0.364-2.329,1.108-3.322c1.499-1.975,4.125-2.707,6.434-1.809l68.76,27.166V21.01\\t\\tc0-3.047,2.477-5.503,5.515-5.503h55.106c3.038,0,5.509,2.456,5.509,5.503v287.922l68.76-27.166\\t\\tc2.305-0.898,4.93-0.166,6.419,1.809C407.473,285.561,407.461,288.28,405.943,290.254z M238.012,143.913\\t\\tc0.744-0.993,1.105-2.167,1.105-3.322c0-1.176-0.379-2.367-1.142-3.36L134.125,2.148C133.081,0.792,131.458,0,129.759,0\\t\\tc-1.714,0-3.328,0.798-4.377,2.148L21.539,137.23c-1.519,1.969-1.525,4.69-0.03,6.683c1.487,1.968,4.114,2.707,6.419,1.803\\t\\tl68.766-27.163v287.919c0,3.05,2.462,5.509,5.506,5.509h55.109c3.041,0,5.515-2.459,5.515-5.509V118.552l68.763,27.163\\t\\tC233.886,146.62,236.51,145.88,238.012,143.913z\"}})]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')]),_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.qeParams[i]._orderby=='asc'),expression:\"qeParams[i]._orderby=='asc'\"}],staticStyle:{\"enable-background\":\"new 0 0 442.91 442.91\"},style:({fill:'blue',height:'11px','margin-bottom':'0px','margin-left':'-2px'}),attrs:{\"version\":\"1.1\",\"id\":\"Capa_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"viewBox\":\"0 0 442.91 442.91\",\"xml:space\":\"preserve\"}},[_c('g',[_c('path',{attrs:{\"d\":\"M13.98,196.395c8.45,4.662,19.232,1.457,23.894-6.993l9.907-17.775c0.583,0,1.457,0.291,2.331,0.291h119.469\\t\\tc0.583,0,1.457,0,2.04,0l8.742,17.483c3.205,6.119,9.324,9.616,15.735,9.616c2.622,0,5.245-0.583,7.867-2.04\\t\\tc8.742-4.371,11.947-14.861,7.576-23.602L128.495,9.616c-2.914-5.828-8.742-9.324-15.152-9.616c-6.411,0-12.53,3.497-15.735,9.033\\t\\tl-90.33,163.76C2.616,181.243,5.53,191.733,13.98,196.395z M112.178,54.781l41.668,82.171H66.721L112.178,54.781z M25.635,413.188\\t\\tl120.052-124.714H38.165c-9.616,0-17.483-7.867-17.483-17.483c0-9.616,7.867-17.483,17.483-17.483h148.608\\t\\tc6.993,0,13.404,4.079,16.026,10.781c2.622,6.411,1.457,13.987-3.497,18.94L79.251,407.943h107.522\\t\\tc9.616,0,17.483,7.867,17.483,17.483s-7.867,17.483-17.483,17.483H38.165c-6.993,0-13.404-4.079-16.026-10.781\\t\\tC19.225,425.718,20.682,418.433,25.635,413.188z M294.586,377.639V84.502c0-9.616,7.867-17.483,17.483-17.483\\t\\ts17.483,7.867,17.483,17.483V327.52l77.218-97.615c6.119-7.576,16.9-8.742,24.477-2.914c7.576,6.119,8.742,16.901,2.914,24.477\\t\\tL325.765,388.42c-3.497,4.371-8.45,6.702-13.695,6.702c-2.04,0-3.788-0.291-5.828-0.874\\t\\tC299.249,391.625,294.586,385.215,294.586,377.639z\"}})]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')]),_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.qeParams[i]._orderby=='desc'),expression:\"qeParams[i]._orderby=='desc'\"}],staticStyle:{\"enable-background\":\"new 0 0 440.87 440.87\"},style:({fill:'blue',height:'11px','margin-bottom':'0px','margin-left':'-2px'}),attrs:{\"version\":\"1.1\",\"id\":\"Capa_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"viewBox\":\"0 0 440.87 440.87\",\"xml:space\":\"preserve\"}},[_c('g',[_c('path',{attrs:{\"d\":\"M19.605,17.483C19.605,7.867,27.473,0,37.089,0h148.608c6.993,0,13.404,4.079,16.026,10.781\\t\\tc2.622,6.411,1.457,13.987-3.497,18.94L78.174,154.436h107.522c9.616,0,17.483,7.867,17.483,17.483s-7.867,17.483-17.483,17.483\\t\\tH37.089c-6.993,0-13.404-4.079-16.026-10.781c-2.622-6.411-1.457-13.987,3.497-18.94L144.611,34.967H37.089\\t\\tC27.473,34.967,19.605,27.099,19.605,17.483z M6.201,414.645l90.33-163.76c3.205-5.536,9.324-9.033,15.735-9.033\\t\\tc6.411,0,12.238,3.788,15.152,9.616l83.046,163.76c4.371,8.742,0.874,19.232-7.576,23.602c-2.622,1.166-5.245,2.04-7.867,2.04\\t\\tc-6.411,0-12.53-3.497-15.735-9.616l-8.742-17.483c-0.583,0-1.457,0-2.04,0H48.744c-0.874,0-1.457,0-2.331-0.291l-9.907,17.775\\t\\tc-4.662,8.45-15.444,11.656-23.894,6.993C4.453,433.585,1.539,423.095,6.201,414.645z M65.645,378.804h86.834l-41.668-82.171\\t\\tL65.645,378.804z M305.165,385.506c1.748,0.583,3.788,0.874,5.828,0.874c5.245,0,10.199-2.331,13.695-6.702l108.396-136.952\\t\\tc6.119-7.576,4.662-18.649-2.914-24.477c-7.576-6.119-18.649-4.662-24.477,2.914l-77.218,97.615V75.761\\t\\tc0-9.616-7.867-17.483-17.483-17.483c-9.616,0-17.483,7.867-17.483,17.483v293.136C293.51,376.473,298.172,382.884,305.165,385.506\\t\\tz\"}})]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')])]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.qeParams[i]._active),expression:\"qeParams[i]._active\"}],staticStyle:{\"padding\":\"0\",\"border\":\"0\"},attrs:{\"data-help-code\":\"search-parameter-negated\"},on:{\"click\":function($event){return _vm.negateParam(i)}}},[_c('svg',{staticStyle:{\"enable-background\":\"new 0 0 46 46\"},style:({height:'11px','margin-bottom':'-1px','margin-left':'-2px',fill:(_vm.qeParams[i].leftText.toLowerCase().indexOf('not')!=-1?'red':'')}),attrs:{\"version\":\"1.1\",\"id\":\"Capa_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"width\":\"46px\",\"height\":\"46px\",\"viewBox\":\"0 0 46 46\",\"xml:space\":\"preserve\"}},[_c('g',[_c('g',[_c('path',{attrs:{\"d\":\"M32.294,19H13.706c-2.209,0-4,1.791-4,4s1.791,4,4,4h18.588c2.209,0,4-1.791,4-4S34.503,19,32.294,19z\"}}),_vm._v(\" \"),_c('path',{attrs:{\"d\":\"M23,0C10.298,0,0,10.298,0,23c0,12.703,10.298,23,23,23s23-10.297,23-23C46,10.298,35.702,0,23,0z M23,40\\t\\t\\tc-9.374,0-17-7.625-17-17c0-9.373,7.626-17,17-17s17,7.627,17,17C40,32.375,32.374,40,23,40z\"}})])]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')])]),_c('button',{staticStyle:{\"padding\":\"0\",\"border\":\"0\"},attrs:{\"data-help-code\":\"search-parameter-list-config\"},on:{\"click\":function($event){return _vm.headerClick(i,$event)}}},[_c('svg',{staticStyle:{\"enable-background\":\"new 0 0 512 512\"},style:({height:'12px','margin-bottom':'-1px','margin-left':'-2px'}),attrs:{\"version\":\"1.1\",\"id\":\"Capa_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"viewBox\":\"0 0 512 512\",\"xml:space\":\"preserve\"}},[_c('g',[_c('g',[_c('path',{attrs:{\"d\":\"M499.844,328l-53.885-45.104C447.333,273.49,448,264.646,448,256s-0.667-17.49-2.042-26.896L499.844,184\\t\\t\\tc3.979-3.323,4.99-9.021,2.396-13.51L453.177,85.51c-2.594-4.479-8.021-6.458-12.896-4.688l-65.906,24.083\\t\\t\\tc-14.094-11.031-29.75-20.042-46.677-26.844l-12.125-69.24C314.677,3.719,310.24,0,305.063,0h-98.125\\t\\t\\tc-5.177,0-9.615,3.719-10.51,8.823l-12.125,69.24c-16.927,6.802-32.583,15.813-46.677,26.844L71.719,80.823\\t\\t\\tc-4.844-1.802-10.312,0.198-12.896,4.688L9.76,170.49c-2.594,4.49-1.583,10.188,2.396,13.51l53.885,45.104\\t\\t\\tC64.667,238.51,64,247.354,64,256s0.667,17.49,2.042,26.896L12.156,328c-3.979,3.323-4.99,9.021-2.396,13.51l49.063,84.979\\t\\t\\tc2.604,4.49,8.083,6.469,12.896,4.688l65.906-24.083c14.094,11.031,29.75,20.042,46.677,26.844l12.125,69.24\\t\\t\\tc0.896,5.104,5.333,8.823,10.51,8.823h98.125c5.177,0,9.615-3.719,10.51-8.823l12.125-69.24\\t\\t\\tc16.927-6.802,32.583-15.813,46.677-26.844l65.906,24.083c4.844,1.74,10.302-0.198,12.896-4.688l49.063-84.979\\t\\t\\tC504.833,337.021,503.823,331.323,499.844,328z M256,362.667c-58.813,0-106.667-47.854-106.667-106.667\\t\\t\\tS197.187,149.333,256,149.333S362.667,197.188,362.667,256S314.813,362.667,256,362.667z\"}})])]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')])])])]),_c('div',{class:{'search-field':true,'search-field-inactive':_vm.qeParams[i]?!_vm.qeParams[i]._active:false},attrs:{\"contentEditable\":\"true\",\"title\":_vm.getParamSearchString(i)},domProps:{\"innerHTML\":_vm._s(_vm.getParamSearchString(i))},on:{\"keydown\":function($event){_vm.keyDownSearchField      ($event,i)},\"keyup\":function($event){return _vm.positionContext($event,i)},\"focus\":function($event){return _vm.focusSearchField($event,i)},\"blur\":function($event){return _vm.focusSearchField($event,i,true)}}}),_c('div',{staticClass:\"clearfix\"}),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.getParam(i)._active && _vm.getParam(i)._extended),expression:\"getParam(i)._active && getParam(i)._extended\"}],staticStyle:{\"width\":\"17px\",\"padding\":\"0 3px\",\"background\":\"transparent\",\"border\":\"0\",\"font-size\":\"12px\",\"float\":\"left\",\"margin-top\":\"-2px\",\"margin-right\":\"2px\"},attrs:{\"data-help-code\":\"search-parameter-operator\"},domProps:{\"innerHTML\":_vm._s(_vm.qeParams[i].operator=='AND'?'Y':'O')},on:{\"click\":function($event){return _vm.changeOperator(i)}}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.getParam(i)._active && _vm.getParam(i)._extended),expression:\"getParam(i)._active && getParam(i)._extended\"}],staticClass:\"side-text\",staticStyle:{\"font-weight\":\"bold\",\"background\":\"white\",\"float\":\"left\",\"border\":\"1px solid #ddd\",\"min-width\":\"20px\"},attrs:{\"contenteditable\":\"true\",\"data-help-code\":\"search-parameter-parentesis-left\"},domProps:{\"innerHTML\":_vm._s(_vm.qeParams[i].leftText)},on:{\"blur\":function($event){return _vm.changeText(i,$event,'leftText')},\"keyup\":function($event){return _vm.textKeyPress($event,'leftText',i)}}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.getParam(i)._active && _vm.getParam(i)._extended),expression:\"getParam(i)._active && getParam(i)._extended\"}],staticClass:\"side-text\",staticStyle:{\"font-weight\":\"bold\",\"background\":\"white\",\"float\":\"left\",\"border\":\"1px solid #ddd\",\"min-width\":\"20px\",\"min-height\":\"17px\",\"margin-left\":\"10px\"},attrs:{\"contenteditable\":\"true\",\"data-help-code\":\"search-parameter-parentesis-right\"},domProps:{\"innerHTML\":_vm._s(_vm.qeParams[i].rightText)},on:{\"blur\":function($event){return _vm.changeText(i,$event,'rightText')},\"keyup\":function($event){return _vm.textKeyPress($event,'rightText')}}}),_c('div',{staticClass:\"clearfix\"})]):_vm._e()}),0)]),_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"5px\",\"background\":\"#ccc\"}}),_c('Ly',{staticStyle:{\"position\":\"relative\",\"padding-top\":\"0px\"},attrs:{\"grow\":\"1\"}},[_c('SimpleTable',{ref:\"Tabla\",staticStyle:{\"background\":\"white\"},attrs:{\"height\":\"100%\",\"hiddenKeys\":['PK_ID'],\"rows\":_vm.grid.rows,\"overflow\":\"scroll\",\"checkable\":true,\"checkedRows\":_vm.checkedIndexes,\"selectable\":true,\"showHeaders\":false},on:{\"orderBy\":_vm.orderBy,\"rowClick\":_vm.rowClick,\"checkClick\":_vm.checkClick,\"scrollHeaders\":_vm.scrollHeaders,\"resizeHeaders\":_vm.resizeHeaders,\"headerClick\":_vm.headerClick}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Tabs',{attrs:{\"tabs\":_vm.tabs}},_vm._l((_vm.tabs),function(tab){return _c('Ly',{attrs:{\"slot\":tab,\"flexbox\":\"1\",\"column\":\"1\",\"grow\":\"1\"},slot:tab},_vm._l((_vm.shallowFields(tab)),function(campo){return _c('Ly',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.inFilter(campo)),expression:\"inFilter(campo)\"}],style:(_vm.elementStyle(campo))},[_c('div',_vm._l((campo.name.split('.')),function(ele){return _c('div',{staticStyle:{\"float\":\"left\"}},[_vm._v(_vm._s(ele))])}),0),_c('label',{on:{\"click\":function($event){return _vm.labelClick($event)}}},[_vm._v(_vm._s(campo.name))]),(campo.type=='multiple')?_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(campo.value),expression:\"campo.value\"}],staticClass:\"form-control\",attrs:{\"multiple\":\"\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(campo, \"value\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},function($event){return _vm.assignModel($event.target,campo,tab)}]}},[_c('option',{attrs:{\"value\":\"\"}}),_vm._l((_vm.listOptions( campo )),function(option){return _c('option',{domProps:{\"value\":option[0]}},[_vm._v(_vm._s(option[1]))])})],2):(campo.type=='select')?_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(campo.value),expression:\"campo.value\"}],staticClass:\"form-control\",on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(campo, \"value\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},function($event){return _vm.assignModel($event.target.value,campo,tab)}]}},[_c('option'),_vm._l((_vm.listOptions( campo )),function(option){return _c('option',{domProps:{\"value\":option[0]}},[_vm._v(_vm._s(option[1]))])})],2):(campo.type=='boolean')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(campo.value),expression:\"campo.value\"}],staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(campo.value)?_vm._i(campo.value,null)>-1:(campo.value)},on:{\"change\":[function($event){var $$a=campo.value,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(campo, \"value\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(campo, \"value\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(campo, \"value\", $$c)}},function($event){return _vm.assignModel($event.target.checked,campo,tab)}]}}):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(campo.value),expression:\"campo.value\"}],staticClass:\"form-control\",domProps:{\"value\":(campo.value)},on:{\"blur\":function($event){return _vm.assignModel($event.target.value,campo,tab)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(campo, \"value\", $event.target.value)}}})])}),1)}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('textarea',{directives:[{name:\"resize\",rawName:\"v-resize\"}]},[_vm._v(_vm._s(_vm.valor))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <textarea v-resize>{{valor}}</textarea>\r\n</template>\r\n\r\n<script>\r\nimport $ from 'jquery'\r\nexport default {\r\n  props: ['valor'],\r\n  directives: {\r\n      resize: {\r\n          inserted: function (ele) {\r\n             //ele.style.height = \"0px\"\r\n             const scrollHeight = ele.scrollHeight\r\n             if ( scrollHeight > 0) {\r\n                 const scrollSize = $(ele).height() + scrollHeight\r\n                 ele.style.height = scrollSize + 'px'\r\n                 console.log(scrollSize)\r\n             }\r\n                //ele.style.height = ele.scrollHeight + 'px'\r\n            // console.log(ele.scrollHeight)\r\n          }\r\n      }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./autosize-textarea.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./autosize-textarea.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./autosize-textarea.vue?vue&type=template&id=687d89a6&\"\nimport script from \"./autosize-textarea.vue?vue&type=script&lang=js&\"\nexport * from \"./autosize-textarea.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"data-component\":\"tabs\"}},[_vm._l((_vm.tabsArr),function(tab){return (_vm.tabsArr.length>1)?_c('button',{on:{\"click\":function($event){return _vm.buttonClick(tab)}}},[_vm._v(_vm._s(tab.name))]):_vm._e()}),_vm._l((_vm.tabsArr),function(tab){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(tab.name == _vm.selectedTab),expression:\"tab.name == selectedTab\"}],staticClass:\"slot\"},[_vm._t(tab.name)],2)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\r\n    export default {\r\n        props: {\r\n            tabs: {\r\n                type: Array,\r\n                required: true\r\n            }\r\n        },\r\n        data: () => ({\r\n            selectedTab: false\r\n            , beforeTabsArr: []\r\n            \r\n        }),\r\n        computed: {\r\n            tabsArr(){ \r\n                const tabs = this.tabs.map ( ( name, index ) => ({ name, index }) ) \r\n            //console.log('selectedTab')\r\n                if ( this.beforeTabsArr != tabs ) this.selectedTab = this.tabs[0]\r\n                this.beforeTabsArr = tabs\r\n                return tabs\r\n            }\r\n        },\r\n        methods: {\r\n            buttonClick(tab) {\r\n                console.log(tab.index)\r\n                this.selectedTab = tab.name\r\n            }\r\n        },\r\n        beforeMount() {\r\n            this.selectedTab = this.tabs[0]\r\n        }\r\n    }\r\n</script>\r\n\r\n<template>\r\n    <div data-component=\"tabs\">\r\n        <button v-for=\"tab in tabsArr\" @click=\"buttonClick(tab)\" v-if=\"tabsArr.length>1\">{{tab.name}}</button>\r\n        <div v-for=\"tab in tabsArr\" v-show=\"tab.name == selectedTab\" class=\"slot\">\r\n            <slot :name=\"tab.name\"/>\r\n        </div>\r\n    </div>\r\n</template>\r\n<style>\r\n    .slot {\r\n        display:block;\r\n        clear:both;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tabs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tabs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tabs.vue?vue&type=template&id=643075f4&\"\nimport script from \"./tabs.vue?vue&type=script&lang=js&\"\nexport * from \"./tabs.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tabs.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template v-if=\"false\">\r\n    <Tabs :tabs=\"tabs\">\r\n        <Ly v-for=\"tab in tabs\" flexbox=1 column=1 grow=1 :slot=\"tab\">\r\n            <Ly v-for=\"campo in shallowFields(tab)\" v-show=\"inFilter(campo)\" :style=\"elementStyle(campo)\">\r\n                <div>\r\n                    <div v-for=\"ele in campo.name.split('.')\" style=\"float:left\">{{ele}}</div>\r\n                </div>\r\n                <label @click=\"labelClick($event)\">{{campo.name}}</label>\r\n                <select v-if=\"campo.type=='multiple'\" multiple v-model=\"campo.value\" v-on:change=\"assignModel($event.target,campo,tab)\" class=\"form-control\">\r\n                    <option value=\"\">&nbsp;</option>\r\n                    <option v-for=\"option in listOptions( campo )\" :value=\"option[0]\">{{option[1]}}</option>\r\n                </select>\r\n                <select v-else-if=\"campo.type=='select'\" v-model=\"campo.value\" v-on:change=\"assignModel($event.target.value,campo,tab)\" class=\"form-control\">\r\n                    <option/>\r\n                    <option v-for=\"option in listOptions( campo )\" :value=\"option[0]\">{{option[1]}}</option>\r\n                </select>\r\n                <input v-else-if=\"campo.type=='boolean'\" type=\"checkbox\" v-model=\"campo.value\" v-on:change=\"assignModel($event.target.checked,campo,tab)\" class=\"form-control\">\r\n               <input v-else v-model=\"campo.value\" v-on:blur=\"assignModel($event.target.value,campo,tab)\" class=\"form-control\">\r\n                 \r\n            </Ly>\r\n        </Ly>\r\n    </Tabs>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport $ from 'jquery'\r\n//import {objeto,JSON.cc,select,log} from '../helpers.js'\r\nimport Ly from './layout.vue';\r\nimport autosizeTextarea  from './autosize-textarea.vue'\r\nimport Tabs  from './tabs.vue'\r\n//Vue.use(VueAutosize)\r\nexport default {\r\n    components: { Ly, autosizeTextarea, Tabs },\r\n    props: {\r\n        item: {\r\n            type: Object,\r\n            required: true\r\n        }, \r\n        branchs: Array,\r\n        lists: Array,\r\n        filter: String,\r\n        keysSettings: Object\r\n    },\r\n    data: function () {\r\n        /*\r\n                const obj = JSON.cc(this.item)\r\n                Object.keys( obj ).forEach ( key => {\r\n                    const val = obj[key]\r\n                    console.log(typeof val+val)\r\n                    if ( typeof val==\"object\" ) obj[key] = \"\"\r\n                })\r\n                */\r\n        return {\r\n            validations: {\r\n                label: ( val ) => {\r\n                    return true\r\n                }\r\n            },\r\n            objeto: JSON.cc(this.item)\r\n        }\r\n    },\r\n    watch:{\r\n        item: function (val, oldVal ) { this.objeto = val }\r\n    },\r\n    computed : {\r\n       branchKeys () {\r\n           let branchs = this.branchs\r\n           if ( !branchs ) return []\r\n           branchs = branchs.map ( branch => branch.key )\r\n           return {}\r\n            const branchKeys = Object.keys(this.objeto).filter ( key => ( branchs.indexOf(key) !=-1 && this.objeto[key] && typeof this.objeto[key] == 'object' && typeof this.objeto[key].length == 'undefined' ) )\r\n            return branchKeys//.filter ( key => branchs.indexOf(key) != -1 )\r\n         },\r\n        tabs () {\r\n            return ['main'].concat(this.branchKeys)\r\n        }\r\n    },\r\n    methods: {\r\n        labelClick (event) {\r\n            const $field = $(event.currentTarget).parent()\r\n            this.$emit('clickLabel',$field)\r\n            //console.log($field[0])\r\n        },\r\n        inFilter(campo) {\r\n            if ( !this.filter || this.filter == \"\" ) return true\r\n            const inFilter = campo.name.toLowerCase().indexOf(this.filter.toLowerCase()) != -1\r\n            return inFilter\r\n        },\r\n        elementStyle(campo) {\r\n            if ( !this.keysSettings ) return {}\r\n            const keySetting = this.keysSettings[campo.name]\r\n            const readOnly = keySetting ? keySetting.readOnly : false\r\n            , zindex = readOnly ? {\"z-index\" : -1} : {}\r\n            return zindex\r\n        },\r\n        assignModel ( val, campo, tab ) {\r\n            //console.log(val)\r\n            if ( ! this.isContentValid ( val, campo, tab ) ) {\r\n                alert ('El contenido del campo no es valido.')\r\n                return false;\r\n            }\r\n            const value = campo.type == 'multiple' ? new select(val).getValues() : val\r\n            const key = campo.name\r\n            , model = { [key]: value }\r\n            , branch = this.branch(tab) \r\n            Object.assign ( branch , model )\r\n            \r\n            const formState = JSON.cc(this.objeto)\r\n            Object.keys(formState).forEach ( key => {\r\n                const val = formState[key]\r\n                formState[key] = { value: val, text: this.listTextForValue(val,key)}\r\n            })\r\n            //log(formState)\r\n            this.$emit('change',formState)\r\n            return\r\n\r\n            this.$emit('change',JSON.cc(this.objeto))\r\n        },\r\n        isContentValid ( val, campo, tab ) {\r\n            //return true\r\n            const fieldValidation = this.fieldValidation ( campo, tab )\r\n            , isValid = fieldValidation ? fieldValidation ( val ) : true\r\n            return isValid\r\n        },\r\n        branch ( tab ) {\r\n            if ( tab == 'main' ) {\r\n                return this.objeto\r\n            } else {\r\n                return this.objeto[tab]\r\n            }\r\n        },\r\n        shallowFields (tab) {\r\n            const obj = this.branch(tab)\r\n            const shallowKeys = Object.keys(obj).filter ( key => ( obj[key] == null || typeof obj[key] != 'object' || this.listFor(key) ) )\r\n            const shallowFields = shallowKeys.map ( key => {\r\n                const value = JSON.cc(obj[key])\r\n                , name = key\r\n                , type = this.fieldType (key)\r\n                , text = this.listTextForValue ( value , key )\r\n                return ({ name, value, type, text })\r\n            } )//Object.keys(this.objeto).filter ( campo => ( typeof campo[this.valueKeyName] != 'object' || this.isList(campo) ) )\r\n            return shallowFields\r\n        },\r\n        fieldType ( key ) {\r\n            const list = this.listFor ( key )\r\n            if ( list ) { return list.multiple ? 'multiple' : 'select' }\r\n            if ( typeof this.objeto[key] == 'boolean' ) return 'boolean'\r\n            return 'textarea'\r\n        },\r\n        listTextForValue ( val, key ) {\r\n            const list = this.listFor ( key )\r\n            if ( ! list || ! list.values || ! list.values.filter ) return val\r\n            const textArr = list.values.filter ( pair => pair[0] == val )[0]\r\n            const text = textArr ? textArr[1] : false\r\n            //val = typeof val == 'string' ? val : val[1]\r\n            //log(text)\r\n            return text\r\n        },\r\n        listFor ( key ) {\r\n            if ( ! this.keysSettings ) return false\r\n            const keySettings =  this.keysSettings[key]//.filter ( list => list.key == key )[0]\r\n            , keyList = keySettings ? keySettings.list : false\r\n             //console.log( JSON.cc(keyList))\r\n           if ( ! keyList || ! keyList.values.length ) return false\r\n            return keyList\r\n        },\r\n        listOptions ( campo ) {\r\n            const keyName = campo.name\r\n            , options = this.keysSettings[keyName].list.values\r\n            return options\r\n        },\r\n        listFor_old ( key ) {\r\n            if ( ! this.lists ) return false\r\n            const list =  this.lists.filter ( list => list.key == key )[0]\r\n           if ( ! list ) return false\r\n            return list\r\n        },\r\n        listOptions_old ( campo ) {\r\n            const keyName = campo.name\r\n            , options = this.lists.filter ( list => list.key == keyName )[0].values\r\n            return options\r\n        },\r\n        fieldValidation ( campo, tabName ) {\r\n            let validation = false\r\n            if ( tabName == 'main' ) tabName = undefined\r\n            if ( ! tabName ) {\r\n                try {\r\n                    validation = this.validations[campo.name]\r\n                } catch(err) {}\r\n            } else {\r\n                try {\r\n                    validation = this.validations[tabName][campo.name]\r\n                } catch(err) {}\r\n            }\r\n            return validation\r\n        }\r\n    }\r\n    , beforeUpdate(){\r\n        return\r\n        const divs = this.$refs.divinput//$('div.form-control')\r\n        divs.forEach ( div => {\r\n            //div.innerHTML = \"\"\r\n        })\r\n        //console.log(divs)\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n    .LyItem {\r\n        padding: 2px;\r\n    }\r\n    label {\r\n        font-weight: normal;\r\n    }\r\n    input {\r\n        font-size:11px;\r\n        box-shadow: none;\r\n        border-radius: 2px;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./item-editor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./item-editor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./item-editor.vue?vue&type=template&id=18981f6d&scoped=true&v-if=false&\"\nimport script from \"./item-editor.vue?vue&type=script&lang=js&\"\nexport * from \"./item-editor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./item-editor.vue?vue&type=style&index=0&id=18981f6d&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"18981f6d\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"data-component\":\"query-editor\"}},[_c('ol',{ref:\"lista\",staticStyle:{\"width\":\"100%\"}},_vm._l((_vm.parameters.data),function(param,i){return _c('li',{staticClass:\"param\",attrs:{\"param\":JSON.stringify(param),\"data-active\":param._active}},[_c('span',{staticClass:\"grippy\"}),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.admin),expression:\"admin\"}],staticClass:\"close closeButton\",attrs:{\"data-help-code\":\"search-parameter-close\"},on:{\"click\":function($event){return _vm.deleteParam(i)}}}),_c('div',{staticClass:\"parameter-toolbar\",staticStyle:{\"white-space\":\"nowrap\",\"border\":\"1px solid #ddd\",\"margin\":\"0px 0 0px 0\",\"padding\":\"3px 1px\"}},[_c('button',{staticStyle:{\"padding\":\"0\",\"border-left-color\":\"transparent\"},attrs:{\"data-help-code\":\"search-parameter-order\"},on:{\"click\":function($event){return _vm.setNewOrder(i)}}},[_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(param._orderby!='asc'&&param._orderby!='desc'),expression:\"param._orderby!='asc'&&param._orderby!='desc'\"}],staticStyle:{\"enable-background\":\"new 0 0 427.484 427.484\"},style:({height:'10px','margin-bottom':'0px','margin-left':'-2px'}),attrs:{\"version\":\"1.1\",\"id\":\"Capa_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"width\":\"427.484px\",\"height\":\"427.484px\",\"viewBox\":\"0 0 427.484 427.484\",\"xml:space\":\"preserve\"}},[_c('g',[_c('path',{attrs:{\"d\":\"M405.943,290.254L302.096,425.338c-1.04,1.354-2.66,2.146-4.374,2.146c-1.702,0-3.321-0.798-4.368-2.146L189.511,290.254\\t\\tc-0.769-0.993-1.144-2.176-1.144-3.357c0-1.152,0.364-2.329,1.108-3.322c1.499-1.975,4.125-2.707,6.434-1.809l68.76,27.166V21.01\\t\\tc0-3.047,2.477-5.503,5.515-5.503h55.106c3.038,0,5.509,2.456,5.509,5.503v287.922l68.76-27.166\\t\\tc2.305-0.898,4.93-0.166,6.419,1.809C407.473,285.561,407.461,288.28,405.943,290.254z M238.012,143.913\\t\\tc0.744-0.993,1.105-2.167,1.105-3.322c0-1.176-0.379-2.367-1.142-3.36L134.125,2.148C133.081,0.792,131.458,0,129.759,0\\t\\tc-1.714,0-3.328,0.798-4.377,2.148L21.539,137.23c-1.519,1.969-1.525,4.69-0.03,6.683c1.487,1.968,4.114,2.707,6.419,1.803\\t\\tl68.766-27.163v287.919c0,3.05,2.462,5.509,5.506,5.509h55.109c3.041,0,5.515-2.459,5.515-5.509V118.552l68.763,27.163\\t\\tC233.886,146.62,236.51,145.88,238.012,143.913z\"}})]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')]),_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(param._orderby=='asc'),expression:\"param._orderby=='asc'\"}],staticStyle:{\"enable-background\":\"new 0 0 442.91 442.91\"},style:({fill:'blue',height:'11px','margin-bottom':'0px','margin-left':'-2px'}),attrs:{\"version\":\"1.1\",\"id\":\"Capa_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"viewBox\":\"0 0 442.91 442.91\",\"xml:space\":\"preserve\"}},[_c('g',[_c('path',{attrs:{\"d\":\"M13.98,196.395c8.45,4.662,19.232,1.457,23.894-6.993l9.907-17.775c0.583,0,1.457,0.291,2.331,0.291h119.469\\t\\tc0.583,0,1.457,0,2.04,0l8.742,17.483c3.205,6.119,9.324,9.616,15.735,9.616c2.622,0,5.245-0.583,7.867-2.04\\t\\tc8.742-4.371,11.947-14.861,7.576-23.602L128.495,9.616c-2.914-5.828-8.742-9.324-15.152-9.616c-6.411,0-12.53,3.497-15.735,9.033\\t\\tl-90.33,163.76C2.616,181.243,5.53,191.733,13.98,196.395z M112.178,54.781l41.668,82.171H66.721L112.178,54.781z M25.635,413.188\\t\\tl120.052-124.714H38.165c-9.616,0-17.483-7.867-17.483-17.483c0-9.616,7.867-17.483,17.483-17.483h148.608\\t\\tc6.993,0,13.404,4.079,16.026,10.781c2.622,6.411,1.457,13.987-3.497,18.94L79.251,407.943h107.522\\t\\tc9.616,0,17.483,7.867,17.483,17.483s-7.867,17.483-17.483,17.483H38.165c-6.993,0-13.404-4.079-16.026-10.781\\t\\tC19.225,425.718,20.682,418.433,25.635,413.188z M294.586,377.639V84.502c0-9.616,7.867-17.483,17.483-17.483\\t\\ts17.483,7.867,17.483,17.483V327.52l77.218-97.615c6.119-7.576,16.9-8.742,24.477-2.914c7.576,6.119,8.742,16.901,2.914,24.477\\t\\tL325.765,388.42c-3.497,4.371-8.45,6.702-13.695,6.702c-2.04,0-3.788-0.291-5.828-0.874\\t\\tC299.249,391.625,294.586,385.215,294.586,377.639z\"}})]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')]),_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(param._orderby=='desc'),expression:\"param._orderby=='desc'\"}],staticStyle:{\"enable-background\":\"new 0 0 440.87 440.87\"},style:({fill:'blue',height:'11px','margin-bottom':'0px','margin-left':'-2px'}),attrs:{\"version\":\"1.1\",\"id\":\"Capa_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"viewBox\":\"0 0 440.87 440.87\",\"xml:space\":\"preserve\"}},[_c('g',[_c('path',{attrs:{\"d\":\"M19.605,17.483C19.605,7.867,27.473,0,37.089,0h148.608c6.993,0,13.404,4.079,16.026,10.781\\t\\tc2.622,6.411,1.457,13.987-3.497,18.94L78.174,154.436h107.522c9.616,0,17.483,7.867,17.483,17.483s-7.867,17.483-17.483,17.483\\t\\tH37.089c-6.993,0-13.404-4.079-16.026-10.781c-2.622-6.411-1.457-13.987,3.497-18.94L144.611,34.967H37.089\\t\\tC27.473,34.967,19.605,27.099,19.605,17.483z M6.201,414.645l90.33-163.76c3.205-5.536,9.324-9.033,15.735-9.033\\t\\tc6.411,0,12.238,3.788,15.152,9.616l83.046,163.76c4.371,8.742,0.874,19.232-7.576,23.602c-2.622,1.166-5.245,2.04-7.867,2.04\\t\\tc-6.411,0-12.53-3.497-15.735-9.616l-8.742-17.483c-0.583,0-1.457,0-2.04,0H48.744c-0.874,0-1.457,0-2.331-0.291l-9.907,17.775\\t\\tc-4.662,8.45-15.444,11.656-23.894,6.993C4.453,433.585,1.539,423.095,6.201,414.645z M65.645,378.804h86.834l-41.668-82.171\\t\\tL65.645,378.804z M305.165,385.506c1.748,0.583,3.788,0.874,5.828,0.874c5.245,0,10.199-2.331,13.695-6.702l108.396-136.952\\t\\tc6.119-7.576,4.662-18.649-2.914-24.477c-7.576-6.119-18.649-4.662-24.477,2.914l-77.218,97.615V75.761\\t\\tc0-9.616-7.867-17.483-17.483-17.483c-9.616,0-17.483,7.867-17.483,17.483v293.136C293.51,376.473,298.172,382.884,305.165,385.506\\t\\tz\"}})]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')])]),_c('button',{attrs:{\"data-help-code\":\"search-parameter-list\"},on:{\"click\":function($event){_vm.parameters.data[i]._inlist=!param._inlist;_vm.emitParameters()}}},[_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(param._inlist),expression:\"param._inlist\"}],staticStyle:{\"enable-background\":\"new 0 0 932.15 932.15\"},style:({height:'13px','margin-bottom':'-2px','margin-left':'-2px',fill:'blue'}),attrs:{\"version\":\"1.1\",\"id\":\"Capa_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"width\":\"932.15px\",\"height\":\"932.15px\",\"viewBox\":\"0 0 932.15 932.15\",\"xml:space\":\"preserve\"}},[_c('g',[_c('path',{attrs:{\"d\":\"M466.075,161.525c-205.6,0-382.8,121.2-464.2,296.1c-2.5,5.3-2.5,11.5,0,16.9c81.4,174.899,258.601,296.1,464.2,296.1\\t\\ts382.8-121.2,464.2-296.1c2.5-5.3,2.5-11.5,0-16.9C848.875,282.725,671.675,161.525,466.075,161.525z M466.075,676.226\\t\\tc-116.1,0-210.1-94.101-210.1-210.101c0-116.1,94.1-210.1,210.1-210.1c116.1,0,210.1,94.1,210.1,210.1\\t\\tS582.075,676.226,466.075,676.226z\"}}),_vm._v(\" \"),_c('circle',{attrs:{\"cx\":\"466.075\",\"cy\":\"466.025\",\"r\":\"134.5\"}})]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')]),_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(!param._inlist),expression:\"!param._inlist\"}],staticStyle:{\"enable-background\":\"new 0 0 469.44 469.44\"},style:({height:'13px','margin-bottom':'-2px','margin-left':'-2px'}),attrs:{\"version\":\"1.1\",\"id\":\"Capa_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"viewBox\":\"0 0 469.44 469.44\",\"xml:space\":\"preserve\"}},[_c('g',[_c('g',[_c('g',[_c('path',{attrs:{\"d\":\"M231.147,160.373l67.2,67.2l0.32-3.52c0-35.307-28.693-64-64-64L231.147,160.373z\"}}),_vm._v(\" \"),_c('path',{attrs:{\"d\":\"M234.667,117.387c58.88,0,106.667,47.787,106.667,106.667c0,13.76-2.773,26.88-7.573,38.933l62.4,62.4\\t\\t\\t\\tc32.213-26.88,57.6-61.653,73.28-101.333c-37.013-93.653-128-160-234.773-160c-29.867,0-58.453,5.333-85.013,14.933l46.08,45.973\\t\\t\\t\\tC207.787,120.267,220.907,117.387,234.667,117.387z\"}}),_vm._v(\" \"),_c('path',{attrs:{\"d\":\"M21.333,59.253l48.64,48.64l9.707,9.707C44.48,145.12,16.64,181.707,0,224.053c36.907,93.653,128,160,234.667,160\\t\\t\\t\\tc33.067,0,64.64-6.4,93.547-18.027l9.067,9.067l62.187,62.293l27.2-27.093L48.533,32.053L21.333,59.253z M139.307,177.12\\t\\t\\t\\tl32.96,32.96c-0.96,4.587-1.6,9.173-1.6,13.973c0,35.307,28.693,64,64,64c4.8,0,9.387-0.64,13.867-1.6l32.96,32.96\\t\\t\\t\\tc-14.187,7.04-29.973,11.307-46.827,11.307C175.787,330.72,128,282.933,128,224.053C128,207.2,132.267,191.413,139.307,177.12z\"}})])])]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')])]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(param._extended&&param._active),expression:\"param._extended&&param._active\"}],staticStyle:{\"width\":\"auto\",\"padding\":\"0 3px\"},attrs:{\"data-help-code\":\"search-parameter-operator\"},domProps:{\"innerHTML\":_vm._s(param.operator=='AND'?'Y':'O')},on:{\"click\":function($event){return _vm.changeOperator(i)}}}),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(param._active),expression:\"param._active\"}],staticStyle:{\"padding\":\"0\"},attrs:{\"data-help-code\":\"search-parameter-negated\"},on:{\"click\":function($event){return _vm.negateParam(i)}}},[_c('svg',{staticStyle:{\"enable-background\":\"new 0 0 46 46\"},style:({height:'11px','margin-bottom':'-1px','margin-left':'-2px',fill:(param.leftText.toLowerCase().indexOf('not')!=-1?'red':'')}),attrs:{\"version\":\"1.1\",\"id\":\"Capa_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"width\":\"46px\",\"height\":\"46px\",\"viewBox\":\"0 0 46 46\",\"xml:space\":\"preserve\"}},[_c('g',[_c('g',[_c('path',{attrs:{\"d\":\"M32.294,19H13.706c-2.209,0-4,1.791-4,4s1.791,4,4,4h18.588c2.209,0,4-1.791,4-4S34.503,19,32.294,19z\"}}),_vm._v(\" \"),_c('path',{attrs:{\"d\":\"M23,0C10.298,0,0,10.298,0,23c0,12.703,10.298,23,23,23s23-10.297,23-23C46,10.298,35.702,0,23,0z M23,40\\t\\t\\tc-9.374,0-17-7.625-17-17c0-9.373,7.626-17,17-17s17,7.627,17,17C40,32.375,32.374,40,23,40z\"}})])]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(param._active && param._extended),expression:\"param._active && param._extended\"}],staticClass:\"side-text\",staticStyle:{\"font-weight\":\"bold\"},attrs:{\"contenteditable\":\"true\",\"data-help-code\":\"search-parameter-parentesis-left\"},domProps:{\"innerHTML\":_vm._s(param.leftText)},on:{\"blur\":function($event){return _vm.changeText(i,$event,'leftText')},\"keyup\":function($event){return _vm.textKeyPress($event,'leftText',i)}}}),_c('div',{staticClass:\"highlight-text highlight-text-strong\",attrs:{\"contenteditable\":\"true\",\"data-help-code\":\"search-parameter-alias\"},on:{\"blur\":function($event){return _vm.editAliasName(i,$event)}}},[_vm._v(_vm._s(param.alias))]),_c('button',{staticStyle:{\"padding\":\"0\",\"border\":\"0\"},attrs:{\"data-help-code\":\"search-parameter-active\"},on:{\"click\":function($event){return _vm.activateParam(_vm.parameters.data[i],$event);}}},[_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(param._active),expression:\"param._active\"}],staticStyle:{\"enable-background\":\"new 0 0 470 470\"},style:({height:'12px','margin-bottom':'-1px','margin-left':'-2px',fill:(param._active?'blue':'')}),attrs:{\"version\":\"1.1\",\"id\":\"Layer_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"viewBox\":\"0 0 470 470\",\"xml:space\":\"preserve\"}},[_c('g',[_c('path',{attrs:{\"d\":\"M162.5,102.5c0-39.977,32.523-72.5,72.5-72.5s72.5,32.523,72.5,72.5V160h30v-57.5C337.5,45.981,291.519,0,235,0\\t\\tS132.5,45.981,132.5,102.5V160h30V102.5z\"}}),_vm._v(\" \"),_c('rect',{attrs:{\"x\":\"77.5\",\"y\":\"190\",\"width\":\"315\",\"height\":\"280\"}})]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')]),_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(!param._active),expression:\"!param._active\"}],staticStyle:{\"enable-background\":\"new 0 0 470 470\"},style:({height:'12px','margin-bottom':'-1px','margin-left':'-2px',fill:(param._active?'blue':'')}),attrs:{\"version\":\"1.1\",\"id\":\"Layer_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"viewBox\":\"0 0 470 470\",\"xml:space\":\"preserve\"}},[_c('g',[_c('rect',{attrs:{\"x\":\"137.5\",\"y\":\"190\",\"width\":\"315\",\"height\":\"280\"}}),_vm._v(\" \"),_c('path',{attrs:{\"d\":\"M192.5,102.5V160h30v-57.5C222.5,45.981,176.519,0,120,0S17.5,45.981,17.5,102.5V190h30v-87.5\\t\\tC47.5,62.523,80.023,30,120,30S192.5,62.523,192.5,102.5z\"}})]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(param._active),expression:\"param._active\"}],staticClass:\"highlight-text\",attrs:{\"contenteditable\":\"true\",\"data-help-code\":\"search-parameter-value\"},domProps:{\"innerHTML\":_vm._s(_vm.valueParam(param))},on:{\"blur\":function($event){return _vm.editParameter(i,$event)},\"focus\":function($event){return _vm.openContext(i,$event,param)},\"keyup\":function($event){return _vm.positionContext(i,$event,param);}}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(param._active && param._extended),expression:\"param._active && param._extended\"}],staticClass:\"side-text\",staticStyle:{\"font-weight\":\"bold\"},attrs:{\"contenteditable\":\"true\",\"data-help-code\":\"search-parameter-parentesis-right\"},domProps:{\"innerHTML\":_vm._s(param.rightText)},on:{\"blur\":function($event){return _vm.changeText(i,$event,'rightText')},\"keyup\":function($event){return _vm.textKeyPress($event,'rightText')}}}),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(param._active && _vm.admin),expression:\"param._active && admin\"}],staticStyle:{\"width\":\"16px\",\"border\":\"0\"},attrs:{\"data-help-code\":\"search-parameter-extend\"},on:{\"click\":function($event){_vm.parameters.data[i]._extended=!param._extended;_vm.emitParameters()}}},[_c('div',{class:{'arrow-left':param._extended,'arrow-right':!param._extended},staticStyle:{\"display\":\"block\",\"float\":\"left\",\"zoom\":\"0.42\",\"margin-top\":\"10px\",\"margin-left\":\"8px\",\"opacity\":\"0.5\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(param._extendKey),expression:\"param._extendKey\"}],attrs:{\"contenteditable\":\"true\",\"data-help-code\":\"search-parameter-key\"},domProps:{\"innerHTML\":_vm._s(param.key)},on:{\"blur\":function($event){return _vm.editKeyName(i,$event)}}}),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(param._extended),expression:\"param._extended\"}],staticStyle:{\"width\":\"16px\",\"border\":\"0\"},attrs:{\"data-help-code\":\"search-parameter-extend-key\"},on:{\"click\":function($event){_vm.parameters.data[i]._extendKey=!param._extendKey;_vm.emitParameters()}}},[_c('div',{class:{'arrow-left':param._extendKey,'arrow-right':!param._extendKey},staticStyle:{\"display\":\"block\",\"float\":\"left\",\"zoom\":\"0.42\",\"margin-top\":\"10px\",\"margin-left\":\"8px\",\"opacity\":\"0.5\"}})])])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    \r\n    <div data-component=\"query-editor\" style=\"\">\r\n        <ol style=\"width:100%\" ref=\"lista\">\r\n            <li class=\"param\" v-for=\"(param,i) in parameters.data\" :param=\"JSON.stringify(param)\" :data-active=\"param._active\">\r\n                <span class=\"grippy\"></span>\r\n                <button v-show=\"admin\" @click=\"deleteParam(i)\" class=\"close closeButton\" data-help-code=\"search-parameter-close\"></button>\r\n                <div style=\"white-space: nowrap;border: 1px solid #ddd;margin:0px 0 0px 0;padding:3px 1px\" class=\"parameter-toolbar\">\r\n                <button @click=\"setNewOrder(i)\" data-help-code=\"search-parameter-order\" style=\"text-transform:;;padding:0;border-left-color:transparent\">\r\n                    <!--<svg :style=\"{transform:`rotate(${param._orderby=='desc'?'90deg':(param._orderby=='asc'?'-90deg':'0deg')})`,height:'8px','margin-bottom':'0px','margin-left':'-2px'}\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 42 42\"><path :style=\"{fill:`${param._orderby=='desc'?'blue':(param._orderby=='asc'?'green':'')}`}\" d=\"M36.1 20.2l-29-20C6.8 0 6.4-0.1 6 0.1 5.7 0.3 5.5 0.6 5.5 1v40c0 0.4 0.2 0.7 0.5 0.9 0.1 0.1 0.3 0.1 0.5 0.1 0.2 0 0.4-0.1 0.6-0.2l29-20c0.3-0.2 0.4-0.5 0.4-0.8S36.3 20.4 36.1 20.2z\"/></svg>-->\r\n                    <svg v-show=\"param._orderby!='asc'&&param._orderby!='desc'\" :style=\"{height:'10px','margin-bottom':'0px','margin-left':'-2px'}\" version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\t width=\"427.484px\" height=\"427.484px\" viewBox=\"0 0 427.484 427.484\" style=\"enable-background:new 0 0 427.484 427.484;\"\t xml:space=\"preserve\"><g>\t<path d=\"M405.943,290.254L302.096,425.338c-1.04,1.354-2.66,2.146-4.374,2.146c-1.702,0-3.321-0.798-4.368-2.146L189.511,290.254\t\tc-0.769-0.993-1.144-2.176-1.144-3.357c0-1.152,0.364-2.329,1.108-3.322c1.499-1.975,4.125-2.707,6.434-1.809l68.76,27.166V21.01\t\tc0-3.047,2.477-5.503,5.515-5.503h55.106c3.038,0,5.509,2.456,5.509,5.503v287.922l68.76-27.166\t\tc2.305-0.898,4.93-0.166,6.419,1.809C407.473,285.561,407.461,288.28,405.943,290.254z M238.012,143.913\t\tc0.744-0.993,1.105-2.167,1.105-3.322c0-1.176-0.379-2.367-1.142-3.36L134.125,2.148C133.081,0.792,131.458,0,129.759,0\t\tc-1.714,0-3.328,0.798-4.377,2.148L21.539,137.23c-1.519,1.969-1.525,4.69-0.03,6.683c1.487,1.968,4.114,2.707,6.419,1.803\t\tl68.766-27.163v287.919c0,3.05,2.462,5.509,5.506,5.509h55.109c3.041,0,5.515-2.459,5.515-5.509V118.552l68.763,27.163\t\tC233.886,146.62,236.51,145.88,238.012,143.913z\"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg> \r\n\r\n                    <svg v-show=\"param._orderby=='asc'\" :style=\"{fill:'blue',height:'11px','margin-bottom':'0px','margin-left':'-2px'}\" version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\t viewBox=\"0 0 442.91 442.91\" style=\"enable-background:new 0 0 442.91 442.91;\" xml:space=\"preserve\"><g>\t<path d=\"M13.98,196.395c8.45,4.662,19.232,1.457,23.894-6.993l9.907-17.775c0.583,0,1.457,0.291,2.331,0.291h119.469\t\tc0.583,0,1.457,0,2.04,0l8.742,17.483c3.205,6.119,9.324,9.616,15.735,9.616c2.622,0,5.245-0.583,7.867-2.04\t\tc8.742-4.371,11.947-14.861,7.576-23.602L128.495,9.616c-2.914-5.828-8.742-9.324-15.152-9.616c-6.411,0-12.53,3.497-15.735,9.033\t\tl-90.33,163.76C2.616,181.243,5.53,191.733,13.98,196.395z M112.178,54.781l41.668,82.171H66.721L112.178,54.781z M25.635,413.188\t\tl120.052-124.714H38.165c-9.616,0-17.483-7.867-17.483-17.483c0-9.616,7.867-17.483,17.483-17.483h148.608\t\tc6.993,0,13.404,4.079,16.026,10.781c2.622,6.411,1.457,13.987-3.497,18.94L79.251,407.943h107.522\t\tc9.616,0,17.483,7.867,17.483,17.483s-7.867,17.483-17.483,17.483H38.165c-6.993,0-13.404-4.079-16.026-10.781\t\tC19.225,425.718,20.682,418.433,25.635,413.188z M294.586,377.639V84.502c0-9.616,7.867-17.483,17.483-17.483\t\ts17.483,7.867,17.483,17.483V327.52l77.218-97.615c6.119-7.576,16.9-8.742,24.477-2.914c7.576,6.119,8.742,16.901,2.914,24.477\t\tL325.765,388.42c-3.497,4.371-8.45,6.702-13.695,6.702c-2.04,0-3.788-0.291-5.828-0.874\t\tC299.249,391.625,294.586,385.215,294.586,377.639z\"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>\r\n\r\n                    <svg v-show=\"param._orderby=='desc'\" :style=\"{fill:'blue',height:'11px','margin-bottom':'0px','margin-left':'-2px'}\" version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\t viewBox=\"0 0 440.87 440.87\" style=\"enable-background:new 0 0 440.87 440.87;\" xml:space=\"preserve\"><g>\t<path d=\"M19.605,17.483C19.605,7.867,27.473,0,37.089,0h148.608c6.993,0,13.404,4.079,16.026,10.781\t\tc2.622,6.411,1.457,13.987-3.497,18.94L78.174,154.436h107.522c9.616,0,17.483,7.867,17.483,17.483s-7.867,17.483-17.483,17.483\t\tH37.089c-6.993,0-13.404-4.079-16.026-10.781c-2.622-6.411-1.457-13.987,3.497-18.94L144.611,34.967H37.089\t\tC27.473,34.967,19.605,27.099,19.605,17.483z M6.201,414.645l90.33-163.76c3.205-5.536,9.324-9.033,15.735-9.033\t\tc6.411,0,12.238,3.788,15.152,9.616l83.046,163.76c4.371,8.742,0.874,19.232-7.576,23.602c-2.622,1.166-5.245,2.04-7.867,2.04\t\tc-6.411,0-12.53-3.497-15.735-9.616l-8.742-17.483c-0.583,0-1.457,0-2.04,0H48.744c-0.874,0-1.457,0-2.331-0.291l-9.907,17.775\t\tc-4.662,8.45-15.444,11.656-23.894,6.993C4.453,433.585,1.539,423.095,6.201,414.645z M65.645,378.804h86.834l-41.668-82.171\t\tL65.645,378.804z M305.165,385.506c1.748,0.583,3.788,0.874,5.828,0.874c5.245,0,10.199-2.331,13.695-6.702l108.396-136.952\t\tc6.119-7.576,4.662-18.649-2.914-24.477c-7.576-6.119-18.649-4.662-24.477,2.914l-77.218,97.615V75.761\t\tc0-9.616-7.867-17.483-17.483-17.483c-9.616,0-17.483,7.867-17.483,17.483v293.136C293.51,376.473,298.172,382.884,305.165,385.506\t\tz\"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>               \r\n                </button>\r\n                <button @click=\"parameters.data[i]._inlist=!param._inlist;emitParameters()\" data-help-code=\"search-parameter-list\" style=\"\">\r\n                    <svg v-show=\"param._inlist\" :style=\"{height:'13px','margin-bottom':'-2px','margin-left':'-2px',fill:'blue'}\"  version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\t width=\"932.15px\" height=\"932.15px\" viewBox=\"0 0 932.15 932.15\" style=\"enable-background:new 0 0 932.15 932.15;\"\t xml:space=\"preserve\"><g>\t<path d=\"M466.075,161.525c-205.6,0-382.8,121.2-464.2,296.1c-2.5,5.3-2.5,11.5,0,16.9c81.4,174.899,258.601,296.1,464.2,296.1\t\ts382.8-121.2,464.2-296.1c2.5-5.3,2.5-11.5,0-16.9C848.875,282.725,671.675,161.525,466.075,161.525z M466.075,676.226\t\tc-116.1,0-210.1-94.101-210.1-210.101c0-116.1,94.1-210.1,210.1-210.1c116.1,0,210.1,94.1,210.1,210.1\t\tS582.075,676.226,466.075,676.226z\"/>\t<circle cx=\"466.075\" cy=\"466.025\" r=\"134.5\"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>\r\n\r\n                    <svg v-show=\"!param._inlist\" :style=\"{height:'13px','margin-bottom':'-2px','margin-left':'-2px'}\" version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\t viewBox=\"0 0 469.44 469.44\" style=\"enable-background:new 0 0 469.44 469.44;\" xml:space=\"preserve\"><g>\t<g>\t\t<g>\t\t\t<path d=\"M231.147,160.373l67.2,67.2l0.32-3.52c0-35.307-28.693-64-64-64L231.147,160.373z\"/>\t\t\t<path d=\"M234.667,117.387c58.88,0,106.667,47.787,106.667,106.667c0,13.76-2.773,26.88-7.573,38.933l62.4,62.4\t\t\t\tc32.213-26.88,57.6-61.653,73.28-101.333c-37.013-93.653-128-160-234.773-160c-29.867,0-58.453,5.333-85.013,14.933l46.08,45.973\t\t\t\tC207.787,120.267,220.907,117.387,234.667,117.387z\"/>\t\t\t<path d=\"M21.333,59.253l48.64,48.64l9.707,9.707C44.48,145.12,16.64,181.707,0,224.053c36.907,93.653,128,160,234.667,160\t\t\t\tc33.067,0,64.64-6.4,93.547-18.027l9.067,9.067l62.187,62.293l27.2-27.093L48.533,32.053L21.333,59.253z M139.307,177.12\t\t\t\tl32.96,32.96c-0.96,4.587-1.6,9.173-1.6,13.973c0,35.307,28.693,64,64,64c4.8,0,9.387-0.64,13.867-1.6l32.96,32.96\t\t\t\tc-14.187,7.04-29.973,11.307-46.827,11.307C175.787,330.72,128,282.933,128,224.053C128,207.2,132.267,191.413,139.307,177.12z\"\t\t\t\t/>\t\t</g>\t</g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>\r\n                </button>\r\n                <button @click=\"changeOperator(i)\" v-show=\"param._extended&&param._active\" data-help-code=\"search-parameter-operator\" style=\"width:auto;padding:0 3px\" v-html=\"param.operator=='AND'?'Y':'O'\"></button>\r\n                <button v-show=\"param._active\" @click=\"negateParam(i)\" data-help-code=\"search-parameter-negated\" style=\"padding:0;\">\r\n                    <svg :style=\"{height:'11px','margin-bottom':'-1px','margin-left':'-2px',fill:(param.leftText.toLowerCase().indexOf('not')!=-1?'red':'')}\" version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\t width=\"46px\" height=\"46px\" viewBox=\"0 0 46 46\" style=\"enable-background:new 0 0 46 46;\" xml:space=\"preserve\"><g>\t<g>\t\t<path d=\"M32.294,19H13.706c-2.209,0-4,1.791-4,4s1.791,4,4,4h18.588c2.209,0,4-1.791,4-4S34.503,19,32.294,19z\"/>\t\t<path d=\"M23,0C10.298,0,0,10.298,0,23c0,12.703,10.298,23,23,23s23-10.297,23-23C46,10.298,35.702,0,23,0z M23,40\t\t\tc-9.374,0-17-7.625-17-17c0-9.373,7.626-17,17-17s17,7.627,17,17C40,32.375,32.374,40,23,40z\"/>\t</g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>\r\n                </button>\r\n                <!--\r\n                <button v-show=\"param._active\" @click=\"likeParam(i)\" data-help-code=\"search-parameter-like\" style=\"padding:0;\">\r\n                    <svg :style=\"{height:'11px','margin-bottom':'-1px','margin-left':'-2px',fill:(param.like?'red':'')}\" version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\t width=\"46px\" height=\"46px\" viewBox=\"0 0 46 46\" style=\"enable-background:new 0 0 46 46;\" xml:space=\"preserve\"><g>\t<g>\t\t<path d=\"M32.294,19H13.706c-2.209,0-4,1.791-4,4s1.791,4,4,4h18.588c2.209,0,4-1.791,4-4S34.503,19,32.294,19z\"/>\t\t<path d=\"M23,0C10.298,0,0,10.298,0,23c0,12.703,10.298,23,23,23s23-10.297,23-23C46,10.298,35.702,0,23,0z M23,40\t\t\tc-9.374,0-17-7.625-17-17c0-9.373,7.626-17,17-17s17,7.627,17,17C40,32.375,32.374,40,23,40z\"/>\t</g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>\r\n                </button>\r\n                -->\r\n                </div>\r\n                <div v-show=\"param._active && param._extended\" contenteditable=\"true\" class=\"side-text\" v-html=\"param.leftText\" @blur=\"changeText(i,$event,'leftText')\" @keyup=\"textKeyPress($event,'leftText',i)\" data-help-code=\"search-parameter-parentesis-left\" style=\"font-weight:bold\"/>\r\n                <div contenteditable=\"true\" @blur=\"editAliasName(i,$event)\" data-help-code=\"search-parameter-alias\" class=\"highlight-text highlight-text-strong\">{{param.alias}}</div><!--\r\n                -->\r\n                <button @click=\"activateParam(parameters.data[i],$event);\" data-help-code=\"search-parameter-active\" style=\"padding:0;border:0\">\r\n                    <svg v-show=\"param._active\" :style=\"{height:'12px','margin-bottom':'-1px','margin-left':'-2px',fill:(param._active?'blue':'')}\" version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\t viewBox=\"0 0 470 470\" style=\"enable-background:new 0 0 470 470;\" xml:space=\"preserve\"><g>\t<path d=\"M162.5,102.5c0-39.977,32.523-72.5,72.5-72.5s72.5,32.523,72.5,72.5V160h30v-57.5C337.5,45.981,291.519,0,235,0\t\tS132.5,45.981,132.5,102.5V160h30V102.5z\"/>\t<rect x=\"77.5\" y=\"190\" width=\"315\" height=\"280\"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>\r\n\r\n                    <svg v-show=\"!param._active\" :style=\"{height:'12px','margin-bottom':'-1px','margin-left':'-2px',fill:(param._active?'blue':'')}\" version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\t viewBox=\"0 0 470 470\" style=\"enable-background:new 0 0 470 470;\" xml:space=\"preserve\"><g>\t<rect x=\"137.5\" y=\"190\" width=\"315\" height=\"280\"/>\t<path d=\"M192.5,102.5V160h30v-57.5C222.5,45.981,176.519,0,120,0S17.5,45.981,17.5,102.5V190h30v-87.5\t\tC47.5,62.523,80.023,30,120,30S192.5,62.523,192.5,102.5z\"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>                </button>\r\n                <div v-show=\"param._active\" @blur=\"editParameter(i,$event)\" @focus=\"openContext(i,$event,param)\" @keyup=\"positionContext(i,$event,param);\" contenteditable=\"true\" data-help-code=\"search-parameter-value\" v-html=\"valueParam(param)\"  class=\"highlight-text\"></div>\r\n                <div v-show=\"param._active && param._extended\" contenteditable=\"true\" class=\"side-text\" v-html=\"param.rightText\" @blur=\"changeText(i,$event,'rightText')\" @keyup=\"textKeyPress($event,'rightText')\" data-help-code=\"search-parameter-parentesis-right\" style=\"font-weight:bold\"/>\r\n                <!--\r\n                <button @click=\"changeType(i)\" v-show=\"param._extended\" data-help-code=\"search-parameter-datatype\" style=\"width:auto;padding:0 3px;border-width:0 1px 0 0\">{{param.data_type}}</button>\r\n                -->\r\n                <button v-show=\"param._active && admin\"  @click=\"parameters.data[i]._extended=!param._extended;emitParameters()\" style=\"width: 16px;border:0\" data-help-code=\"search-parameter-extend\">\r\n                    <div :class=\"{'arrow-left':param._extended,'arrow-right':!param._extended}\" style=\"display:block;float:left;zoom:0.42;margin-top:10px;margin-left:8px;opacity:0.5\"></div>&nbsp;\r\n                </button>\r\n                <div contenteditable=\"true\" @blur=\"editKeyName(i,$event)\" data-help-code=\"search-parameter-key\" v-show=\"param._extendKey\" v-html=\"param.key\"></div>\r\n                <button  @click=\"parameters.data[i]._extendKey=!param._extendKey;emitParameters()\" v-show=\"param._extended\" style=\"width: 16px;border:0\" data-help-code=\"search-parameter-extend-key\">\r\n                    <div :class=\"{'arrow-left':param._extendKey,'arrow-right':!param._extendKey}\" style=\"display:block;float:left;zoom:0.42;margin-top:10px;margin-left:8px;opacity:0.5\"></div>&nbsp;\r\n                </button>\r\n            </li>\r\n        </ol>\r\n    </div>\r\n\r\n\r\n</template>\r\n\r\n<script>\r\nimport queryEditor from './query-editor.js'\r\nexport default {\r\n    components: { },\r\n    props: {\r\n        params: [Array]\r\n        , dbID: String\r\n    },\r\n    data: function () {\r\n        return {\r\n            admin: this.api.parsedSearch.admin,\r\n            parameters: {data: JSON.cc(this.params)}\r\n            , focusedParamIndex: -1\r\n        }\r\n    },\r\n    watch: {\r\n        params: function (val, oldVal ) {\r\n            const fs = JSON.cc(val)\r\n            Object.keys ( fs ).forEach ( key => {\r\n                fs[key].value = fs[key].value == \"%\" ? \"\" : fs[key].value\r\n            })\r\n            this.parameters.data = fs\r\n        }\r\n    },\r\n    computed : {\r\n        settings() {\r\n            // ATENCIÓN: Misteriosamente, si no defino esta variable 'params' y luego la vuelvo a copiar con JSON.cc al instanciar el Queryeditor, algo se lía y llega mal la información de data_type de los parámetros\r\n            //debugger\r\n            const params = JSON.cc(this.parameters.data)\r\n            const qe = new queryEditor ( JSON.cc(params), this.$store.state.queries )\r\n            const localParams = qe.getParams()\r\n            const sqlSyntax = qe.getSqlSyntax()\r\n            const whereText = qe.getWhereText()\r\n            const orderBy = qe.getOrderBy()\r\n            const columns = qe.getColumns()\r\n            const sett = {sqlSyntax,params,whereText,columns,orderBy}\r\n            return sett\r\n        }\r\n     },\r\n   mounted: function () {\r\n        //jqui.sortable(this.$refs.lista)\r\n        $(this.$refs.lista).sortable({\r\n            handle: 'span'\r\n            , stop: this.sortableStop\r\n            , placeholder: \"ui-state-highlight\"\r\n        })\r\n     },\r\n    methods: {\r\n        positionContext(i,event,param) {\r\n            window.contextList.positionContext()\r\n            window.contextList.searchString = event.target.innerHTML\r\n            window.contextList.updateContext({searchString:event.target.innerHTML})\r\n            //this.openContext(i,event,param)\r\n            //setEndOfContenteditable(event.target)\r\n            /*\r\n            this.$nextTick ( function setEndOfContenteditable()\r\n            {\r\n                var range,selection,contentEditableElement = event.target\r\n                if(document.createRange)//Firefox, Chrome, Opera, Safari, IE 9+\r\n                {\r\n                    range = document.createRange();//Create a range (a range is a like the selection but invisible)\r\n                    range.selectNodeContents(contentEditableElement);//Select the entire contents of the element with the range\r\n                    range.collapse(false);//collapse the range to the end point. false means collapse to end rather than the start\r\n                    selection = window.getSelection();//get the selection object (allows you to change selection)\r\n                    selection.removeAllRanges();//remove any selections already made\r\n                    selection.addRange(range);//make the range you have just created the visible selection\r\n                }\r\n                else if(document.selection)//IE 8 and lower\r\n                { \r\n                    range = document.body.createTextRange();//Create a range (a range is a like the selection but invisible)\r\n                    range.moveToElementText(contentEditableElement);//Select the entire contents of the element with the range\r\n                    range.collapse(false);//collapse the range to the end point. false means collapse to end rather than the start\r\n                    range.select();//Select the range (make it the visible selection\r\n                }\r\n            })\r\n            */\r\n\r\n        },\r\n        emitParameters(params) {\r\n            this.$emit('paramUpdate',JSON.cc(this.parameters.data))\r\n        },\r\n        openContext(i,event,param,cbWhenClose) {\r\n            let parVal = param.value\r\n            try {\r\n                const json = JSON.parse ( parVal )\r\n                if ( typeof json == 'object' && !json.length ) { //es select con descripcion. Cancelo la contextList.\r\n                    const sql = json.sql\r\n                    , descripcion = json.descripcion\r\n                    if(cbWhenClose) cbWhenClose()\r\n                    return false\r\n                } \r\n            } catch ( err ) {  }\r\n\r\n            //if ( typeof parVal == 'object' ) parVal = JSON.stringify ( parVal )\r\n            //$(event.target).text(parVal)\r\n            const keyName = param.reference\r\n            , val = $(event.target).text()\r\n            , type = param.data_type\r\n            this.focusedParamIndex = i\r\n            //let [dbname,ownername,tablename,fieldname] = param.reference.split('.')\r\n            const dbname = param.table_catalog\r\n            , ownername = param.table_schema\r\n            , tablename = param.table_name\r\n            , table_config_keyname = param.table_config_keyname\r\n            , fieldname = param.key\r\n            let searchString = val\r\n            , pkName\r\n            //fieldname = param.reference\r\n            //tablename = `${dbname}.${ownername}.${tablename}`\r\n            /*\r\n            let searchString = \"\"\r\n            try {\r\n                const obj = JSON.parse ( val )\r\n            } catch ( err ) {searchString = val}\r\n            */\r\n            const that = this\r\n            //$(\"*\").css(\"cursor\", \"progress\");\r\n            const listModel = param.listModel //this.api.getListModel(param)\r\n            //debugger\r\n            pkName = param.table_pkname\r\n                /*\r\n            if ( ! listModel && type==\"text\" ) {\r\n                window.working(1)\r\n                //debugger\r\n                this.api.getFieldsForTable ( table_config_keyname, function( { fields, identities } ) {\r\n                    pkName = identities[0]\r\n                    //console.log(identities)\r\n                    window.contextList.openContext(keyName,$(event.target),val,type,that.contextListCheckClick,false,false,{pkName,dbname,ownername,tablename,fieldname,dbID:   that.dbID, searchString, cbWhenClose, qeParam: param } )\r\n                    window.working(0)\r\n                } )\r\n            } else {\r\n                window.contextList.openContext(keyName,$(event.target),val,type,that.contextListCheckClick,false,false,{pkName,dbname,ownername,tablename,fieldname,dbID:   that.dbID, searchString, cbWhenClose, qeParam: param } )\r\n            }\r\n                */\r\n            \r\n            window.contextList.openContext(keyName,$(event.target),val,type,that.contextListCheckClick,false,false,{pkName,dbname,ownername,tablename,fieldname,dbID:   that.dbID, searchString, cbWhenClose, qeParam: param } )\r\n\r\n        },\r\n        contextListCheckClick(checkedRows,operation,removedLiteral){\r\n            //const removedLiteral = removedElement?removedElement[Object.keys(removedElement)[1]] : \"\"\r\n            const i = this.focusedParamIndex\r\n            , par = this.parameters.data[i]\r\n            var checkedLiterals\r\n            let newLiteralsArr\r\n            if ( ! par ) return \r\n            if ( checkedRows.map ) {\r\n                newLiteralsArr = checkedRows.map ( row => row[Object.keys(row)[1]] )\r\n                checkedLiterals = JSON.stringify ( newLiteralsArr )\r\n                try {\r\n                    let arr = JSON.parse ( par.text )\r\n                    , set = new Set ( arr )\r\n                    if ( operation == \"add\" ) {\r\n                        set = new Set ( arr.concat ( newLiteralsArr ) )\r\n                    } else {\r\n                        set.delete ( removedLiteral )\r\n                    }\r\n                    checkedLiterals = JSON.stringify ( [...set] )\r\n                    //console.log(arr)\r\n                } catch {}\r\n            } else {\r\n                checkedLiterals = checkedRows\r\n            }\r\n            if ( checkedLiterals == \"[]\" ) checkedLiterals = \"\"\r\n            //console.log(checkedLiterals)\r\n            par.value = checkedLiterals\r\n            par.text = checkedLiterals\r\n            //return\r\n            //if ( window.contextList.simpleTableSearchString (searchString) )\r\n            //window.contextList.searchString = checkedLiterals\r\n            window.contextList.firstSearchString = checkedLiterals\r\n            //window.contextList.checkedRows = window.contextList.getCheckedRowsFromInput(checkedLiterals,window.contextList.rows) \r\n            this.emitParameters()\r\n        },\r\n        deleteParam (i) {\r\n            //return\r\n            this.parameters.data.splice(i,1)\r\n            this.emitParameters()\r\n            this.$nextTick(function(){this.$emit('paramDelete',i)})\r\n            \r\n        },\r\n        activateParam (param,event) {\r\n            param._active=!param._active;\r\n            this.emitParameters()\r\n            if ( ! event ) return false\r\n            const $textField = $(event.target).closest('li').find('.highlight-text')//=\"search-parameter-value\"]')\r\n            setTimeout ( ()=>$textField.eq(1).focus(), 100)\r\n        },\r\n        negateParam (i) {\r\n            const param = this.parameters.data[i]\r\n            if(param.leftText.toLowerCase().indexOf('not')!=-1){\r\n                param.leftText=param.leftText.toLowerCase().replace('not','')\r\n            }else{\r\n                param.leftText = 'not' + param.leftText\r\n            }\r\n            this.emitParameters()\r\n        },\r\n        likeParam (i) {\r\n            this.parameters.data[i].like = this.parameters.data[i].like ? ! this.parameters.data[i].like : 1\r\n            this.emitParameters()\r\n        },\r\n        valueParam (param) {\r\n            const val = param.value\r\n            try {\r\n                const json = JSON.parse ( val )\r\n                if ( typeof json == 'object' && !json.length ) { //es select con descripcion\r\n                    const sql = json.sql\r\n                    , descripcion = json.descripcion\r\n                    return descripcion\r\n                } else {\r\n                    return val\r\n                }\r\n            } catch ( err ) { return val }\r\n        },\r\n        setNewOrder(parameterIndex){\r\n            const orders = ['-','asc','desc']\r\n            , order = this.parameters.data[parameterIndex]._orderby\r\n            , actualOrderIndex = orders.indexOf(order) == -1 ? 0 : orders.indexOf(order)\r\n            , nextOrderIndex = (actualOrderIndex+1) > (orders.length-1) ? 0 : (actualOrderIndex+1)\r\n            , newOrder = orders[nextOrderIndex]\r\n            this.parameters.data[parameterIndex]._orderby=newOrder\r\n            this.emitParameters()\r\n            return newOrder\r\n        },\r\n        setQuery (params) {\r\n            //this.clear()\r\n            this.parameters.data = this.parameters.data.concat(params)\r\n            this.emitParameters()\r\n        },\r\n        editKeyName ( i, event ) {\r\n            const parametersCopy = JSON.cc(this.parameters.data)\r\n            parametersCopy[i].key=$(event.target).text()\r\n            this.parameters.data=parametersCopy\r\n            this.emitParameters()\r\n            //this.$emit('paramUpdate',parametersCopy)\r\n        },\r\n        editAliasName ( i, event ) {\r\n            const parametersCopy = JSON.cc(this.parameters.data)\r\n            parametersCopy[i].alias=$(event.target).text()\r\n            this.parameters=Object.assign(this.parameters,{data:parametersCopy})\r\n            this.emitParameters()\r\n            //this.$emit('paramUpdate',parametersCopy)\r\n        },\r\n        sortableStop (event,ui) {\r\n            //const $li = $(ui.item)\r\n            //, $lis = $li.parent().find('li')\r\n            const $lis = $(this.$refs.lista).find('li')\r\n            , params = []\r\n            $lis.each ( function () {\r\n                params.push ( JSON.parse($(this).attr('param')) )\r\n            })\r\n            $(this.$refs.lista).sortable('cancel')\r\n            this.parameters.data = params//_.reverse(params)\r\n            this.emitParameters()\r\n            this.$emit ( 'paramUpdate', 'resorted' )\r\n        },\r\n        filter () {\r\n\r\n        },\r\n        formChange(item) {\r\n        },\r\n        editParameter(i,event) {\r\n            const target = event.target\r\n            const newValue = $(target).text()//innerHTML\r\n            const par = this.parameters.data[i]\r\n            par.value = newValue\r\n            par.text = newValue\r\n            //window.bus.$emit('contextListBlur')\r\n            window.contextList.closeContext()\r\n            this.emitParameters()\r\n            //$(target).text(this.valueParam(par))\r\n            //this.$emit('paramUpdate',JSON.cc(this.parameters.data))\r\n        },\r\n        clear(){\r\n            this.parameters.data = []\r\n        },\r\n        changeOperator ( i ) {\r\n            const actualOperator = this.parameters.data[i].operator\r\n            , newOperator = ( actualOperator == 'AND' ? 'OR' : 'AND' )\r\n            this.parameters.data[i].operator = newOperator\r\n            this.emitParameters()\r\n            //this.$emit('paramUpdate',JSON.cc(this.parameters.data))\r\n        },\r\n        changeType ( i ) {\r\n            const actualType = this.parameters.data[i].data_type\r\n            , newType = ( actualType == 'text' ? 'number' : ( actualType == 'number' ? 'date' : 'text' ) )\r\n            this.parameters.data[i].data_type = newType\r\n            this.emitParameters()\r\n            //this.$emit('paramUpdate',JSON.cc(this.parameters.data))\r\n        },\r\n        changeText (i, event, o) {\r\n            const val = $(event.target).text()\r\n            this.parameters.data[i][o] = val\r\n            this.parameters.data[i][o] = val\r\n            this.emitParameters()\r\n            //this.$emit('paramUpdate',JSON.cc(this.parameters.data))\r\n        },\r\n        extendParam(i) {\r\n\r\n        },\r\n        textKeyPress (event,o,paramIndex) {\r\n            //return\r\n\t\t\tconst keycode = event.keyCode\r\n            //, val = event.target.value\r\n\t\t\t, leftValidkeycodesRegExp = new RegExp (/[^not(]/g)\r\n\t\t\t, rightValidkeycodesRegExp = new RegExp (/[^)]+/g)\r\n\t\t\t, validkeycodesRegExp = ( o == \"leftText\" ? leftValidkeycodesRegExp : rightValidkeycodesRegExp )\r\n\t\t\t, val = $(event.target).text().replace(validkeycodesRegExp,\"\")\r\n            //event.stopPropagation();\r\n            //this.parameters.data[paramIndex] = Object.assign({},this.parameters.data[paramIndex],{leftText:val})\r\n            if($(event.target).html()!=val)$(event.target).html(val)\r\n            //this.$emit('paramUpdate',JSON.cc(this.parameters.data))\r\n            //event.target.value = val\r\n\t\t\t//$inp.width($span.width());\r\n\r\n        }\r\n    },\r\n    updated () {\r\n        //this.sortableStop()\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n .ui-state-highlight { height: 1.5em; line-height: 1.2em; }\r\n    button {\r\n        background: transparent;\r\n        border: 0 solid #ddd;\r\n        border-width: 0 0 0 1px;\r\n        cursor: default;\r\n        margin:4px 0 0 0 ;\r\n        outline: none;\r\n        padding: 0px;\r\n        width: 19px;\r\n\r\n    }\r\n    button:hover {\r\n        background: #ddd;\r\n    }\r\n    button:focus {\r\n    }\r\n    ol {\r\n        width: 100px;\r\n        list-style:none;\r\n        //background:red;\r\n        margin: 0;\r\n        padding: 0;\r\n    }\r\n    li {\r\n        list-style:none;\r\n        float: left;\r\n        margin: 0;\r\n        padding: 2px;\r\n        border: 1px solid #ddd;\r\n        white-space: nowrap;\r\n        border-radius: 0 10px 10px 0;\r\n        //box-shadow: 0px 0px 2px 0px white;\r\n        //background:white;\r\n        //width: 200px;\r\n    }\r\n    input {\r\n        width: 20px;\r\n    }\r\n    div {\r\n        //float:left;\r\n        display: inline;\r\n        white-space: normal;\r\n    }\r\n    div[contenteditable=\"true\"]:hover{\r\n        border:1px solid #ddd;\r\n    }\r\n    div[contenteditable=\"true\"]{\r\n        border:1px solid transparent;\r\n        //border-width: 0 1px 0 0;\r\n        padding:3px;\r\n        //margin: 0 3px;\r\n        display:inline-block;\r\n        width: auto;\r\n        min-width: 15px;\r\n        //background-color: #ffdf00;\r\n    }\r\n    div[value]{\r\n        //background:#f2f2f2;\r\n    }\r\n    .param:hover {\r\n        background: #fafafa;\r\n    }\r\n    .param {\r\n        margin:4px;\r\n        background:#f2f2f2;\r\n        display:flex;\r\n        align-items:flex-start;\r\n        flex-flow:row wrap;\r\n        position:relative;\r\n        padding-right: 15px;\r\n    }\r\n    .param[data-active]{\r\n        background:white;\r\n        border-color: blue;\r\n        //box-shadow: 1px 1px 2px #ddd;\r\n    }\r\n    .param>* {\r\n        float:left;\r\n        //white-space: nowrap;\r\n    }\r\n    div[contenteditable=\"true\"].side-text {\r\n        border:1px solid #ddd;\r\n    }\r\n    .closeButton {\r\n        top: -3px;\r\n        right: 2px;\r\n        border: 0;\r\n        //float: right;\r\n        cursor: default;\r\n        width: 14px;\r\n        position:absolute;\r\n    }\r\n    .closeButton:hover {\r\n        background: #e26c62;\r\n    }\r\n    .parameter-toolbar button {\r\n        margin-top: -2px\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./query-editor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./query-editor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./query-editor.vue?vue&type=template&id=413074b1&scoped=true&\"\nimport script from \"./query-editor.vue?vue&type=script&lang=js&\"\nexport * from \"./query-editor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./query-editor.vue?vue&type=style&index=0&id=413074b1&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"413074b1\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"container\",staticStyle:{\"display\":\"none\",\"position\":\"absolute\",\"margin\":\"-5px 0px 0 -5px\",\"padding\":\"10px\",\"width\":\"calc(100% - 16px)\",\"height\":\"calc(100% - 17px)\",\"background\":\"#f2f2f2\",\"border\":\"1xp solid gray\",\"z-index\":\"99999\",\"box-sizing\":\"border-box\"}},[_c('div',{staticClass:\"custom-title\",staticStyle:{\"padding\":\"10px\",\"font-size\":\"17px\"}},[_vm._v(_vm._s(_vm.operation)+\" serie de registros\")]),_c('br'),_c('table',{staticStyle:{\"width\":\"100%\"}},[_c('tr',[_vm._m(0),_c('td',{staticStyle:{\"width\":\"50%\",\"text-align\":\"right\",\"align\":\"right\"}},[_c('button',{staticClass:\"btn btn-primary\",staticStyle:{\"float\":\"right\",\"margin-left\":\"20px\"},on:{\"click\":function($event){return _vm.hide()}}},[_vm._v(\"Cerrar\")]),_c('button',{staticClass:\"btn btn-primary\",staticStyle:{\"float\":\"right\",\"margin-left\":\"20px\"},on:{\"click\":function($event){return _vm.clear()}}},[_vm._v(\"Borrar\")]),_c('button',{staticClass:\"btn btn-primary\",staticStyle:{\"float\":\"right\",\"text-transform\":\"capitalize\",\"margin-left\":\"20px\"},on:{\"click\":function($event){return _vm.operate()}}},[_vm._v(_vm._s(_vm.operation))])])])]),_c('br'),_c('div',{staticStyle:{\"overflow\":\"auto\",\"height\":\"calc(100% - 120px)\"}},[_vm._l((_vm.parameters),function(param,i){return _c('div',[_c('label',{staticStyle:{\"font-weight\":\"normal\"}},[_vm._v(_vm._s(param.alias))]),_c('Field',{staticStyle:{\"height\":\"24px\",\"width\":\"400px\"},attrs:{\"keyName\":_vm.keyParam(param),\"type\":param.type,\"singlecheck\":true,\"value\":{value:param.series.replaceValue,text:param.text,paramIndex:i}},on:{\"input\":_vm.setState}})],1)}),_c('div',{staticStyle:{\"float\":\"none\",\"clear\":\"both\"}})],2)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',[_c('ul',[_c('li',[_vm._v(\"- Sólo se pueden modificar campos de la tabla principal (los demás no se muestran en este formulario).\")]),_c('li',[_vm._v(\"- Actua sobre la serie de registros seleccionados.\")]),_c('li',[_vm._v(\"- Sólo altera el contenido de los campos aquí cumplimentados.\")])])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"container\"},[_c('textarea',{staticClass:\"form-control\",staticStyle:{\"height\":\"100%\",\"width\":\"100%\",\"resize\":\"none\",\"font-size\":\"11px\"},on:{\"keyup\":function($event){_vm.internalValue.text = $event.target.value;_vm.emitContent()},\"focus\":function($event){return _vm.openContext($event)},\"blur\":function($event){return _vm.closeContext()}}},[_vm._v(_vm._s(_vm.internalValue.text))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div ref=\"container\" style=\"\">\r\n        <textarea class=\"form-control\" style=\"height:100%; width: 100%; resize: none; font-size:11px\" @keyup=\"internalValue.text = $event.target.value;emitContent()\" @focus=\"openContext($event)\" @blur=\"closeContext()\">{{internalValue.text}}</textarea>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    components: {  },\r\n    props: {\r\n        keyName: String,\r\n        value: Object,\r\n        type: String,\r\n        singlecheck: Boolean\r\n    },\r\n    data() {\r\n        return {\r\n            internalValue: this.value\r\n        }\r\n    },\r\n    computed: {\r\n    },\r\n    watch: {\r\n        value(val,oldVal){\r\n            this.internalValue = val\r\n        }\r\n    },\r\n    methods: {\r\n        openContext(event) {\r\n            window.contextList.openContext(this.keyName,$(event.target),this.internalValue.value,this.type,this.contextListCheckClick,false,this.singlecheck)\r\n        },\r\n        closeContext(event){\r\n            window.contextList.closeContext()\r\n        },\r\n        contextListCheckClick(checkedRows){\r\n            //console.log(checkedRows)\r\n            var text, value\r\n            if ( checkedRows.map ) { //Es lista desplegable\r\n                const row = checkedRows[0]\r\n                text = JSON.stringify ( checkedRows.map ( row => row[Object.keys(row)[1]] ) )\r\n                value = row[Object.keys(row)[0]]\r\n            } else { //Es valor de texto plano\r\n                text = checkedRows\r\n                value = checkedRows\r\n            }\r\n            this.internalValue.text = text\r\n            this.internalValue.value = value\r\n            this.emitContent()\r\n            //this.emitParameters()\r\n        },\r\n        emitContent() {\r\n            \r\n            this.$emit('input',JSON.cc(this.internalValue))\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./field.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./field.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./field.vue?vue&type=template&id=6ce698f8&\"\nimport script from \"./field.vue?vue&type=script&lang=js&\"\nexport * from \"./field.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div ref=\"container\" style=\"display: none; position:absolute; margin: -5px 0px 0 -5px; padding: 10px;width: calc(100% - 16px); height: calc(100% - 17px); background: #f2f2f2; border:1xp solid gray;z-index:99999; box-sizing:border-box\">\r\n        <div class=\"custom-title\" style=\"padding:10px; font-size: 17px\">{{operation}} serie de registros</div>\r\n        <br>\r\n        <table style=\"width:100%;\">\r\n            <tr>\r\n                <td>\r\n                    <ul>\r\n                        <li>- Sólo se pueden modificar campos de la tabla principal (los demás no se muestran en este formulario).</li>\r\n                        <li>- Actua sobre la serie de registros seleccionados.</li>\r\n                        <li>- Sólo altera el contenido de los campos aquí cumplimentados.</li>\r\n                    </ul>\r\n                </td>\r\n                <td style=\"width:50%;text-align:right;align:right\">\r\n                    <button class=\"btn btn-primary\" style=\"float:right; margin-left:20px;\" @click=\"hide()\">Cerrar</button>\r\n                    <button class=\"btn btn-primary\" style=\"float:right; margin-left:20px;\" @click=\"clear()\">Borrar</button>\r\n                    <button class=\"btn btn-primary\" @click=\"operate()\" style=\"float:right; text-transform: capitalize; margin-left:20px;\">{{operation}}</button>\r\n                </td>\r\n            </tr>\r\n        </table>\r\n        <br>\r\n        <div style=\"overflow:auto; height: calc(100% - 120px);\">\r\n            <div v-for=\"(param,i) in parameters\">\r\n                <label style=\"font-weight: normal\">{{param.alias}}</label>\r\n                <!--\r\n                <textarea class=\"form-control\" style=\"height:24px; width: 400px; resize: none; font-size:11px\" @blur=\"setState($event, param)\" @focus=\"openContext(i,$event,param)\" v-model=\"param.text\"></textarea>\r\n                -->\r\n                <Field style=\"height:24px; width: 400px;\" @input=\"setState\" :keyName=\"keyParam(param)\" :type=\"param.type\" :singlecheck=\"true\" :value=\"{value:param.series.replaceValue,text:param.text,paramIndex:i}\"></Field>\r\n            </div>\r\n            <div style=\"float:none;clear:both\"></div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport Field from './field.vue'\r\n\r\nexport default {\r\n    components: { Field }\r\n    , props: {\r\n        operation: String,\r\n        fields: Array\r\n    }\r\n    , data() {\r\n        return {\r\n            parameters: []//JSON.cc ( this.fields )\r\n        }\r\n    },\r\n    computed: {\r\n    },\r\n    watch: {\r\n        fields: function (val, oldVal ) { \r\n            // Esto fabrica la variable interna 'parameters' a partir de los campos recibidos desde el listado pero manteniendo los valores introducidos para la sustitución anterior.\r\n            val.forEach ( par1 => {\r\n                this.clearParam ( par1 )\r\n                const key1 = this.keyParam ( par1 )\r\n                this.parameters.forEach ( par2 => {\r\n                    const key2 = this.keyParam ( par2 )\r\n                    if ( key1 == key2 ) { this.copyParam ( par1, par2 ) }\r\n                })\r\n            })\r\n            this.parameters = JSON.cc ( val )\r\n            //this.parameters.forEach ( param => { param.value = \"\"; param.text = \"\"; delete param.series } )\r\n            //console.log('aa')\r\n        }\r\n    }\r\n    , methods: {\r\n        show () {\r\n            $(this.$refs.container).show()\r\n        },\r\n        hide () {\r\n            $(this.$refs.container).hide()\r\n        },\r\n        clear () {\r\n            this.parameters.forEach ( par => { this.clearParam(par) } )\r\n        },\r\n        operate() {\r\n            if ( ! confirm ('Alterar la serie de registros?') ) return false\r\n            this.$emit('operate', this.parameters)\r\n        },\r\n        clearParam (par) {\r\n            par.value=\"\"\r\n            par.text=\"\" \r\n            par.series={}\r\n            par.series.replaceValue=\"\"\r\n        },\r\n        copyParam (par1,par2) {\r\n            par1.value = par2.value\r\n            par1.text = par2.text\r\n            if ( par1.series && par2.series ) par1.series.replaceValue = par2.series.replaceValue\r\n        },\r\n        keyParam ( par ) {\r\n            return ( par.reference ? par.reference : par.key )\r\n        },\r\n        setState(state) {\r\n            state = JSON.cc(state)\r\n            const field = this.parameters[state.paramIndex]\r\n            field.text = state.text\r\n            if ( ! field.series ) field.series = {}\r\n            field.series.replaceValue = state.value\r\n            //window.contextList.closeContext()\r\n        },\r\n        /*\r\n        openContext(i,event,param) {\r\n            let parVal = param.value\r\n            //if ( typeof parVal == 'object' ) parVal = JSON.stringify ( parVal )\r\n            $(event.target).text(parVal)\r\n            const keyName = this.keyParam ( param )\r\n            , val = $(event.target).text()\r\n            , type = param.data_type\r\n            , singlecheck = true\r\n            this.focusedParamIndex = i\r\n            window.contextList.openContext(keyName,$(event.target),val,type,this.contextListCheckClick,false,singlecheck)\r\n        },\r\n        contextListCheckClick(checkedRows){\r\n            const i = this.focusedParamIndex\r\n            , par = this.parameters[i]\r\n            , literal = checkedRows.map ( row => row[Object.keys(row)[1]] )\r\n            , row = checkedRows[0]\r\n            , id = row[Object.keys(row)[0]]\r\n            console.log(JSON.stringify ( literal ))\r\n            //console.log(par)\r\n            if ( ! par ) return \r\n            par.value = JSON.stringify ( literal )\r\n            par.text = JSON.stringify ( literal )\r\n            par.series.replaceValue = id\r\n            //this.emitParameters()\r\n        },\r\n        */\r\n    }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Series.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Series.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Series.vue?vue&type=template&id=2edfd9d9&\"\nimport script from \"./Series.vue?vue&type=script&lang=js&\"\nexport * from \"./Series.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import SimpleTable from 'D:/data/iis/simple-table/src/components/simple-table.vue'\r\nimport Ly from './layout.vue'\r\nimport ItemEditor from './item-editor.vue'\r\nimport Queryeditor  from './query-editor.vue'\r\nimport Toolbar from './tool-bar.vue'\r\nimport Series from './Series.vue'\r\nimport { _ } from 'core-js'\r\n\r\nexport default {\r\n    components: { ItemEditor, SimpleTable, Queryeditor, Toolbar, Ly, Series },\r\n    props: {\r\n        multiline: String,\r\n        ventana: Object,\r\n        filter: Array,\r\n        overflow: Boolean,\r\n        formSetValues: Function,\r\n        keysSettings: Object,\r\n        resetVentana: Function\r\n    },\r\n    data: function () {\r\n        return {\r\n            showAdvanced: false,\r\n            series: {\r\n                operation: \"sobreescribir\"\r\n            },\r\n            checkedIndexes: [],\r\n            admin: this.api.parsedSearch.admin,\r\n            show: {\r\n                queryEditor: false\r\n            },\r\n            selected_pk_id: \"\",\r\n            custom_buttons : this.api.$buttonsForTable ( this.ventana.data.table ),\r\n            buttons: [\r\n                {\r\n                    label: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 44 44\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" enable-background=\"new 0 0 44 44\"><g><circle cx=\"20\" cy=\"20\" r=\"7\"></circle><path d=\"m22,0c-12.2,0-22,9.8-22,22s9.8,22 22,22 22-9.8 22-22-9.8-22-22-22zm12.7,33.3l-1.4,1.4c-0.4,0.4-1,0.4-1.4,0l-5.4-5.4c-0.2-0.2-0.4-0.2-0.6-0.1-1.7,1.1-3.7,1.7-5.9,1.7-6.1,0-11-4.9-11-11s4.9-11 11-11 11,4.9 11,11c0,2.2-0.6,4.2-1.7,5.9-0.1,0.2-0.1,0.5 0.1,0.6l5.4,5.4c0.3,0.5 0.3,1.1-0.1,1.5z\"></path></g></svg>`,\r\n                    onClick: ()=>this.loadPage()\r\n                    , helpCode: \"list-toolbar-loadpage\"\r\n                },\r\n                {\r\n                    label: `<svg data-help-code=\"list-toolbar-clear\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 330.5 330.5\"><path d=\"M178.3 136.6l16.4 16.4 69.7-69.7c2.3-2.3 3.4-5.2 3.4-8.2 0-3-1.1-5.9-3.4-8.2 -4.5-4.5-11.8-4.5-16.4 0L178.3 136.6zM172.3 140.2l-0.7-0.7 -12.4 12.4 -7.7 7.7 20.4 20.4 8.3-8.3 11.8-11.8 -0.9-0.9 -1.2-1.2 -16.4-16.4L172.3 140.2zM66.8 197.2c-0.1 0-0.2 0.1-0.3 0.1 -0.5 0.1-0.9 0.3-1.3 0.6l-0.2 0.1L65 198c-0.5 0.3-0.8 0.7-1.2 1.2 -0.3 0.5-0.6 1-0.8 1.6 -0.5 1.7-0.3 3.7 1.3 4.9 3.8 3 7.7 6 11.6 8.9l0.7-0.3 1.7-0.7L80 213l14.1-5.4 20.6-7.9 -14.3 16.6 -8 9.2 -1.1 1.3 -1.1 1.3 -1.1 1.3c0.8 0.3 1.6 0.4 2.5 0.2 0.5-0.1 1-0.3 1.6-0.5 0.1 0 0.1-0.1 0.2-0.1 0.6-0.3 1.1-0.5 1.7-0.7l3.3 3.3c0 0.8-0.1 1.5-0.1 2.3 -0.1 0.7-0.1 1.5-0.2 2.2 -0.1 1.1-0.3 2.2-0.6 3.3 -0.6 2.5 0.8 5.7 3.5 6.2 4.4 0.9 8 2.4 11.1 4.5 3.5 2.4 6.4 5.4 9.1 9.1 1.3 1.8 2.6 3.6 3.9 5.6 1 1.6 2.6 2.3 4.1 2.3 0.7 0 1.4-0.1 2-0.4 2.4-0.9 4.2-3.4 3.1-6.2l32.3-75.5 -20.2-20.2L66.8 197.2zM165.2 330.5L165.2 330.5C74 330.5 0 256.5 0 165.2v0C0 74 74 0 165.2 0h0c91.3 0 165.2 74 165.2 165.2v0C330.5 256.5 256.5 330.5 165.2 330.5z\"/></svg>`,\r\n                    onClick: function () { \r\n                        if ( ! confirm ( '¿Borrar los parámetros de filtrado?' ) ) return false\r\n                        this.$store.commit ( 'Ventana_injectQE' , {indexVentana:this.ventana.index,qeParams:[]} )\r\n                        this.$refs.qe.clear() \r\n                        this.clearSimpleTable()\r\n                    }.bind(this)\r\n                    //, title: \"Borrar los parámetros de filtrado\"\r\n                },\r\n                {\r\n                    label: `<svg data-help-code=\"list-toolbar-excel\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path d=\"M371.5 128h-67.6L256 198.5 208.1 128h-67.6l81.1 121.2L130.1 384h131.1v-45.8h-30.3l25.1-37.5 55.7 83.3h70.2l-91.5-134.8L371.5 128zM512 256c0 141.4-114.6 256-256 256S0 397.4 0 256 114.6 0 256 0 512 114.6 512 256z\"/></svg>`,\r\n                    onClick: function () { this.downloadListAsFile() }.bind(this)\r\n                    //, title: \"Obtener un Excel con la totalidad del listado.\"\r\n                }\r\n            ],\r\n            buttonsVistas:[\r\n                {\r\n                    label: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 256 256\" style=\"transform:rotate(180deg)\"><path d=\"M180.52,149v33.92H76.75V149H56.81v43.9a10,10,0,0,0,10,10H190.47a10,10,0,0,0,10-10V149H180.52Zm-48.3-3.08c3.39-3.38,27.68-35.63,27.68-35.63s4.3-4.29-1.41-4.29H143.63V56.41s0.06-2.06-2.6-2.06H118.39c-3.69,0-3,2.45-3,2.45V107H99.25c-4.71,0-.37,4.1-0.37,4.1l28.55,34.5S129.78,148.37,132.22,145.92ZM128,256h0A128,128,0,0,1,0,128H0A128,128,0,0,1,128,0h0A128,128,0,0,1,256,128h0A128,128,0,0,1,128,256Z\"></path></svg>`,\r\n                    helpCode:\"list-toolbar-loadvista\",\r\n                    onClick: function(){\r\n                        const query = this.$store.state.selectedQuery\r\n                        , qeParams = JSON.cc(query.queryEditor.params)\r\n                        let actualQeParams = this.$store.getters.qeParams(this.ventana.index)\r\n                        if ( ! actualQeParams ) actualQeParams = []\r\n                        this.clearSimpleTable()\r\n                        //this.$refs.qe.setQuery(qeParams)\r\n                        this.$store.commit ( 'Ventana_injectQE' , {indexVentana:this.ventana.index,qeParams:actualQeParams.concat(qeParams)} )\r\n                    }.bind(this)\r\n                    //, title: \"Cargar Vista\"\r\n                },\r\n                {\r\n                    label: `<svg data-help-code=\"list-toolbar-savevista\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 256 256\"><path d=\"M180.52,149v33.92H76.75V149H56.81v43.9a10,10,0,0,0,10,10H190.47a10,10,0,0,0,10-10V149H180.52Zm-48.3-3.08c3.39-3.38,27.68-35.63,27.68-35.63s4.3-4.29-1.41-4.29H143.63V56.41s0.06-2.06-2.6-2.06H118.39c-3.69,0-3,2.45-3,2.45V107H99.25c-4.71,0-.37,4.1-0.37,4.1l28.55,34.5S129.78,148.37,132.22,145.92ZM128,256h0A128,128,0,0,1,0,128H0A128,128,0,0,1,128,0h0A128,128,0,0,1,256,128h0A128,128,0,0,1,128,256Z\"></path></svg>`,\r\n                    //title: \"Guardar Vista\",\r\n                    onClick: function() { \r\n                        if ( ! confirm ( '¿Crear una vista con este filtro?' ) ) return false\r\n                        const table = this.ventana.data.table\r\n                        , queryEditor = JSON.cc(this.$refs.qe.settings)//JSON.cc(this.queryEditor)\r\n                        , orderby = JSON.cc(this.orderby)\r\n                        , tablesRelation = this.tablesRelation\r\n                        , joinSyntax = tablesRelation.joinSyntax\r\n                        , uniqueid = new Date().valueOf().toString()\r\n                        , vista = { table, joinSyntax, queryEditor, orderby }\r\n                        this.api.getIdentitiesForTableSet ( table , function( identities ) {\r\n                            vista.identities = identities\r\n                            vista.whereSql = this.grid.whereSql\r\n                            //vista.whereText = this.$refs.qe.queryEditor.getWhereText()\r\n                            //vista.name = this.$refs.qe.settings.whereText\r\n                            vista.name = uniqueid\r\n                            vista.customName = ''//uniqueid\r\n                            vista.tableNames = tablesRelation.names\r\n                            vista.descripcion = \"\"\r\n                            vista.fecha = this.utils.getSpDate(new Date())\r\n                            vista.tipo = \"Normal\"\r\n                            this.$store.commit ( 'Query_add' , {query:vista,cb:(recordset)=>{console.log(recordset);window.circus.loadQueries();window.circus.showHelpBox ( {title:'Vista creada',text:'Se ha creado una nueva vista con el filtro actual.'}, true )}} )\r\n                            \r\n                            //this.$store.state.queries.push (vista)\r\n                        }.bind(this))\r\n                     }.bind(this)\r\n                },\r\n            ],\r\n            grid: {\r\n                rows: [],\r\n                rowCount: 0,\r\n                page: 0,\r\n                recXPag: 100,\r\n                loadedRecsNumber: 0,\r\n                //rowIds: [],\r\n                whereSql: \"\",\r\n                selectSql: \"\",\r\n                columns: {\r\n                    names: []\r\n                    , widths: []\r\n                    , types: []\r\n                }\r\n            },\r\n            queryEditor: {\r\n                params: {}//this.injectedParams\r\n            },\r\n            orderby: {},\r\n            //showComputer: false\r\n            \r\n        }\r\n    },\r\n    watch: {\r\n        filter: function (object, oldVal ) {\r\n            object = JSON.cc(object)\r\n            //convierto objeto con campos del formulario a array para el QE.\r\n            //const qeParams = Object.keys(object).map ( key => ( Object.assign ( {}, object[key], { \r\n            const qeParams = object.map ( par => {\r\n                const key = par.column_name\r\n                //, parKey = this.api.getListColumnSql ( par )\r\n                , alias = par.label // this.shortAlias ( this.api.getLiteral ( key ) )\r\n                , data_type = this.utils.getBasicDataType(par.data_type) \r\n                const newPar = Object.assign ( \r\n                    {}\r\n                    , par\r\n                    , { \r\n                        alias\r\n                        //, key: parKey\r\n                        , reference: key\r\n                        , operator: \"AND\"\r\n                        , leftText: \"\"\r\n                        , rightText: \"\"\r\n                        //, _active: (object[key].value === '%' ? false : true)\r\n                        , _active: false //(object[key].value === '%' ? false : true)\r\n                        , _inlist: true\r\n                        //, data_type: this.utils.getBasicDataType(object[key].data_type) \r\n                        , data_type\r\n                        , _extended : this.showAdvanced\r\n                        , _extendKey : this.showAdvanced\r\n                        , _orderby: '-'\r\n                    }\r\n                ) \r\n                this.api.setFieldListSettings ( newPar )\r\n                return newPar\r\n            })\r\n            qeParams[0].text = \"\"\r\n            qeParams[0].value = \"\"\r\n            let actualQeParams = this.$store.getters.qeParams(this.ventana.index)\r\n            if ( ! actualQeParams ) actualQeParams = []\r\n            //const newParams = actualQeParams.concat(qeParams)\r\n            const newParams = qeParams.concat(actualQeParams)\r\n            //RENOMBRO LOS ALIAS REPETIDOS\r\n            /*\r\n            const aliases = []\r\n            _.reverse(newParams)\r\n            newParams.forEach ( column => {\r\n                while ( aliases.indexOf ( column.alias ) != -1 ) {\r\n                    column.alias += \"_2\"\r\n                }\r\n                //if ( aliases.indexOf ( alias ) != -1 ) column.alias += \"_2\"\r\n                aliases.push ( column.alias )\r\n            })\r\n            _.reverse(newParams)\r\n            */\r\n            this.utils.unifyObjectKey ( {array: newParams, key: 'alias'} )\r\n            this.$store.commit ( 'Ventana_injectQE' , {indexVentana:this.ventana.index,qeParams:newParams} )\r\n        },\r\n        qeParams(){\r\n            this.$nextTick(()=>{this.compute()})\r\n        }\r\n        /*\r\n        , ventana(){\r\n            this.compute()\r\n            console.log('a')\r\n        }\r\n        */\r\n    },\r\n    computed : {\r\n        buttonsUser() {\r\n            const buttonsUser = []\r\n            this.buttons.forEach ( (button,i) => {\r\n                if ( i == 0 || i == 2 ) buttonsUser.push ( button )\r\n            })\r\n            return buttonsUser\r\n        },\r\n        distinct: {\r\n            get(){\r\n                const distinct = this.$store.state.ventanas.data[this.ventana.index].queryeditor.distinct\r\n                return distinct //? distinct : false\r\n            },\r\n           set(v){\r\n                this.$store.commit ( 'set_distinct' , {indexVentana:this.ventana.index, value: v } )\r\n                //this.$store.state.ventanas.data[this.ventana.index].queryeditor.distinct = v\r\n            }\r\n        },\r\n        qeParams: {\r\n            get(){\r\n                //const params = this.$store.state.ventanas.data[this.ventana.index].queryeditor.parameters\r\n                const params = this.$store.state.qeParams[this.ventana.index] \r\n                return params\r\n            },\r\n            set(newParams){\r\n                this.$store.commit ( 'Ventana_injectQE' , {indexVentana:this.ventana.index,qeParams:newParams} )\r\n            }\r\n        },\r\n        series_parameters() {\r\n            if ( ! this.qeParams ) return []\r\n            const mainTable = this.tablesRelation.joinSyntax.split(\" INNER JOIN \")[0]\r\n            , series_parameters = JSON.cc ( this.qeParams.filter(param => {\r\n                const paramKey = param.reference ? param.reference : param.key\r\n                return paramKey.toLowerCase().indexOf(mainTable.toLowerCase()) != -1 \r\n            }))\r\n            //series_parameters.forEach ( param => { param.value = \"\"; param.text = \"\" } )\r\n            return series_parameters\r\n        },\r\n         columns () {\r\n             if ( ! this.$refs.qe ) return []\r\n            const table = this.ventana.data.table\r\n            , tableConfig = window.tablesMap.get (table)\r\n            , fields = this.ventana.data.fields\r\n            , identities = this.ventana.data.identities\r\n            , idField = identities[0]\r\n            , distinct = this.distinct // this.$store.state.ventanas.data[this.ventana.index].queryeditor.distinct\r\n            , columns = distinct ? ['1 as PK_ID'] : [`[${tableConfig.table_alias}].[${tableConfig.table_pkname}] as PK_ID`]\r\n            const qeColumns = this.$refs.qe.settings.columns\r\n            qeColumns.forEach ( key => {\r\n                //if ( columns.indexOf(key.toLowerCase()) == -1 ) \r\n                \r\n                    columns.push ( key  )\r\n            })\r\n            return (columns)\r\n        },\r\n        pkName(){\r\n            const table = this.ventana.data.table\r\n            , tableConfig = window.tablesMap.get (table)\r\n            return tableConfig.table_pkname\r\n        },\r\n        tablesRelation(){\r\n            return this.api.getTablesRelation ( this.ventana.data.table )\r\n        }\r\n    }\r\n    , beforeUpdate(){\r\n        //console.time('listadoRender'+this.ventana.index)\r\n    }\r\n    , updated() {\r\n        //console.timeEnd('listadoRender'+this.ventana.index)\r\n    },\r\n    mounted: function () {\r\n        //console.log(\"distinct\"+this.distinct)\r\n        //this.qeHasChanged.changed = false\r\n        $(this.$refs.computer).sortable({\r\n            handle: '.cell-title'\r\n            , start: this.clearSimpleTable\r\n            , stop: this.sortableStop\r\n            , placeholder: \"ui-state-highlight\"\r\n            , revert: 200\r\n            , scroll: true\r\n        })\r\n\r\n        window.compute = this.compute\r\n        this.compute()\r\n\r\n     },\r\n    methods: {\r\n        changeOperator (i) { this.$refs.qe.changeOperator(i) },\r\n        changeText(i,event,t) { this.$refs.qe.changeText(i,event,t) },\r\n        textKeyPress(event,t,i) { this.$refs.qe.textKeyPress(event,t,i) },\r\n        extendParam (i) { this.$refs.qe.parameters.data[i]._extended=!this.$refs.qe.parameters.data[i]._extended;this.$refs.qe.emitParameters() },\r\n        extendParams () { \r\n            const newState = !this.$refs.qe.parameters.data[0]._extended\r\n            this.$refs.qe.parameters.data.forEach ( param => param._extended = newState ) //[i]._extended=!this.$refs.qe.parameters.data[i]._extended;\r\n            this.$refs.qe.emitParameters() \r\n            this.showAdvanced=newState\r\n        },\r\n        showFormulario ( ) {\r\n            window.showForm()\r\n            \r\n        },\r\n        editAlias(event,i) {\r\n            $(event.target).focus()\r\n        },\r\n        saveAlias(event,i) {\r\n            this.$refs.qe.parameters.data[i].alias = event.target.innerHTML\r\n            this.$refs.qe.emitParameters() \r\n\r\n        },\r\n        clearSimpleTable(){\r\n            /*\r\n            if ( ! this.grid.rows.length ) return false\r\n            const row = JSON.cc(this.grid.rows[0])\r\n            rows.forEach ( row => {\r\n                Object.keys ( row ).forEach ( key => {\r\n                    row[key] = \"\"\r\n                } )\r\n            })\r\n            */\r\n            this.grid.rows = []\r\n            this.resizeHeaders(false,true)\r\n            //this.compute()\r\n            //console.log('cba')\r\n        },\r\n        negateParam(i){\r\n            this.$refs.qe.negateParam(i)\r\n        },\r\n        deleteParam(i) {\r\n            this.$refs.qe.deleteParam(i)\r\n        },\r\n        paramDelete ( j ) {\r\n            const actualRows = this.grid.rows\r\n            if ( ! actualRows ) return false\r\n            const rows = []//JSON.cc ( this.grid.rows )\r\n            actualRows.forEach ( fila => {\r\n                //const fila = JSON.cc ( row )\r\n                const newLine = {}\r\n                Object.keys(fila).forEach ( (key,i)=>{\r\n                    if ( i != (j+1) )\r\n                        newLine[key] = fila[key]\r\n                })\r\n                rows.push ( newLine )\r\n            })\r\n            this.grid.rows = rows\r\n\r\n            if ( rows.length && Object.keys(rows[0]).length < 2 )  //Ha eliminado todos los parámetros por lo que limpio la tabla.\r\n                this.clearSimpleTable()\r\n        },\r\n        activateParam (i) {\r\n            this.$refs.qe.activateParam(this.$refs.qe.parameters.data[i])\r\n            this.$nextTick( () => { if ( this.$refs.qe.parameters.data[i]._active ) $('.search-field').eq(i).focus() } )\r\n        },\r\n        setNewOrder (i) {\r\n            this.$refs.qe.setNewOrder(i)\r\n        },\r\n        shortAlias (alias) {\r\n            const aliasArr = alias.split(\".\") \r\n            return aliasArr[aliasArr.length-1]\r\n        },\r\n        clickFunc ( func, event, i ) {\r\n            console.log('target')\r\n            event.stopPropagation()\r\n            const target = event.target.tagName == \"path\" ? event.target.closest('svg') : event.target\r\n            const $slot = $(target).closest('div.header-cell')\r\n            if ( $slot.attr('type') != \"number\" ) return false\r\n            switch ( func ) {\r\n                case 'SUM':\r\n                    func = \"AVG\"\r\n                    break;\r\n                case 'AVG':\r\n                    func = \"DISTINCT\"\r\n                    break;\r\n                case 'DISTINCT':\r\n                    func = \"SUM\"\r\n                    break;\r\n            }\r\n            //func = func == \"SUM\" ? \"AVG\" : \"SUM\"\r\n            //debugger\r\n            //$slot.find('select').val(func)\r\n            if ( func == \"SUM\" )\r\n                $slot.find('.button-operation svg').addClass('hidden').eq(0).removeClass('hidden')\r\n            if ( func == \"AVG\" )\r\n                $slot.find('.button-operation svg').addClass('hidden').eq(1).removeClass('hidden')\r\n            if ( func == \"DISTINCT\" )\r\n                $slot.find('.button-operation svg').addClass('hidden').eq(2).removeClass('hidden')\r\n            //$(target).removeClass('hide')\r\n            this.$refs.qe.parameters.data[i].aggregate_function = func\r\n            this.$refs.qe.emitParameters()\r\n            \r\n        },\r\n        open_serie ( event ) {\r\n            this.$refs.popup.show()\r\n        },\r\n        operate_serie ( params ) {\r\n            console.log(this.series.operation)\r\n            console.log(JSON.cc(params))\r\n            if ( ! this.checkedIds || ! this.checkedIds.length ) {\r\n                window.log ( 'Operación cancelada. No hay ningún registro seleccionado.', 'darkorange' )\r\n                return false\r\n            }\r\n            const mainTable = this.tablesRelation.joinSyntax.split(\" INNER JOIN \")[0]\r\n            , assigns = params.filter ( param  => ( param.series && param.series.replaceValue != \"\" ) ).map ( param => {\r\n                const name = param.reference ? param.reference : param.key\r\n                , value = param.series.replaceValue\r\n                if ( this.series.operation.toLowerCase() == \"sobreescribir\" ) {\r\n                    return name + \" = '\" + value + \"'\"\r\n                } else {\r\n                    return name + \" = NULL\"\r\n                }\r\n            })\r\n            , sql = \"UPDATE \" + mainTable + \" SET \" + assigns\r\n            , identities = this.ventana.data.identities\r\n            , idField = identities[0]\r\n            if ( ! assigns.length ) {\r\n                window.log ( 'Operación cancelada. No ha rellenado ningún campo.', 'darkorange' )\r\n                return false\r\n            }\r\n            const updates = this.checkedIds.map ( id => `${sql} WHERE ${idField} = ${id}` )\r\n            var sqlSyntax = \"\"\r\n            updates.forEach ( update => sqlSyntax += update + ' ')\r\n            console.log(sqlSyntax)\r\n            this.api.$dbq ({\r\n                sqlSyntax\r\n                , dbID: this.api.getTableConnectionId(this.ventana.data.table)\r\n            }, data => {\r\n                window.log ( updates.length + ' registros alterados.', 'green' )\r\n            }, true\r\n            , true)\r\n            //this.api.$serie_overwrite ( this.ventana.)\r\n        },\r\n        scrollHeaders ( leftScroll ) {\r\n            $(this.$refs.computer).css({'margin-left':leftScroll*-1})\r\n        },\r\n        resizeHeaders ( widths , reset ) {\r\n            const $cols = $(this.$refs.computer).find('div.header-cell')\r\n            this.grid.columns.widths=widths\r\n            $cols.each ( function(i) {\r\n                if ( ! reset )\r\n                    $(this).css({'max-width':(widths[i+1]+12)+'px','min-width':(widths[i+1]+12)+'px','width':(widths[i+1]+12)+'px'})\r\n                else\r\n                    $(this).css({'max-width':'','min-width':'','width':''})\r\n            })\r\n        },\r\n        qeParamUpdate (params) {\r\n            //console.log('parem:'+params)\r\n            //return\r\n            \r\n            if ( params == 'resorted' ) {\r\n                //this.clearSimpleTable()\r\n                return false\r\n            }\r\n            \r\n            this.$store.commit ( 'Ventana_injectQE' , {indexVentana:this.ventana.index,qeParams:params} )\r\n\r\n        },\r\n        tabulator ( jsonRecordset ) {\r\n           if ( !jsonRecordset.length ) return \"\"\r\n           jsonRecordset.forEach ( row => delete row[Object.keys(row)[0]] )\r\n           const $tabla = $('<table/>')\r\n           , cellStyle = {border:\"1px solid #eee\",padding:\"5px\"}\r\n           , firstRecord = jsonRecordset[0]\r\n           //Creo encabezados\r\n           , $headRow = $('<tr/>')\r\n           $tabla.append($headRow)\r\n           Object.keys(firstRecord).forEach ( key => {\r\n               const $cell = $('<td/>').css(cellStyle)\r\n               $headRow.append($cell.text(key))\r\n           })\r\n           jsonRecordset.forEach ( record => {\r\n               const $row = $('<tr/>')\r\n               $tabla.append($row)\r\n               Object.keys(record).forEach ( key => {\r\n                   const $cell = $('<td/>').css(cellStyle)\r\n                   $row.append($cell.text(record[key]))\r\n               })\r\n               \r\n           })\r\n           return $tabla.wrap('<div/>').parent().html()\r\n        }\r\n        , downloadListAsFile() {\r\n            /*\r\n            const tabla = JSON.cc(this.grid.rows)\r\n            , qeSyntax = this.$refs.qe.settings.sqlSyntax\r\n            , whereSyntax = qeSyntax.length ? qeSyntax : ''\r\n            , sqlParams = {\r\n                columns: this.$refs.qe.settings.columns\r\n                , schemaSyntax: this.tablesRelation.joinSyntax\r\n                , whereSyntax\r\n                , orderbyColumns: this.$refs.qe.settings.orderBy != \"\" ? this.$refs.qe.settings.orderBy:this.pkName\r\n            }\r\n            , types = {}\r\n            console.log(sqlParams)\r\n            JSON.cc(this.$refs.qe.settings.params).forEach ( param => {\r\n                types[param.reference] = param.data_type\r\n            })\r\n            //console.log(types)\r\n            this.api.downloadExcel ( sqlParams, types )\r\n            return\r\n            */\r\n            this.loadPage(2,()=>{\r\n                var blob = new Blob([\"\\ufeff\",this.tabulator(JSON.cc(this.grid.rows))], { type: 'text/plain' })\r\n                , url = window.URL.createObjectURL(blob)\r\n                var a = document.createElement(\"a\");\r\n                document.body.appendChild(a);\r\n                a.style = \"display: none\";\r\n                a.href = url;\r\n                a.download = 'Listado.xls';\r\n                a.click();\r\n            })\r\n        },\r\n        containerResize () {\r\n            this.$refs.Tabla.resizeHeaders()\r\n        },\r\n        headerClick ( index, event ) {\r\n            const qeParam = this.qeParams[index]//.field_full_name\r\n            , qe = this.$refs.qe\r\n            , that = this\r\n            event.stopPropagation();\r\n            that.$store.commit ( 'set_contextDialogProps', qeParam )\r\n            window.contextDialog (\r\n                { qeParam, value: qe.parameters.data[index].key, cb: (txt)=>{\r\n                    if ( txt ) { //VIENE DEL COMPONENTE contextFieldEditKey\r\n                        qe.parameters.data[index].key = txt\r\n                        qe.emitParameters()\r\n                    } else { // viene dl componente contextFieldEditList\r\n                        that.$store.commit ( 'set_contextDialogProps', qeParam )\r\n                    }\r\n                } }\r\n                , [ {componentName: \"contextFieldEditList\", componentLabel: \"Configuración de lista\"}, {componentName: \"contextFieldEditKey\", componentLabel: \"Configuración SQL\"} ]\r\n            )\r\n        },\r\n        checkClick(checklist){\r\n            return\r\n            //console.log(checklist)\r\n            const checked_pk_id = []\r\n            /*\r\n            this.grid.rows.forEach ( ( row, i ) => {\r\n                if ( $.inArray ( i, checklist ) != -1 ) checked_pk_id.push ( row.PK_ID )\r\n            })\r\n            */\r\n            checklist.forEach ( ( index ) => {\r\n                checked_pk_id.push ( this.grid.rows[index].PK_ID )\r\n            })\r\n            //console.log(checked_pk_id)\r\n            //this.$store.commit ( 'checked_assign', { indexVentana: this.ventana.index, ids: checked_pk_id } )\r\n            this.checkedIds = checked_pk_id\r\n            this.checkedIndexes = checklist\r\n            //this.$store.commit ( 'log', checklist.length + ' registros marcados.' )\r\n        },\r\n        custom_button_click ( ref ) {\r\n            if ( ref == \"getDocument\" ) customjs.buttons.onclick.getDocument(this.api,this.selected_pk_id)\r\n        },\r\n        rowClick(row){\r\n            this.selected_pk_id = row.PK_ID\r\n            return\r\n            const identities = this.ventana.data.identities\r\n            , idField = identities[0]\r\n            , joinSyntax = this.tablesRelation.joinSyntax\r\n            //, fields = this.tablesRelation.names.map ( tblName => `${tblName}.*`)\r\n            , asArr = []\r\n            , fields = Object.keys(this.keysSettings).map ( fieldName => {\r\n                //Esto es para cargar el texto en lugar de el ID en el caso de lista dinámica. Habrá que quitarlo cuando el programa pretenda escribir o implemente inline-search.\r\n                const columnSql = this.api.getListColumnSql ( fieldName )\r\n                if ( fieldName.length > 128 ) { //SQL Server no acepta alias de más de 128 caracteres. Tengo que generar uno en ese kso. \r\n                    const uniqueid = this.uniqueid()\r\n                    asArr.push ({\r\n                        fieldName\r\n                        , uniqueid\r\n                    })\r\n                    fieldName = uniqueid\r\n                }\r\n                return `(${columnSql}) AS [${fieldName}]`\r\n            })\r\n            , sql = `sql=SELECT ${fields} FROM ${joinSyntax} WHERE ${idField}=${pk_id}` \r\n            //console.log(sql)\r\n            /*\r\n            $get ( sql, table, data => {\r\n                this.$emit('rowClick',data[0])\r\n            })\r\n            */\r\n            this.api.$dbq ({\r\n                operation: 'select'\r\n                , columns: fields\r\n                , schemaSyntax: joinSyntax\r\n                , whereSyntax: `${table}.${idField}=${pk_id}`\r\n                , dbID: this.api.getTableConnectionId(table)\r\n            }, data => {\r\n                const row = data[0]\r\n                asArr.forEach ( asid => {\r\n                    row[asid.fieldName] = row[asid.uniqueid]\r\n                })\r\n                //Object.keys(row).for\r\n                this.$emit('rowClick',row)\r\n            })\r\n        },\r\n        paramsToForm ( ) {\r\n            //log(this.queryEditor.params)\r\n        },\r\n        orderBy ( orderby ) {\r\n            this.orderby = JSON.cc(orderby)\r\n            console.log(JSON.cc(orderby))\r\n            //Object.keys( orderby )\r\n        },\r\n        qeHasChanged () {\r\n            const hasChanged = ( this.$refs.qe.settings != this.grid.qeSettings ) || ( this.qeHasChanged.changed )\r\n            this.qeHasChanged.changed = false\r\n            //this.distinct = this.$store.state.ventanas.data[this.ventana.index].queryeditor.distinct\r\n            //console.log('QE has Changed: '+hasChanged)\r\n            return hasChanged\r\n        },\r\n        /*\r\n        clickShowComputer(event) {\r\n            //event.stopPropagation();\r\n            console.log(this.showComputer)\r\n            this.showComputer=!this.showComputer;\r\n        },\r\n        */\r\n        telon(show) {\r\n            const buttons = $(this.$refs.toolbar).find('button')\r\n            , butSel = buttons.eq(1).add(buttons.eq(2)).add(buttons.eq(6))\r\n            if ( show ) {\r\n                butSel.prop('disabled',true).css({'text-decoration':'line-through'})\r\n                //$(this.$refs.listado).css({cursor:'progress'})\r\n                //$('body').css({cursor:'progress'})\r\n                window.working(1)\r\n\r\n            } else {\r\n                //butSel.each ( () => {$(this).text('this.value');console.log(this)} )\r\n                butSel.prop('disabled',false).css({'text-decoration':'none'})\r\n                //$(this.$refs.listado).css({cursor:'default'})\r\n                //$('body').css({cursor:'default'})\r\n                window.working(0)\r\n            }\r\n            //$('body').css({cursor:'pointer'})\r\n        },\r\n        compute ( params ) {\r\n            // COMPUTO\r\n            // OBTENGO LOS NOMBRES DE LAS COLUMNAS\r\n            //debugger\r\n            const colNames = this.columns.map ( column => {\r\n                const cSplit = column.toLowerCase().split ( \" as \" )\r\n                , sql = cSplit[0]\r\n                , label = cSplit.length > 1 ? cSplit[1] : cSplit[0]\r\n                , qeParams = JSON.cc(this.qeParams)\r\n\r\n                // BUSCO EN LOS PARÁMETROS DEL QUERY EDITOR LA REFERENCIA (EL NOMBRE ORIGINAL DEL CAMPO) CORRESPONDIENTE AL ALIAS PARA UTILIZARLA EN LUGAR DE LA POTENCIAL SUBQUERY DE LOS CAMPOS DE LISTAS, YA QUE NO SE PUEDE USAR FUNCIONES DE AGREGADO SOBRE SUBQUERYS.\r\n                let reference\r\n                Object.keys(qeParams).forEach ( key => {\r\n                    const alias = qeParams[key].alias\r\n                    if ( '['+alias.toLowerCase()+']' == label.toLowerCase() ) reference = qeParams[key].field_full_name\r\n                })\r\n                return { sql:reference, label }\r\n            })\r\n            colNames.splice(0,1) // quito pk_id (la primera columna que nunca se ve)\r\n            \r\n\r\n            //obtengo los data type de las columnas del listado\r\n            colNames.forEach ( (name,i) => {\r\n                this.grid.columns.types[i] = \"text\"\r\n                Object.keys(this.keysSettings).forEach ( key => {\r\n                    if ( name.sql.toLowerCase() == key.toLowerCase() ) this.grid.columns.types[i] = this.utils.getBasicDataType(this.keysSettings[key].data_type)\r\n                })\r\n            })\r\n\r\n            const computedColumns = []\r\n            colNames.forEach ( (name,i) => {\r\n          //      if ( i > 0 ) {\r\n                    //computedColumns.push ( \"\" )\r\n                    const type = this.qeParams[i].basic_data_type //this.grid.columns.types[i]\r\n                    , func = this.qeParams[i].aggregate_function //$(this.$refs['computed_'+name.label]).find('select option:selected').val()\r\n                    //debugger\r\n                    //console.log(name)\r\n                    if ( name.sql.toLowerCase().indexOf ( 'select' ) == -1 ) { //SI TIENEN SELECT ES QUE ES UNA SUBQUERY DE UN CAMPO COMPUTADO. NO SE PUEDEN CONTAR LAS SUBQUERIES POR RESTRICCIÓN DE SQL SERVER.\r\n                        if ( type == \"number\" ) {\r\n                            if ( func )  { \r\n                                if ( func != \"DISTINCT\" )\r\n                                    computedColumns.push ( func + \"(\" + name.sql + \") as \" + name.label ) \r\n                                else\r\n                                    computedColumns.push ( \"COUNT(DISTINCT(\" + name.sql + \")) as \" + name.label ) \r\n                            } else { \r\n                                computedColumns.push ( \"'' as \" + name.label ) \r\n                            }\r\n                        } else if ( func == \"DISTINCT\" ) {\r\n                            computedColumns.push ( \"COUNT(DISTINCT(\" + name.sql + \")) as \" + name.label ) \r\n                        }\r\n                    } else {\r\n                        computedColumns.push ( \"'' as \" + name.label ) \r\n                    }\r\n          //      }\r\n            })\r\n            this.grid.columns.names = colNames\r\n\r\n            if (!computedColumns.length || !params) return false\r\n\r\n            const paramsComputedCols = JSON.cc(params)\r\n            paramsComputedCols.columns = computedColumns\r\n            console.log(paramsComputedCols)\r\n            this.api.$dbq (paramsComputedCols , data => {\r\n                const results = JSON.cc(data[0])\r\n                Object.keys(results).forEach ( key => {\r\n                    let result = results[key]\r\n                    result = ( result && result != \"\" ) ? result : \"[No disponbible]\"\r\n                    $(this.$refs['computed_['+key+']']).find('span').html( result ).attr ( 'title', result )\r\n                    $(this.$refs['computed_['+key+']']).find('.button-operation *').attr ( 'title', result )\r\n                })\r\n                //console.log(data[0])\r\n            })\r\n        },\r\n        set_distinct () {\r\n            //console.log('aaaaa')\r\n            //this.distinct = ! this.distinct\r\n            this.$store.commit ( 'set_distinct' , {indexVentana:this.ventana.index, value: !this.distinct} )\r\n            this.qeHasChanged.changed = true\r\n            return\r\n            const data = this.grid.rows\r\n            data.forEach ( thing => {thing.PK_ID=1})\r\n            const uniqueArray = data.filter((thing, index) => {\r\n              const _thing = JSON.stringify(thing);\r\n              return index === data.findIndex(obj => {\r\n                return JSON.stringify(obj) === _thing;\r\n              });\r\n            });\r\n            this.grid.rows = uniqueArray\r\n            this.$store.state.ventanas.data[this.ventana.index].queryeditor.distinct = true\r\n        },\r\n        keyDownSearchField (event,i) {\r\n            if(event.keyCode === 13){  event.preventDefault(); return false }\r\n        },\r\n        positionContext ( event, i ) {\r\n            // SI ES UNA SELECT DESCRITA, CANCELO LA CONTEXTLIST\r\n            const $field = $(event.target)\r\n            , text = $field.text()\r\n            const descriptedSelect = this.descriptedSelect( text ) \r\n            if ( descriptedSelect.descripcion ) return false\r\n            // /SI ES UNA SELECT DESCRITA, CANCELO LA CONTEXTLIST\r\n\r\n            this.$refs.qe.positionContext(i,event,this.getParam(i));\r\n        },\r\n        alterSearchString (event,i) {\r\n            const val = $(event.target).text() //event.target.innerHTML\r\n            , qep = JSON.cc ( this.$refs.qe.parameters.data)\r\n            //console.log($(event.target).text())\r\n            qep[i].text = val\r\n            qep[i].value = val\r\n            this.$refs.qe.parameters.data = qep\r\n            this.$refs.qe.emitParameters()\r\n            /*\r\n            , qep = JSON.cc ( this.qeParams )\r\n            qep[i].text = val\r\n            qep[i].value = val\r\n            this.qeParams = qep\r\n            */\r\n        },\r\n        focusSearchField (event,i,remove) {\r\n            const $field = $(event.target)\r\n            , text = $field.text()\r\n            , descriptedSelect = this.descriptedSelect( text )\r\n            let descripcion = text\r\n            if ( descriptedSelect.descripcion ) descripcion = descriptedSelect.descripcion\r\n            if (remove) {\r\n                //$field.removeClass('focused')\r\n                window.contextList.closeContext()\r\n                this.alterSearchString(event,i)\r\n                $field.text(descripcion)\r\n            } else {\r\n                $field.addClass('focused')\r\n                this.$refs.qe.openContext(i,event,this.$refs.qe.parameters.data[i],function(){$field.removeClass('focused') })\r\n                $field.text(this.$refs.qe.parameters.data[i].text)\r\n            }\r\n\r\n        },\r\n        descriptedSelect ( val ) {\r\n            try {\r\n                const obj = JSON.parse ( val )\r\n                , sql = obj.sql\r\n                , descripcion = obj.descripcion\r\n                return obj\r\n            } catch ( err ) {return val}\r\n\r\n        },\r\n        getParamSearchString ( i ) {\r\n            let str = this.$refs.qe.parameters.data[i].text\r\n            if ( str == \"[]\" ) str = \"\"\r\n            const descriptedSelect = this.descriptedSelect( str ) \r\n            if ( descriptedSelect.descripcion ) str = descriptedSelect.descripcion\r\n            return str\r\n\r\n        },\r\n        getParam ( i ) {\r\n            let par = this.$refs.qe.parameters.data[i]\r\n            return par\r\n\r\n        },\r\n        sortableStop (event,ui) {\r\n            //const $li = $(ui.item)\r\n            //, $lis = $li.parent().find('li')\r\n            const $lis = $(this.$refs.computer).find('.header-cell')\r\n            , params = []\r\n            $lis.each ( function () {\r\n                params.push ( JSON.parse($(this).attr('param')) )\r\n            })\r\n            $(this.$refs.computer).sortable('cancel')\r\n            this.$refs.qe.parameters.data = params//_.reverse(params)\r\n            this.$refs.qe.emitParameters()\r\n            this.$refs.qe.$emit ( 'paramUpdate', 'resorted' )\r\n        },\r\n        loadList (o,cb) {\r\n           \r\n            //this.grid.rows = []\r\n            //return\r\n            const table = this.ventana.data.table\r\n            , joinSyntax = this.tablesRelation.joinSyntax\r\n            , qeSyntax = this.$refs.qe.settings.sqlSyntax\r\n            , whereSyntax = qeSyntax.length ? 'WHERE ' + qeSyntax : ''\r\n            , pkName = this.pkName\r\n            , whereListado = `pkname = '${table}.${pkName}'`\r\n            , insertIds = `sql=delete DBH_listado INSERT INTO DBH_listado (sessionId,idusuario,idlistado,pkname) \r\n            select 1,1,${pkName},'${table}.${pkName}' FROM ${joinSyntax} ${whereSyntax} \r\n            SELECT count(idlistado) as noFilas FROM DBH_listado WHERE ${whereListado}` \r\n            , rowIdsSql = `sql=select ${pkName} as id FROM ${joinSyntax} ${whereSyntax}`\r\n            , dbID = this.api.getTableConnectionId(table)\r\n            , selectSql = `SELECT ${this.distinct?'DISTINCT ':''} ${this.columns} FROM ${joinSyntax}  ${qeSyntax?'WHERE '+qeSyntax:''}`\r\n            this.grid.loadedRecsNumber = 0\r\n            \r\n            console.log(selectSql)\r\n            //this.qeHasChanged.changed = true\r\n            this.api.$dbq ({\r\n                sqlSyntax: \"set language spanish SELECT COUNT(*) as recnum FROM (\" + selectSql + \") as a\"\r\n\t\t\t\t, dbID: this.api.getTableConnectionId(table)\r\n            }, data => {\r\n                if ( data[0].Error ) { \r\n                    console.log('Error')\r\n                    console.log(data)\r\n                    window.circus.showHelpBox ( {title:'Error SQL', text:data[0].Error})\r\n                    this.telon(0)\r\n                    return\r\n                }\r\n                this.grid.rowCount = data[0].recnum ? data[0].recnum : 0\r\n                this.grid.whereSql = whereSyntax\r\n                this.grid.qeSettings = this.$refs.qe.settings\r\n                this.grid.page = 0\r\n                this.grid.rows = []\r\n                this.checkedIds = []\r\n                this.checkedIndexes = []\r\n                this.loadPage(o,cb)\r\n\r\n                //if ( ! this.grid.rowCount ) console.log(queryPars)\r\n            },false,true)\r\n            return\r\n            \r\n            const queryPars = {\r\n                columns: [`count(${table}.${pkName}) as recnum`]\r\n                , schemaSyntax: joinSyntax\r\n                , whereSyntax: qeSyntax\r\n                , dbID\r\n            }\r\n            this.api.$dbq (queryPars, data => {\r\n                //console.log(data)\r\n                //this.grid.rowIds = data[0].recnum//data.map ( field => field.id )\r\n                this.grid.rowCount = data[0].recnum ? data[0].recnum : 0\r\n                this.grid.whereSql = whereSyntax\r\n                this.grid.qeSettings = this.$refs.qe.settings\r\n                this.grid.page = 0\r\n                this.grid.rows = []\r\n                this.checkedIds = []\r\n                this.checkedIndexes = []\r\n                //console.log('a')\r\n                this.loadPage(o,cb)\r\n\r\n                //if ( ! this.grid.rowCount ) console.log(queryPars)\r\n            })\r\n        },\r\n        loadPage (o,cb) {\r\n            this.telon(1)\r\n            window.circus.panels.form = false\r\n            window.circus.panels.bottom = false\r\n            const table = this.ventana.data.table\r\n            , columns = this.columns\r\n            , joinSyntax = this.tablesRelation.joinSyntax\r\n            , qeSyntax = this.$refs.qe.settings.sqlSyntax\r\n            //, whereSyntax = qeSyntax.length ? 'WHERE ' + qeSyntax : ''\r\n            , whereSyntax = qeSyntax.length ? qeSyntax : ''\r\n            this.compute({\r\n                 schemaSyntax: joinSyntax\r\n                , whereSyntax: whereSyntax\r\n                , dbID: this.api.getTableConnectionId(table)\r\n            })\r\n            if ( this.qeHasChanged() ) {\r\n                //console.log('has changed')\r\n                this.loadList(o,cb)\r\n                return\r\n            }\r\n            if ( ! this.grid.rowCount ) {\r\n                //this.grid.rows = [{[' ']:'No hay coincidencias'}]\r\n                this.telon(0)\r\n                window.circus.showHelpBox ( {title:'No hay resultados', text:'La consulta no ha devuelto ningún resultado.'})\r\n                return false\r\n            }\r\n            if ( this.grid.rowCount == this.grid.loadedRecsNumber ) {\r\n                if ( o==2 ) { //viene de solicitar Excel\r\n                    if ( cb ) cb()\r\n                    this.telon(0)\r\n                    return\r\n                }\r\n                if ( ! confirm ( \"Se han cargado la totalidad de los registros de este listado.\\n\\nDesea comenzar la carga del listado nuevamente desde el principio?\") ) {\r\n                    if ( cb ) cb()\r\n                    this.telon(0)\r\n                } else {\r\n                    this.loadList(o)\r\n                }\r\n                return false\r\n                \r\n            }\r\n            const pkName = this.pkName\r\n            , tableConfig = window.tablesMap.get(table)\r\n            , whereListado = `pkname = '${table}.${pkName}'`\r\n            , orderbyStr = this.$refs.qe.settings.orderBy != \"\" ? this.$refs.qe.settings.orderBy:`[${tableConfig.table_alias}].[${pkName}]`\r\n            , recXPag = this.grid.recXPag\r\n            , offset = this.grid.page * recXPag\r\n            , selectSql = `sql=SELECT ${this.distinct?'DISTINCT ':''} ${columns} FROM ${joinSyntax} ${this.grid.whereSql} ORDER BY ${orderbyStr} OFFSET ${offset} ROWS FETCH NEXT ${recXPag} ROWS ONLY`\r\n            this.grid.page++\r\n            let loadedRecsNumber = this.grid.page*this.grid.recXPag\r\n            if ( ( loadedRecsNumber > this.grid.rowCount ) || o ) loadedRecsNumber = this.grid.rowCount\r\n            this.grid.selectSql = selectSql.substring(4)\r\n            console.log(this.grid.selectSql)\r\n            const params = {\r\n                columns: columns\r\n                , schemaSyntax: joinSyntax\r\n                , whereSyntax: whereSyntax\r\n                , orderbyColumns: orderbyStr\r\n                , offset: offset\r\n                , pageSize: recXPag\r\n                , dbID: this.api.getTableConnectionId(table)\r\n                , distinct: this.distinct // this.$store.state.ventanas.data[this.ventana.index].queryeditor.distinct\r\n            }\r\n            if ( o ) {\r\n                params.pageSize=999999999\r\n            }\r\n            this.api.$dbq (params , data => {\r\n                this.grid.rows =  this.grid.rows.concat(data)\r\n                this.grid.loadedRecsNumber = loadedRecsNumber\r\n                //this.grid.columns.names = Object.keys(this.grid.rows[0]).splice(1)\r\n                //this.grid.columns.types = [2]\r\n               // console.log(JSON.cc(this.filter))\r\n                this.telon(0)\r\n                window.circus.showHelpBox ({title:`Cargados ${loadedRecsNumber} registros`,text:`Se han cargado los siguientes ${loadedRecsNumber} registros`} )\r\n                if ( cb ) cb()\r\n                /*\r\n                if ( loadedRecsNumber == this.grid.rowCount ) {\r\n                    Object.assign(this.buttons[0],{disabled:true})\r\n                    Object.assign(this.buttons[1],{disabled:true})\r\n                    this.buttons.push('a')\r\n                    this.buttons.length = this.buttons.length - 1\r\n                }\r\n                */\r\n            })\r\n\r\n        }\r\n    }\r\n  }\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!./listado.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!./listado.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./listado.vue?vue&type=template&id=34e2c90a&scoped=true&\"\nimport script from \"./listado.js?vue&type=script&lang=js&\"\nexport * from \"./listado.js?vue&type=script&lang=js&\"\nimport style0 from \"./listado.css?vue&type=style&index=0&id=34e2c90a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"34e2c90a\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <Ly flexbox=1 column=1 grow=1 height=1 data-component=\"Ventana\" :data-layout=\"isInline?'inline':'default'\" style=\"background:\"\r\n    ref=\"Ventana\">\r\n    <div style=\"width:100%; padding: 5px 5px\" v-show=\"admin\">\r\n        <div class=\"toolbar-box\">\r\n            <div class=\"toolbar-box-title\">Navegación</div>\r\n            <select ref=\"parentTable\" data-help-code=\"ventana-toolbar-parents\" v-if=\"parentTablesWindows.length\" class=\"form-control\" style=\"display:inline;width:auto;font-size:11px;margin-top:2px\" @change=\"injectParent()\">\r\n                <option>Padres...</option>\r\n                <option v-for=\"tab in parentTablesWindows\" :value=\"tab.index\">{{tab.name}}</option>\r\n            </select>\r\n            <select ref=\"childTable\" data-help-code=\"ventana-toolbar-childs\" v-if=\"childTablesWindows.length\" class=\"form-control\" style=\"display:inline;width:auto;font-size:11px\" @change=\"injectChild()\">\r\n                <option>Hijos...</option>\r\n                <option v-for=\"tab in childTablesWindows\" :value=\"tab.index\">{{tab.name}}</option>\r\n            </select>\r\n        </div>\r\n        <div class=\"toolbar-box\">\r\n            <div class=\"toolbar-box-title\">Tabla Principal</div>\r\n            <select @change=\"tableChange($event)\" class=\"form-control\" style=\"display:inline;width:auto;font-size:11px;margin-bottom:-2px;margin-top:1px\">\r\n                <option v-for=\"table in availableTables\" :value=\"table[0]\" :selected=\"table[0]==ventana.data.table?'selected':''\">{{table[1].table_alias}}</option>\r\n            </select>\r\n        </div>\r\n        <div class=\"toolbar-box\">\r\n            <div class=\"toolbar-box-title\">Paneles</div>\r\n            <Toolbar :buttons=\"buttons2\" style=\"width:auto;float:left;margin:0px 0 -2px 3px\" />\r\n        </div>\r\n        <div class=\"toolbar-box\">\r\n            <div class=\"toolbar-box-title\">Archivo de Configuración</div>\r\n            <select id=\"configFileSelect\" ref=\"configFileSelect\" class=\"form-control\" style=\"display:inline;width:auto;font-size:11px;margin-bottom:-2px;margin-top:1px; float:left\">\r\n                <option value=\"\">Archvos de Config...</option>\r\n                <option v-for=\"fn in configFilesList\" :value=\"fn\" :selected=\"fn==api.parsedSearch.reset\">{{fn}}</option>\r\n            </select>\r\n            <Toolbar :buttons=\"buttons\" style=\"width:auto;float:left;margin:0px 0 -2px 3px\" />\r\n        </div>\r\n        <div class=\"toolbar-box\">\r\n            <div class=\"toolbar-box-title\">Salir</div>\r\n            <button @click=\"logout()\">SALIR</button>\r\n        </div>\r\n    </div>\r\n    <!--\r\n    <div style=\"padding:7px 5px;min-height:32px\">\r\n      <div style=\"float:right;text-align:right\">\r\n      </div>\r\n    </div>\r\n    --> \r\n      <!--<Ly flexbox=1 height=1>-->\r\n      <div style=\"display:flex;flex-grow:1;height:calc(100% - 0px);max-height:calc(100% - 50px);position:relative\">\r\n          <div v-show=\"panels.form&&admin\" class=\"panel-envelope\" style=\"height:100%;border:0px solid red\" ref=\"Formulario\">\r\n            <Formulario \r\n                :item=\"form.data\" \r\n                :onFilter=\"formFilter\" \r\n                :overflow=\"overflow\" \r\n                :keysSettings=\"keysSettings\" \r\n                :ventanaIndex=\"evaluatedVentana.index\" \r\n                :ventanaTable=\"evaluatedVentana.data.table\" \r\n                :fields=\"evaluatedFieldsOfVentana.fields\" \r\n                :visible=\"visible\"\r\n                style=\"min-width:150px;background:#f4f4f4;padding:0px\"\r\n            />\r\n          </div>\r\n          \r\n          <Ly grow=1 breakHeight=1 shrink=1 class=\"slots panel-envelope\" v-show=\"list\" style=\"flex-grow:1\">\r\n              <!--\r\n            <div style=\"float:left;position:absolute;margin-top:-42px;margin-left:-10px;padding-left: 30px\">\r\n              <button v-show=\"admin\" @click=\"toolbarClick('formver')\" style=\"position:absolute;height:18px;margin-left:-30px;margin-top:4px\">\r\n                    <div :class=\"{'arrow-left':formver,'arrow-right':!formver}\"></div>\r\n                </button>\r\n            </div>\r\n            -->\r\n            <Listado :rows=\"ventana.data.list.data\" :ventana=\"evaluatedVentana\" :filter=\"formFilterState.data\" :overflow=\"overflow\" :formSetValues=\"formSetValues\"\r\n              :keysSettings=\"keysSettings\" v-on:rowClick=\"rowClick\" ref=\"listado\" style=\"background:#f4f4f4;padding:5px;box-sizing:border-box\"/>\r\n          </Ly>\r\n          \r\n      </div>\r\n  </Ly>\r\n</template>\r\n\r\n\r\n\r\n<script>\r\nimport { mapActions } from 'vuex'\r\nimport jsonBeautify from 'json-beautify'\r\nimport Ly from './layout.vue'\r\nimport Formulario from './formulario.vue'\r\nimport Listado from './listado.vue'\r\nimport Toolbar from './tool-bar.vue'\r\n//import queryString from 'query-string';\r\n//const parsedSearch = this.api.parsedSearch //queryString.parse(location.search)\r\n\r\n\r\nexport default {\r\n  props: [ 'ventana', 'isInline', 'index', 'switchVentana', 'panels', 'visible' ],\r\n  components: { Ly, Formulario, Toolbar, Listado },\r\n    data: function () {\r\n        return {\r\n            configFilesList: [],\r\n            parentTables: this.api.getDirectParents(this.ventana.data.table),\r\n            childTables: this.api.getDirectSuns(this.ventana.data.table),\r\n            //evaluatedFieldsOfVentana: { fields: [], identities: [] },\r\n            tree: true,\r\n            formver: true,\r\n            list: true,\r\n            show: true,\r\n            overflow: !this.isInline,\r\n            itemEditor: {\r\n                branchs: [\r\n                    { key: \"form\" },\r\n                    { key: \"list\" }\r\n                ]\r\n            },\r\n            formFilterState: { data: [], settings: this.keysSettings },\r\n            form: { data: {} }\r\n            //, techButtons: this.api.parsedSearch.dev && this.api.parsedSearch.admin\r\n            , admin: this.api.parsedSearch.admin\r\n            , buttons2: [\r\n                {\r\n                    label: `<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\"><path fill=\"#444444\" d=\"M0 16h16v-16h-16v16zM3 1v1h1v-1h11v14h-12v-1h-1v1h-1v-1h1v-1h-1v-1h1v-1h-1v-1h1v-1h-1v-1h1v-1h-1v-1h1v-1h-1v-1h1v-1h-1v-1h1v-1h1z\"></path><path fill=\"#444444\" d=\"M2 12h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M3 13h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M3 11h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M3 9h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M2 10h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M2 8h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M2 6h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M3 7h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M3 5h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M3 3h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M2 4h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M2 2h1v1h-1v-1z\"></path></svg>`,\r\n                    helpCode:\"\",\r\n                    onClick: () => { \r\n                        this.$emit('panelSwitch','form')\r\n                    }\r\n                },\r\n                {\r\n                    label: `<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\"><path fill=\"#444444\" d=\"M16 16v-16h-16v16h16zM1 13h1v-1h-1v-11h14v12h-1v1h1v1h-1v-1h-1v1h-1v-1h-1v1h-1v-1h-1v1h-1v-1h-1v1h-1v-1h-1v1h-1v-1h-1v1h-1v-1h-1v-1z\"></path><path fill=\"#444444\" d=\"M12 13h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M13 12h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M11 12h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M9 12h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M10 13h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M8 13h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M6 13h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M7 12h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M5 12h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M3 12h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M4 13h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M2 13h1v1h-1v-1z\"></path></svg>`,\r\n                    helpCode:\"\",\r\n                    onClick: () => { \r\n                        this.$emit('panelSwitch','bottom')\r\n                    }\r\n                },\r\n            ]\r\n            , buttons: [\r\n                /*{label:\"ShowTree\",onClick:()=>console.log(JSON.cc(this.$store.state))},*/\r\n                \r\n                {\r\n                    label: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 256 256\" style=\"transform:rotate(180deg)\"><path d=\"M180.52,149v33.92H76.75V149H56.81v43.9a10,10,0,0,0,10,10H190.47a10,10,0,0,0,10-10V149H180.52Zm-48.3-3.08c3.39-3.38,27.68-35.63,27.68-35.63s4.3-4.29-1.41-4.29H143.63V56.41s0.06-2.06-2.6-2.06H118.39c-3.69,0-3,2.45-3,2.45V107H99.25c-4.71,0-.37,4.1-0.37,4.1l28.55,34.5S129.78,148.37,132.22,145.92ZM128,256h0A128,128,0,0,1,0,128H0A128,128,0,0,1,128,0h0A128,128,0,0,1,256,128h0A128,128,0,0,1,128,256Z\"></path></svg>`,\r\n                    helpCode:\"config-load\",\r\n                    //title: \"Guardar Vista\",\r\n                    onClick: () => { \r\n                        const configFile = $('#configFileSelect option:selected').text()\r\n                        this.loadConfigFile(configFile)\r\n                        console.log(configFile)\r\n                    }\r\n                },\r\n                {\r\n                    label: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 256 256\"><path d=\"M180.52,149v33.92H76.75V149H56.81v43.9a10,10,0,0,0,10,10H190.47a10,10,0,0,0,10-10V149H180.52Zm-48.3-3.08c3.39-3.38,27.68-35.63,27.68-35.63s4.3-4.29-1.41-4.29H143.63V56.41s0.06-2.06-2.6-2.06H118.39c-3.69,0-3,2.45-3,2.45V107H99.25c-4.71,0-.37,4.1-0.37,4.1l28.55,34.5S129.78,148.37,132.22,145.92ZM128,256h0A128,128,0,0,1,0,128H0A128,128,0,0,1,128,0h0A128,128,0,0,1,256,128h0A128,128,0,0,1,128,256Z\"></path></svg>`,\r\n                    helpCode:\"config-save\",\r\n                    onClick: () => { \r\n                        const configFile = this.api.saveTree(this.$refs.configFileSelect.value,1) //$('#configFileSelect option:selected').text()\r\n                        if ( !configFile ) return false\r\n                        if ( ! this.configFilesList.filter ( ele => ele.toLowerCase() == configFile.toLowerCase() ).length ) this.configFilesList.push (configFile)\r\n                        //window.circus.showHelpBox({title:'Configuración Guardada',text:\"Se ha guardado la configuración actual en el archivo \" + configFile})\r\n                        alert(\"Se ha guardado la configuración actual en el archivo \" + configFile)\r\n                        //console.log(configFile)\r\n                    }\r\n                },\r\n                {\r\n                    label: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 330.5 330.5\"><path d=\"M178.3 136.6l16.4 16.4 69.7-69.7c2.3-2.3 3.4-5.2 3.4-8.2 0-3-1.1-5.9-3.4-8.2 -4.5-4.5-11.8-4.5-16.4 0L178.3 136.6zM172.3 140.2l-0.7-0.7 -12.4 12.4 -7.7 7.7 20.4 20.4 8.3-8.3 11.8-11.8 -0.9-0.9 -1.2-1.2 -16.4-16.4L172.3 140.2zM66.8 197.2c-0.1 0-0.2 0.1-0.3 0.1 -0.5 0.1-0.9 0.3-1.3 0.6l-0.2 0.1L65 198c-0.5 0.3-0.8 0.7-1.2 1.2 -0.3 0.5-0.6 1-0.8 1.6 -0.5 1.7-0.3 3.7 1.3 4.9 3.8 3 7.7 6 11.6 8.9l0.7-0.3 1.7-0.7L80 213l14.1-5.4 20.6-7.9 -14.3 16.6 -8 9.2 -1.1 1.3 -1.1 1.3 -1.1 1.3c0.8 0.3 1.6 0.4 2.5 0.2 0.5-0.1 1-0.3 1.6-0.5 0.1 0 0.1-0.1 0.2-0.1 0.6-0.3 1.1-0.5 1.7-0.7l3.3 3.3c0 0.8-0.1 1.5-0.1 2.3 -0.1 0.7-0.1 1.5-0.2 2.2 -0.1 1.1-0.3 2.2-0.6 3.3 -0.6 2.5 0.8 5.7 3.5 6.2 4.4 0.9 8 2.4 11.1 4.5 3.5 2.4 6.4 5.4 9.1 9.1 1.3 1.8 2.6 3.6 3.9 5.6 1 1.6 2.6 2.3 4.1 2.3 0.7 0 1.4-0.1 2-0.4 2.4-0.9 4.2-3.4 3.1-6.2l32.3-75.5 -20.2-20.2L66.8 197.2zM165.2 330.5L165.2 330.5C74 330.5 0 256.5 0 165.2v0C0 74 74 0 165.2 0h0c91.3 0 165.2 74 165.2 165.2v0C330.5 256.5 256.5 330.5 165.2 330.5z\"/></svg>`,\r\n                    helpCode:\"config-delete\",\r\n                    onClick: () => { \r\n                        const configFile = $('#configFileSelect option:selected').text()\r\n                        this.deleteConfigFile(configFile)\r\n                        this.configFilesList = this.configFilesList.filter (ele=>{if(ele!=configFile)return true;return false})\r\n                        //$('#configFileSelect')[0].selectedIndex = 0\r\n                        //$('#configFileSelect').blur()\r\n                        //console.log(configFile)\r\n                    }\r\n                }\r\n                /* BOTÓN PARA EDITAR ARCHIVO DE CONFIGURACIÓN. DESACTIVADO DE MOMENTO.\r\n                { \r\n                    label: `<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\t viewBox=\"0 0 300 300\" style=\"enable-background:new 0 0 300 300;\" xml:space=\"preserve\"><g>\t<g>\t\t<path d=\"M149.996,0C67.157,0,0.001,67.161,0.001,149.997S67.157,300,149.996,300s150.003-67.163,150.003-150.003\t\t\tS232.835,0,149.996,0z M133.314,149.997c0,3.133-0.571,6.111-1.569,8.901l41.868,20.142c4.819-5.275,11.731-8.595,19.436-8.595\t\t\tc14.553,0,26.353,11.796,26.353,26.348c0,14.555-11.803,26.356-26.359,26.356c-14.553,0-26.359-11.801-26.359-26.356\t\t\tc0-1.395,0.145-2.757,0.353-4.09l-44.568-21.436c-4.357,3.188-9.71,5.089-15.52,5.089c-14.555,0-26.356-11.796-26.356-26.361\t\t\tc0-14.55,11.801-26.348,26.356-26.348c5.81,0,11.165,1.901,15.523,5.086l44.571-21.431c-0.21-1.336-0.353-2.692-0.353-4.09\t\t\tc0-14.558,11.803-26.356,26.359-26.356c14.553,0,26.356,11.798,26.356,26.356c0,14.555-11.803,26.356-26.356,26.356\t\t\tc-7.7,0-14.617-3.328-19.436-8.598l-41.868,20.134C132.744,143.89,133.314,146.875,133.314,149.997z\"/>\t</g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>`,\r\n                    onClick: function(){\r\n                        if($('#ttt').length){$('#ttt').remove();return}\r\n                        const that = this//.$store.state\r\n                        //return\r\n                        const div = $('<textarea id=\"ttt\"/>').val(jsonBeautify(that.$store.state.database, null, 2, 100)).css({\r\n                            width: '100vw'\r\n                            , height: '100vh'\r\n                            , position: 'absolute'\r\n                            , background: 'white'\r\n                            , border: '1px solid #ddd'\r\n                            //, bottom: '50px'\r\n                            //, right: '50px'\r\n                            , 'z-index': 200\r\n                        }).on('blur',function(){\r\n                            const val = JSON.parse(this.value)\r\n                            that.$store.commit('setKey',{path:'.database',val})\r\n                            $('#ttt').remove()\r\n                        })\r\n                        $('body').prepend(div)\r\n                    }.bind(this)\r\n                },\r\n                */\r\n             ],\r\n        }\r\n    },\r\n  computed: {\r\n      evaluatedFieldsOfVentana () {\r\n          const fields = this.$store.state.tablesMap[this.ventana.data.table].evaluatedFields\r\n          //console.log(fields)\r\n          return { fields }\r\n      },\r\n      database(){\r\n                   return JSON.cc(this.$store.state.database)\r\n      },\r\n        evaluatedVentana () {\r\n            const evaluatedVentana = this.ventana\r\n            Object.assign ( evaluatedVentana.data , this.evaluatedFieldsOfVentana )\r\n\r\n            return evaluatedVentana\r\n        },\r\n      childTablesWindows () {\r\n          const childTableNames = Object.keys(this.api.getDirectSuns(this.ventana.data.table))\r\n        const ventanas = this.$store.state.ventanas.data.map ( (win,index) => ({name:win.name,table:win.table,index}))\r\n        , childWindows = ventanas.filter ( win => {\r\n            return childTableNames.indexOf(win.table.toLowerCase()) != -1\r\n         } )\r\n        return childWindows\r\n      },\r\n      parentTablesWindows () {\r\n          const parentTableNames = Object.keys(this.api.getDirectParents(this.ventana.data.table))\r\n          //const parentTableNames = cleanCopy(this.tabs.names)//.map ( (name,index) => ({name,index:})))\r\n          //parentTableNames.splice ( 0,1 )\r\n          const ventanas = this.$store.state.ventanas.data.map ( (win,index) => ({name:win.name,table:win.table,index}))\r\n          , parentWindows = ventanas.filter ( win => {\r\n            return parentTableNames.indexOf(win.table.toLowerCase()) != -1\r\n        } )\r\n          //console.log(parentWindows)\r\n          return parentWindows\r\n      },\r\n      availableTables () {\r\n          return Array.from (window.tablesMap)\r\n\r\n          const tablesObj = this.$store.state.database.tables\r\n          return tablesObj.map ( ( o ) => o.table_alias )\r\n          return Object.keys(tablesObj)\r\n      },\r\n      tabs () {\r\n          const table = this.ventana.data.table\r\n          , tabs = this.api.getTablesRelation(table)//.names\r\n          //console.log(tabs)  \r\n        return tabs\r\n      },\r\n      keysSettings() {\r\n          //log('func')\r\n          const keysSettings = {}\r\n          var val\r\n          //debugger\r\n          if ( ! this.evaluatedFieldsOfVentana.fields ) return keysSettings\r\n          this.evaluatedFieldsOfVentana.fields.forEach ( field => {\r\n              const list = field.dbsettings ? field.dbsettings.list : false\r\n              val = { data_type: field.data_type }\r\n              if ( list ) {\r\n                  Object.assign ( val, { list: { values: list } } )\r\n                  keysSettings[this.fieldUniqueId(field)] = val\r\n              } else {\r\n              //if ( field.label == \"DOM_Id\") {\r\n                  keysSettings[this.fieldUniqueId(field)] = val\r\n              }\r\n          })\r\n          //console.log(keysSettings)\r\n          return keysSettings\r\n      },\r\n      toolbarButtons () {\r\n          return [\r\n              {\r\n                  label: this.formver ? \" < \" : \" > \",\r\n                  onClick: this.toolbarClick\r\n              },\r\n          ]\r\n      }\r\n   },\r\n   watch: {\r\n       ventana() {\r\n           //this.form.data = this.formDataBlanked()\r\n       },\r\n       database() {\r\n           this.$refs.listado.qeParams.forEach ( param => {\r\n               \r\n               this.api.setFieldListSettings ( param )\r\n                /*\r\n               const fieldConfig = that.evaluatedFieldsOfVentana.fields[param.index]\r\n               , { list, listModel , listAlias, listType, key } = fieldConfig\r\n               , newListConfig = { list: list ? list : false , listModel: listModel ? listModel : false  , listAlias: listAlias ? listAlias : false , listType: listType ? listType : false , key }\r\n                //debugger\r\n               Object.assign ( param, newListConfig )\r\n               */\r\n\r\n           })\r\n           this.$refs.listado.qeParams = JSON.cc(this.$refs.listado.qeParams)\r\n       },\r\n       evaluatedFieldsOfVentana () {\r\n           this.form.data = this.formDataBlanked()\r\n       }\r\n\r\n   },\r\n   methods: {\r\n      ...mapActions(['setVentana']),\r\n    logout() {\r\n        window.logout()\r\n    },\r\n    loadConfigFile ( fileName ) {\r\n        //const fileName = $(target).find('option:selected').text()\r\n        this.api.loadConfig ( fileName )\r\n    },\r\n    deleteConfigFile ( fileName ) {\r\n        if ( ! confirm ( 'Eliminar ' + fileName + '?' ) ) return false\r\n        this.api.deleteConfig ( fileName, (res) => {\r\n            alert(res)\r\n            this.loadFilesList ( $('#configFileSelect')[0] )\r\n        } )\r\n    },\r\n      getRelations(tabs,identities) {\r\n          const lis = []\r\n          tabs.forEach ( (tab,i) => {\r\n              const li = '<li style=\"text-transform:\">' + tab + ' (' + identities[i] + ')</li>'\r\n              lis.push (li)\r\n          })\r\n          const $text = $('<div/>').append('<titulo>Relaciones</titulo>').append('<ul style=\"list-style-type: square;padding-left:10px\">'+lis.toString().replace(/\\,/g,'')+'</ul>')\r\n          return $text.html()//.wrap('<div/>').parent().html()\r\n      },\r\n      injectChild() {\r\n        const qe = this.$refs.listado.$refs.qe\r\n        , params = qe.settings.params\r\n        , indexVentana = this.$refs.childTable.value\r\n        this.$refs.childTable.selectedIndex=0\r\n        let actualQeParams = this.$store.getters.qeParams(indexVentana)\r\n        if ( ! actualQeParams ) actualQeParams = []\r\n        this.$store.commit ( 'Ventana_injectQE' , {indexVentana,qeParams:actualQeParams.concat(params)} )\r\n        //this.$store.commit ( 'Ventana_injectQE' , {indexVentana,qeParams:params} )\r\n        this.switchVentana(indexVentana)\r\n      },\r\n      injectParent() {\r\n        const qe = this.$refs.listado.$refs.qe\r\n        , params = qe.settings.params\r\n        , indexVentana = this.$refs.parentTable.value\r\n        , joinSyntax = this.tabs.joinSyntax\r\n        //, indexTabla = this.$refs.parentTable.selectedIndex\r\n        , nombreTabla = this.parentTablesWindows.filter ( win => win.index == indexVentana )[0].table\r\n        //, idfield = nombreTabla+'.'+this.ventana.data.identities[indexTabla]\r\n        , descripcion = this.ventana.data.table.toUpperCase() + ' con ' + params.filter(par=>par._active).map ( par => {\r\n            let val = par.value\r\n            try {\r\n                const json = JSON.parse ( val )\r\n                if ( typeof json == 'object' && !json.length ) { //es select con descripcion\r\n                    val = json.descripcion\r\n                }\r\n            } catch ( err ) { }\r\n            \r\n            return `${par.alias}: ${val}`\r\n        })\r\n        , that = this\r\n        this.api.getIdentitiesForTableSet(nombreTabla,function(padre){\r\n            const pkpadre = nombreTabla + '.' + padre[0].column_name\r\n            console.log(pkpadre)\r\n            const sql = `SELECT ${pkpadre} FROM ${joinSyntax} ${qe.settings.sqlSyntax?' WHERE '+qe.settings.sqlSyntax:''}`\r\n            , val = JSON.stringify({\r\n                sql: sql\r\n                , descripcion\r\n            })\r\n            , param = {\r\n                alias: pkpadre\r\n                , campo: \"\"\r\n                , data_type: \"text\"\r\n                , key: pkpadre\r\n                , reference: pkpadre\r\n                , leftText: \"\"\r\n                , rightText: \"\"\r\n                , text: val\r\n                , value: val\r\n                , vista: \"\"\r\n                , operator: \"AND\"\r\n                , _active: true\r\n                , _extended: false\r\n                , _inlist: true\r\n                , _orderby: \"\"\r\n            }\r\n            that.$refs.parentTable.selectedIndex=0\r\n            let actualQeParams = that.$store.getters.qeParams(indexVentana)\r\n            if ( ! actualQeParams ) actualQeParams = []\r\n            const newParams = [param].concat(actualQeParams)\r\n            that.utils.unifyObjectKey ( {array: newParams, key: 'alias'} )\r\n            that.$store.commit ( 'Ventana_injectQE' , {indexVentana,qeParams:newParams} )\r\n            that.switchVentana(indexVentana)\r\n        })\r\n      },\r\n      rowClick(row){\r\n          this.form.data = this.formDataBlanked()\r\n        Object.assign(this.form.data , row)\r\n      },\r\n      nameChange ( event ) {\r\n        const newName = event.target.innerHTML\r\n        console.log(newName)\r\n        this.$store.commit ( 'Ventana_setName' , {indexVentana:this.index,ventanaName:newName} )\r\n      },\r\n      tableChange ( event ) {\r\n          /*\r\n          if ( ! confirm ( 'Cambiar a -' + event.target.value + '- la tabla asociada a esta ventana.' ) ) {\r\n              event.target.value = this.ventana.data.table\r\n              return false\r\n          }\r\n          */\r\n        const newTable = event.target.value\r\n        this.setFieldsForTable (newTable)\r\n        this.$refs.listado.custom_buttons = this.api.$buttonsForTable ( newTable )\r\n      },\r\n      setFieldsForTable (tableName) {\r\n          if ( tableName ) this.$store.commit ( 'Ventana_setTable' , {indexVentana:this.index,tableName} )\r\n            //this.evaluatedFieldsOfVentana = { fields, identities }\r\n            //this.form.data = this.formDataBlanked()\r\n\r\n\r\n/*\r\n          window.working(1)\r\n        tableName = tableName ? tableName : this.ventana.data.table\r\n        this.api.getFieldsForTable ( tableName, ( { fields, identities } ) => {\r\n            //this.$store.commit ( 'Ventana_setFields', {indexVentana: this.ventana.index, fields, identities})\r\n            this.evaluatedFieldsOfVentana = { fields, identities }\r\n            this.form.data = this.formDataBlanked()\r\n            window.working(0)\r\n        } )\r\n        */\r\n      },\r\n      toolbarClick (buttonLabel) {\r\n          const key = (buttonLabel != 'formver') ? buttonLabel.toLowerCase() : 'formver'\r\n          this[key] = ! this[key]\r\n          setTimeout(function(){this.$refs.listado.containerResize()}.bind(this),10)\r\n      },\r\n      fieldsOfVentana(ventana) {\r\n        return this.evaluatedFieldsOfVentana.fields\r\n        //log(this.$store.state)\r\n        //return this.$store.state.database.tables[ventana.data.table].fields\r\n      },\r\n       tabName ( item ) {\r\n            const itemTableName = item.table_name\r\n           //console.log(itemTableName)\r\n            //, tableName = this.ventana.table\r\n            return itemTableName\r\n        },\r\n        formFilter ( index ) {\r\n            const that = this\r\n            //debugger\r\n            //const filteredField =  filterState[Object.keys(filterState)[0]]\r\n            //const index = filteredField.index\r\n            let fieldConfig = JSON.cc (this.evaluatedFieldsOfVentana.fields[index])  //JSON.cc(this.$store.state.ventanas.data[this.index].fields[index])\r\n            this.formFilterState.data = [fieldConfig]\r\n            const actualRows = this.$refs.listado.grid.rows\r\n            if ( ! actualRows ) return false\r\n\r\n            this.$refs.listado.clearSimpleTable()\r\n            return\r\n\r\n\r\n            //AÑADO UNA COLUMNA AL LISTADO PROVISONALMENTE\r\n\r\n            const rows = []//JSON.cc ( this.grid.rows )\r\n            actualRows.forEach ( fila => {\r\n                //const fila = JSON.cc ( row )\r\n                const newLine = {}\r\n                Object.keys(fila).forEach ( (key,i)=>{\r\n                    if ( i == 1 ) newLine[Object.keys(filterState)[0].split(\".\")[3]] = \"\"\r\n                    newLine[key] = fila[key]\r\n                })\r\n                rows.push ( newLine )\r\n            })\r\n            this.$refs.listado.grid.rows = rows\r\n            this.$nextTick(function(){this.$refs.listado.compute()})\r\n            //this.$refs.listado.compute()\r\n\r\n        },\r\n        fieldUniqueId ( field ) {\r\n            const table_name = field.table_name\r\n            , column_name = field.column_name\r\n            if ( field.literal ) return column_name\r\n            //const dbID = this.api.getTableConnectionId ( table_name )\r\n            const dbID = field.table_catalog\r\n            return dbID + '.dbo.' + table_name + '.' + column_name\r\n        },\r\n        formSetValues ( formData ) {\r\n            //Object.assign ( this.form.data, formData )\r\n            const blankedData = this.formDataBlanked()\r\n            Object.keys(formData).forEach ( key => {\r\n                if ( typeof blankedData[key] != 'undefined' ) \r\n                    blankedData[key] = formData[key]\r\n            })\r\n            this.form.data = blankedData//Object.assign ( this.formDataBlanked(), formData )\r\n            //log(this.form.data)\r\n        },\r\n      formDataBlanked() {\r\n          const formData = {}\r\n          if ( ! this.evaluatedFieldsOfVentana.fields ) return formData\r\n          this.evaluatedFieldsOfVentana.fields.forEach ( field => {\r\n              formData[this.fieldUniqueId(field)] = \"\"\r\n          })\r\n          return formData\r\n          //return JSON.cc ( this.$store.state.ventanas.data[this.index].fields )\r\n      }\r\n },\r\n created: function () {\r\n        //this.api.getFieldsForTable ( this.ventana.data.table, ( { fields, identities } ) => {\r\n            //console.log(JSON.cc(fields))\r\n            //this.$store.commit ( 'Ventana_setFields', {indexVentana: this.ventana.index, fields, identities})\r\n            //this.evaluatedFieldsOfVentana = { fields, identities }\r\n        //} )\r\n            //this.form.data = this.formDataBlanked()\r\n        this.api.listFiles('./json/',(list)=>{\r\n            /*\r\n            target.options.length = 1\r\n            const $select = $(target)\r\n            */\r\n            this.configFilesList = list\r\n            /*\r\n            list.forEach ( item => {\r\n                $select.append(`<option value=\"${item}\">${item}</option>`)\r\n            })\r\n            */\r\n        })\r\n        $(this.$refs.Formulario).resizable({\r\n            handles: 'e'\r\n            //,ghost:true\r\n        })\r\n        const that = this\r\n        $(window.document).on('keyup',function(e){\r\n          if(e.keyCode==13) that.$refs.listado.loadPage()\r\n        })\r\n  }\r\n  ,updated: function () {\r\n        $(this.$refs.Formulario).resizable({\r\n            handles: 'e'\r\n            //,ghost:true\r\n        })\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    .slots:not(:last-child) {\r\n        width: 300px;\r\n        z-index:1;\r\n        overflow-x: hidden;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ventana.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ventana.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ventana.vue?vue&type=template&id=1be294bc&scoped=true&\"\nimport script from \"./ventana.vue?vue&type=script&lang=js&\"\nexport * from \"./ventana.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ventana.vue?vue&type=style&index=0&id=1be294bc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1be294bc\",\n  null\n  \n)\n\nexport default component.exports","<script>\r\n//import $ from 'jquery'\r\nimport Ly from './layout.vue'\r\nimport Ventana from './ventana.vue'\r\nimport Toolbar from './tool-bar.vue'\r\nexport default {\r\n    data: function() {\r\n        return {\r\n        }\r\n    },\r\n  components: { Ly, Ventana, Toolbar },\r\n  props: ['containers','panels'],\r\n  data: function () {\r\n      return {\r\n          selectedIndex: 0\r\n      }\r\n  },\r\n  computed: {\r\n    ventanas () {\r\n        return this.$store.state.ventanas.data\r\n    },\r\n    containerWidth() {\r\n        const noContainers = this.containers.length\r\n        return {width: `calc(100% / ${noContainers})`}\r\n    }\r\n  },\r\n  methods: {\r\n      visibleVentanas(container) {\r\n          const visWinIndexes = this.$store.state.ventanas.data.map ( (ventana,index) => ({index,visible:ventana.visible}) ).filter( ventana => ventana.visible ).map ( ven => ven.index )\r\n        return visWinIndexes //? visWinIndexes : []\r\n      },\r\n      ventanasDelContainer (container) {\r\n        const ventanasWithIndex = this.ventanas.map ( ( ventana, index ) => ( { data:ventana , index } ) )\r\n        if ( ! container ) return ventanasWithIndex\r\n        const containerIndex = container.index\r\n        , ventanasDelContainer = ventanasWithIndex.filter ( ventana => ventana.data.container.indexOf(containerIndex)!=-1 )\r\n        return ventanasDelContainer\r\n      },\r\n      styleVentana (container, visible) {\r\n          if ( this.containerType(container) != 'visible') return false\r\n          const noVentanasVisibles = this.ventanasDelContainer ( container ).filter ( ventana => this.visibleVentanas ( container ).indexOf(ventana.index)!=-1 ).length\r\n          //, style = { height: `calc(100% / ${noVentanasVisibles})` }\r\n          , style = { height: `calc(100% / ${noVentanasVisibles})`, top:'0px', left:0, width:'100%', position:'absolute', border:'0px solid green' }\r\n          //console.log(visible)\r\n          return style\r\n    },\r\n    onButtonClick(indexVentana){\r\n        /*\r\n        this.hiddenVentanas = this.ventanasDelContainer().map ( ventana => {\r\n            return ventana.index\r\n        })\r\n        */\r\n        /*\r\n        this.visibleVentanas = []\r\n        const visibleVentanas = cleanCopy ( this.visibleVentanas )\r\n        this.visibleVentanas = new matriz ( visibleVentanas ).switch ( indexVentana )\r\n        */\r\n        //this.$store.commit ( 'Ventana_setVisibility' , {indexVentana,visible:true} )\r\n        this.selectedIndex = indexVentana\r\n        const containers = $('.window-container')\r\n        , pestanas = $('.pestanaVentana')\r\n        containers.css({'z-index':-1})\r\n        containers.eq(indexVentana).css({'z-index':1})\r\n        pestanas.removeClass('pestanaVentanaSelected').eq(indexVentana).addClass('pestanaVentanaSelected')\r\n        //containers.hide()\r\n\r\n    },\r\n    switchContainerType(container){\r\n        const containerType = this.containerType ( container )\r\n        , newType = containerType == 'visible' ? 'scroll' : 'visible'\r\n        //console.log(newType)\r\n        this.$store.commit ( 'setContainerType' , {index:container.index,type:newType} )\r\n    },\r\n    containerName ( container ) {\r\n        return container.data.name\r\n    },\r\n    containerType ( container ) {\r\n        return container.data.type\r\n    },\r\n    isInlineContainer ( container ) {\r\n        return this.containerType(container)=='scroll'?1:0\r\n    },\r\n    toolbarButtons (container) {\r\n        const ventanasDelContainer = this.ventanasDelContainer ( container )\r\n        //console.log(ventanasDelContainer)\r\n        const buttons = ventanasDelContainer.map ( ventana => ({\r\n            label: ventana.data.name,\r\n            onClick: () => this.onButtonClick(ventana.index,container)\r\n            , onClose: function () {\r\n                if ( ventanasDelContainer.length == 1 ) return\r\n                if(confirm('Eliminar pestaña?')) {\r\n                 const selectedIndex = this.selectedIndex\r\n                 let newIndexVentana\r\n                if ( selectedIndex == 0 ) \r\n                    newIndexVentana = 0 \r\n                else if ( selectedIndex == this.ventanas.length - 1 ) \r\n                    newIndexVentana = this.ventanas.length - 2\r\n                else\r\n                    newIndexVentana = selectedIndex - 1 \r\n\r\n                this.$store.commit ( 'Ventana_delete', {index: ventana.index} )\r\n                 this.onButtonClick ( newIndexVentana  )\r\n                }\r\n            }.bind(this)\r\n        }))\r\n        buttons.push ({\r\n                  label: \"+\",\r\n                  onClick: function () {\r\n                    const lastVentana = ventanasDelContainer[ventanasDelContainer.length-1]\r\n                      this.$store.commit ( 'Ventana_clone', {index: lastVentana.index} )\r\n                      this.onButtonClick ( this.ventanas.length - 1 )\r\n                  }.bind(this)\r\n                  ,onClose: function(){}\r\n               })\r\n              /*\r\n        ventanasDelContainer.forEach ( ventana => {\r\n\r\n            buttons.push ({\r\n                  label: \"Delete \"+ ventana.data.name,\r\n                  onClick: function () {\r\n                      this.$store.commit ( 'Ventana_delete', {index: ventana.index} )\r\n                  }.bind(this)\r\n              })\r\n        })\r\n        */\r\n       /*\r\n        buttons.push ( {\r\n            label: \"Container Type\",\r\n            onClick: () => this.switchContainerType(container)\r\n        })\r\n        */\r\n        return buttons\r\n    },\r\n    saveWindowName(target,indexVentana){\r\n        this.$store.commit ( 'Ventana_setName' , {indexVentana,ventanaName:$(target).text()} )\r\n        $(target).attr('contenteditable',false)\r\n    },\r\n    editWindowName(target){\r\n        $(target).attr('contenteditable',true).focus()\r\n    },\r\n    panelSwitch(panel){\r\n        //console.log(this.panels[panel])\r\n        this.$emit('panelSwitch',panel)\r\n    }\r\n  }\r\n  , mounted() {\r\n      this.onButtonClick(0)\r\n  }\r\n}\r\n</script>\r\n<template>\r\n\t<Ly data-component=\"Containers\" height=1 flexbox=1>\r\n        <!--\r\n        <Ly grow=1 height=1>\r\n            <Ly flexbox=1 data-component=\"Containers\" height=1>\r\n                -->\r\n\t\t        <Ly grow=1 height=1 v-for=\"container in containers\" :data-overflow=\"containerType(container)\" :style=\"containerWidth\">\r\n                    <Ly flexbox=1 column=1 height=1>\r\n                        <!--<Ly style=\"background:lightgray; padding-left:2px\">{{containerName(container)}}</Ly>-->\r\n                        <Ly flexbox=1 style=\"background:;padding:0 0 0px 0px;border-bottom:1px solid #999\">\r\n                            <div v-for=\"(boton,index) in toolbarButtons(container)\" @click=\"boton.onClick\" :class=\"{pestanaVentana:true,pestanaVentanaSelected:(visibleVentanas ( container ).indexOf(index)!=-1)}\">\r\n                                <div style=\"\" class=\"botonLabel\" contenteditable=\"false\" @dblclick=\"editWindowName($event.target,index)\" @blur=\"saveWindowName($event.target,index)\">{{boton.label}}</div>\r\n                                <div class=\"close closeButton\" style=\"cursor:default\"  @click.stop=\"boton.onClose\" v-if=\"boton.label!='+'\"/>\r\n                            </div>\r\n                            <!--<Toolbar :buttons=\"toolbarButtons(container)\"/>-->\r\n                        </Ly>\r\n                        <Ly grow=1 height=1 :overflow=\"containerType(container)\" style=\"position:relative\">\r\n                            <Ventana \r\n                                v-for=\"ventana in (ventanasDelContainer(container))\"\r\n                                :key=\"ventana.index\"\r\n                                v-show=\"visibleVentanas ( container ).indexOf(ventana.index)!=-2\" \r\n                                :visible=\"selectedIndex==ventana.index\" \r\n                                :ventana=\"ventana\" \r\n                                :isInline=\"isInlineContainer(container)\" \r\n                                :style=\"styleVentana(container,visibleVentanas ( container ).indexOf(ventana.index)!=-1)\"\r\n                                :index=\"ventana.index\"\r\n                                class=\"window-container\"\r\n                                :switchVentana = \"onButtonClick\"\r\n                                :panels = \"panels\"\r\n                                @panelSwitch = \"panelSwitch\"\r\n                            />\r\n                        </Ly>\r\n                    </Ly>\r\n                </Ly>\r\n            <!--\r\n            </Ly>\r\n        </Ly>\r\n    -->\r\n\t</Ly>\r\n</template>\r\n<style>\r\n    .pestanaVentana{\r\n        border-radius: 5px 5px 0 0;\r\n        border:1px solid #999;\r\n        border-width: 1px 1px 0 1px;\r\n        float:left;\r\n        padding:5px 10px;\r\n        cursor:default;\r\n        background:#eee;\r\n        max-width: 300px;\r\n        flex-grow: 1;\r\n        box-shadow: 0 -10px 9px #ddd inset;\r\n        text-transform: uppercase;\r\n        white-space: nowrap;\r\n    }\r\n    .botonLabel {\r\n        width: calc(100% - 20px);float:left;overflow:hidden;\r\n    }\r\n    .pestanaVentana:last-child{\r\n        width: 20px;\r\n        padding-left: 5px;\r\n        flex-grow: 0;\r\n    }\r\n    .pestanaVentana:last-child div{\r\n        overflow: visible;\r\n    }\r\n    .pestanaVentana.pestanaVentanaSelected,.pestanaVentana:hover.pestanaVentanaSelected {\r\n        background-color:#e4e4e4;\r\n        margin: -1px 0 -1px 0;\r\n        box-shadow: none;\r\n    }\r\n    .pestanaVentana:hover {\r\n        background:#fafafa;\r\n    }\r\n    .closeButton {\r\n        margin-left: 4px;\r\n        margin-top: 1px;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./containers.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./containers.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./containers.vue?vue&type=template&id=e03b9b70&\"\nimport script from \"./containers.vue?vue&type=script&lang=js&\"\nexport * from \"./containers.vue?vue&type=script&lang=js&\"\nimport style0 from \"./containers.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Ly',{attrs:{\"flexbox\":\"1\",\"column\":\"1\",\"data-component\":\"context-menu\"}},[_c('Ly',[_vm._v(_vm._s(_vm.title)),_c('button',{on:{\"click\":function($event){return _vm.close()}}},[_vm._v(\"Close\")])]),_c('Ly',[_c('Toolbar',{attrs:{\"buttons\":_vm.buttons}})],1),_c('Ly',[_c('ItemEditor',{attrs:{\"item\":_vm.item,\"lists\":_vm.lists,\"branchs\":_vm.branchs,\"keysSettings\":_vm.keysSettings},on:{\"change\":_vm.formChange}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <Ly flexbox=1 column=1 data-component=\"context-menu\">\r\n        <Ly>{{title}}<button @click=\"close()\">Close</button></Ly>\r\n        <Ly><Toolbar :buttons=\"buttons\"/></Ly>\r\n        <Ly><ItemEditor :item=\"item\" :lists=\"lists\" :branchs=\"branchs\" v-on:change=\"formChange\" :keysSettings=\"keysSettings\"/></Ly>\r\n     </Ly>\r\n</template>\r\n<script>\r\n//import {cleanCopy} from '../helpers.js'\r\nimport Ly from './layout.vue';\r\nimport ItemEditor from './item-editor.vue'\r\nimport Toolbar from './tool-bar.vue'\r\nexport default {\r\n    components: { ItemEditor, Ly, Toolbar },\r\n    data () {\r\n        return {\r\n            buttons: [{label:\"Save\",onClick:this.commitForm}]\r\n        }\r\n    },\r\n    computed: {\r\n        item () {\r\n            const item = this.$store.state.contextMenu.item\r\n            //console.log(cleanCopy(item))\r\n            return item ? item : {}\r\n        },\r\n        cursor () {\r\n            return this.$store.state.contextMenu.cursor\r\n        },\r\n        title () {\r\n            return this.$store.state.contextMenu.title\r\n        },\r\n        branchs () {\r\n            return this.$store.state.contextMenu.branchs\r\n        },\r\n        lists () {\r\n            //console.log(cleanCopy(this.$store.state.contextMenu.lists))\r\n            return this.$store.state.contextMenu.lists\r\n        },\r\n        keysSettings () {\r\n            return this.$store.state.contextMenu.keysSettings\r\n        }\r\n    },\r\n    methods: {\r\n        formChange(item) {\r\n            //const newState = object.cleanCopy(this.campos)\r\n            //console.log(item)\r\n            //const cursor = this.cursor\r\n            Object.keys(item).forEach ( key => item[key] = item[key].value )\r\n            this.$store.dispatch('context-menu' , {action:\"formChange\",item} )\r\n        },\r\n        commitForm(campos) {\r\n             this.$store.dispatch('context-menu' , {action:\"save\"} )\r\n        },\r\n        close(){\r\n            this.$store.dispatch('context-menu' , {action:\"clear\"} )\r\n        }\r\n    },\r\n    createdd () {\r\n        const aa = JSON.parse(JSON.stringify(this.$store.state.contextMenu.campos))\r\n        //console.log(aa)\r\n        this.campos = this.$store.state.contextMenu.campos\r\n    }\r\n}\r\n</script>\r\n<style>\r\n    [data-component=\"context-menu\"] {border:1px solid green;position:absolute;z-index:1;top:200px;left:700px;background:white;}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./context-menu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./context-menu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./context-menu.vue?vue&type=template&id=195bb702&\"\nimport script from \"./context-menu.vue?vue&type=script&lang=js&\"\nexport * from \"./context-menu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./context-menu.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\"}},_vm._l((_vm.treedata),function(node0){return _c('div',{staticClass:\"main-node\"},[_c('div',{staticClass:\"label\"},[_vm._v(_vm._s(node0.label))]),(Array.isArray(node0.content))?_vm._t(\"default\",_vm._l((node0.content),function(node1){return _c('div',{staticClass:\"node1\"},[_vm._v(\" \"+_vm._s(node1)+\" \")])})):_vm._t(\"default\")],2)}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div style=\"width:100%;height:100%;\">\r\n        <div v-for=\"node0 in treedata\" class=\"main-node\">\r\n            <div class=\"label\">{{node0.label}}</div>\r\n            <slot v-if=\"Array.isArray(node0.content)\">\r\n                <div v-for=\"node1 in node0.content\" class=\"node1\">\r\n                    {{node1}}\r\n                </div>\r\n            </slot>\r\n            <slot v-else>\r\n            </slot>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    components: { },\r\n    props: {\r\n        treedata: {\r\n            type: Array\r\n            , required: true\r\n        }\r\n    },\r\n    data: function () {\r\n        return {}\r\n    },\r\n    mounted(){\r\n        console.log(this.treedata)\r\n    }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tree-menu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tree-menu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tree-menu.vue?vue&type=template&id=2cb5b768&\"\nimport script from \"./tree-menu.vue?vue&type=script&lang=js&\"\nexport * from \"./tree-menu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"context-dialog-container\"},[_c('div',{},_vm._l((_vm.components),function(component,i){return _c('button',{on:{\"click\":function($event){return _vm.showComponent(i)}}},[_vm._v(_vm._s(component.componentLabel))])}),0),_c('div',{staticStyle:{\"min-height\":\"0\"}},_vm._l((_vm.components),function(component,i){return (_vm.shownComponentIndex==i)?_c(component.componentName,{tag:\"component\",attrs:{\"componentProps\":_vm.componentProps}}):_vm._e()}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"context-field-edit-list\"},[_c('div',{staticClass:\"encabezado\"},[_vm._m(0),_c('b',[_vm._v(_vm._s(_vm.componentProps.qeParam.is_computed?_vm.componentProps.qeParam.label:_vm.componentProps.qeParam.field_full_name))])]),_c('SimpleTable',{ref:\"simpleTable\",attrs:{\"rows\":_vm.rows,\"hiddenKeys\":['listModelName'],\"checkable\":true,\"searchable\":true,\"selectable\":true,\"showHeaders\":false,\"checkedRows\":_vm.checkedRows,\"singlecheck\":true,\"editablekeys\":['nombre'],\"searchString\":\"\"},on:{\"rowClick\":_vm.rowClick,\"rowEdit\":_vm.rowEdit,\"checkClick\":_vm.checkClick}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"text-transform\":\"uppercase\"}},[_vm._v(\"Cambiar modelo de lista desplegable\"),_c('br')])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"context-field-edit-list\">\r\n        <div class=\"encabezado\">\r\n            <div style=\"text-transform:uppercase\">Cambiar modelo de lista desplegable<br></div>\r\n            <b>{{componentProps.qeParam.is_computed?componentProps.qeParam.label:componentProps.qeParam.field_full_name}}</b>\r\n        </div>\r\n        <SimpleTable style=\"\"\r\n            ref=\"simpleTable\"\r\n            :rows=\"rows\"\r\n            :hiddenKeys=\"['listModelName']\"\r\n            :checkable=\"true\"\r\n            :searchable=\"true\"\r\n            :selectable=\"true\"\r\n            :showHeaders=\"false\"\r\n            :checkedRows=\"checkedRows\"\r\n            :singlecheck=\"true\"\r\n            :editablekeys=\"['nombre']\"\r\n            v-on:rowClick=\"rowClick\"\r\n            v-on:rowEdit=\"rowEdit\"\r\n            v-on:checkClick=\"checkClick\"\r\n            searchString=\"\"\r\n        />\r\n    </div>\r\n</template>\r\n<script>\r\nimport SimpleTable from 'D:/data/iis/simple-table/src/components/simple-table.vue'\r\nexport default {\r\n    components: { SimpleTable },\r\n    props: {\r\n        componentProps: { type: Object, required: true }\r\n    },\r\n    data () {\r\n        return {\r\n            listsModels : this.$store.state.database.listsModels\r\n            , lists : this.$store.state.database.lists\r\n        }\r\n    },\r\n    computed: {\r\n        rows () {\r\n            const listsModels = this.listsModels\r\n            , rows = Object.keys ( listsModels ).map ( key =>{\r\n                return {nombre:listsModels[key].alias ? listsModels[key].alias : key , listModelName: key }\r\n            } )\r\n            return rows\r\n        }\r\n        , checkedRows () {\r\n            const listsModels = this.listsModels\r\n            , lists = this.lists\r\n            , qeParam = this.componentProps.qeParam\r\n            , listModelName = qeParam.listModel //lists[qeParam.field_full_name]\r\n            , checkedRows = []\r\n            Object.keys(listsModels).forEach ( (key,i) => {\r\n                if ( key == listModelName ) checkedRows.push ( i )\r\n            })\r\n            return checkedRows\r\n        }\r\n    },\r\n    methods: {\r\n        rowClick(){},\r\n        rowEdit( row ){\r\n            const modifiedRowIndex = row.rowIndex\r\n            const editedKeyName =  row.__editedKeyName__\r\n            , listModelName = row.listModelName\r\n            , value = row[editedKeyName]\r\n            this.$store.commit ( 'set_listModelAlias' , {listModelName, value})\r\n\r\n        },\r\n        checkClick(checklist){\r\n            const { field_full_name, table_config_keyname, column_name } = this.componentProps.qeParam\r\n            let listModelName = false\r\n            if ( checklist.length ) {\r\n                listModelName = checklist[0].listModelName\r\n            }\r\n                //listModelName = checklist[0].nombre //this.rows[checklist.].nombre\r\n//                debugger\r\n/*\r\n            if ( ! confirm ( 'Asignar modelo de lista\\n\\n' + field_full_name + ' = ' + listModelName ) ) {\r\n                this.$refs.simpleTable.reset()\r\n                return false\r\n            } else {\r\n                */\r\n                const store = JSON.cc(this.$store.state)\r\n                //debugger\r\n                window.commit ( 'set_listModelNameToField' , { listModelName, tableName: table_config_keyname, fieldName: column_name } )\r\n                window.circus.showHelpBox({title:'Modelo de lista cambiado',text:`Se ha canbiado el modelo de lista asignado al campo ${field_full_name} a ${listModelName}`})\r\n                if ( this.componentProps.cb ) this.componentProps.cb()\r\n            //}\r\n        },\r\n    },\r\n    mounted () {\r\n        //console.log(JSON.cc(this.$store.state.database.listsModels))\r\n    }\r\n}\r\n</script>\r\n<style>\r\n    .context-field-edit-list {\r\n        height: ;\r\n        max-height: 100%;\r\n        display: flex;\r\n        flex-direction: column;\r\n    }\r\n    .encabezado {\r\n        padding: 5px;\r\n        background: #ddd;\r\n    }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./context-field-edit-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./context-field-edit-list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./context-field-edit-list.vue?vue&type=template&id=1f196846&\"\nimport script from \"./context-field-edit-list.vue?vue&type=script&lang=js&\"\nexport * from \"./context-field-edit-list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./context-field-edit-list.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"context-field-edit-key\"},[_c('div',{staticClass:\"encabezado\"},[_vm._m(0),_c('b',[_vm._v(_vm._s(_vm.componentProps.reference))])]),_c('textarea',{ref:\"textarea\",staticStyle:{\"resize\":\"none\",\"overflow\":\"hidden\"},domProps:{\"value\":_vm.qeParam.key},on:{\"input\":function($event){return _vm.oninput()}}})])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"text-transform\":\"uppercase\"}},[_vm._v(\"Cambiar sintaxis SQL\"),_c('br')])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"context-field-edit-key\">\r\n        <div class=\"encabezado\">\r\n            <div style=\"text-transform:uppercase\">Cambiar sintaxis SQL<br></div>\r\n            <b>{{componentProps.reference}}</b>\r\n        </div>\r\n        <textarea ref=\"textarea\" style=\"resize:none; overflow: hidden;\" @input=\"oninput()\" :value=\"qeParam.key\"></textarea>  \r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    components: {  },\r\n    props: {\r\n        componentProps: { type: Object, required: true }\r\n    },\r\n    data () {\r\n        return {\r\n            listsModels : JSON.cc(this.$store.state.database.listsModels)\r\n            , lists : JSON.cc(this.$store.state.database.lists)\r\n        }\r\n    },\r\n    computed: {\r\n        qeParam () {\r\n            return this.$store.state.contextDialog.props\r\n        },\r\n        rows () {\r\n            const listsModels = this.listsModels\r\n            , rows = Object.keys ( listsModels ).map ( key =>{\r\n                return {nombre:key}\r\n            } )\r\n            return rows\r\n        }\r\n        , checkedRows () {\r\n            const listsModels = this.listsModels\r\n            , lists = this.lists\r\n            , reference = this.componentProps.reference\r\n            , listModelName = lists[reference]\r\n            , checkedRows = []\r\n            Object.keys(listsModels).forEach ( (key,i) => {\r\n                if ( key == listModelName ) checkedRows.push ( i )\r\n            })\r\n            return checkedRows\r\n        }\r\n    },\r\n    mounted () {\r\n        this.auto_grow(this.$refs.textarea)\r\n    },\r\n    methods: {\r\n        editKey (event){\r\n            const  reference = this.componentProps.reference\r\n            ,  qeParam = this.componentProps.qeParam\r\n            qeParam.key = event.target\r\n        },\r\n        oninput() {\r\n            const element = this.$refs.textarea\r\n            , txt = element.value\r\n            this.auto_grow(element)\r\n            if ( this.componentProps.cb ) this.componentProps.cb(txt)\r\n        },\r\n        auto_grow(element) {\r\n            element.style.height = \"5px\";\r\n            element.style.height = (element.scrollHeight)+\"px\";\r\n        }       \r\n    }\r\n}\r\n</script>\r\n<style>\r\n    .context-field-edit-key {\r\n        height: 100%;\r\n        max-height: 100%;\r\n        display: flex;\r\n        flex-direction: column;\r\n    }\r\n    .encabezado {\r\n        padding: 5px;\r\n        background: #ddd;\r\n    }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./context-field-edit-key.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./context-field-edit-key.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./context-field-edit-key.vue?vue&type=template&id=304e217f&\"\nimport script from \"./context-field-edit-key.vue?vue&type=script&lang=js&\"\nexport * from \"./context-field-edit-key.vue?vue&type=script&lang=js&\"\nimport style0 from \"./context-field-edit-key.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"context-dialog-container\">\r\n        <div style=\"\">\r\n            <button v-for=\"(component,i) in components\" @click=\"showComponent(i)\">{{component.componentLabel}}</button>\r\n        </div>\r\n        <div style=\"min-height:0\">\r\n            <component v-for=\"(component,i) in components\" v-if=\"shownComponentIndex==i\" :is=\"component.componentName\" :componentProps=\"componentProps\"/>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport Toolbar from '../tool-bar.vue'\r\nimport contextFieldEditList from './context-field-edit-list.vue'\r\nimport contextFieldEditKey from './context-field-edit-key.vue'\r\nexport default {\r\n    components: { Toolbar, contextFieldEditList, contextFieldEditKey },\r\n    props: {\r\n        components: { type: Array , required: false }\r\n        , componentProps: { type: Object , required: false }\r\n    },\r\n    data () {\r\n        return {\r\n            shownComponentIndex: 0\r\n        }\r\n    },\r\n    computed: {\r\n        item () {\r\n            const item = this.$store.state.contextMenu.item\r\n            return item ? item : {}\r\n        }\r\n    },\r\n    methods: {\r\n        showComponent (i)  {\r\n            this.shownComponentIndex = i\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style>\r\n    .context-dialog-container {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        background: white;\r\n        z-index: 100;\r\n        height: 99vh;\r\n        max-height: 100vh;\r\n        border:0px solid red;\r\n        box-shadow: 2px 2px 15px 5px gray;\r\n        display: flex;\r\n        flex-direction: column;\r\n    }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./context-dialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./context-dialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./context-dialog.vue?vue&type=template&id=e69ccf66&\"\nimport script from \"./context-dialog.vue?vue&type=script&lang=js&\"\nexport * from \"./context-dialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./context-dialog.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div id=\"circus\" style=\"overflow:hidden; background: #292C3A; background:transparent\">\r\n        <div class=\"login-container\" style=\"\" v-show=\"!sessionId\">\r\n            <div class=\"login-form\" style=\"\">\r\n                <h1>CIRCUS - Login</h1>\r\n                <form onsubmit=\"return false\">\r\n                <div class=\"form-group\">\r\n                    <label>Usuaurio</label>\r\n                    <input class=\"form-control\" ref=\"controlUsuario\" :value=\"getLoginCookie('usr')\">\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <label>Contraseña</label>\r\n                    <input type=\"password\" class=\"form-control\" ref=\"controlContrasena\" :value=\"getLoginCookie('pass')\">\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <button class=\"btn btn-primary\" @click=\"login()\">Login</button>\r\n                </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n        <contextDialog :components=\"contextDialog.components\" :componentProps=\"contextDialog.componentProps\" v-show=\"contextDialog.show\"/>\r\n        <!--<contextDialog componentName=\"contextFieldEditor\" :componentProps=\"{key:'CLI_Estado',target:{}}\" />-->\r\n        <!--<SimpleTable style=\"z-index:1000;position:absolute;width:100px;height:100px;background:green\" :rows=\"[{nombre:'juan'},{nombre:'raul'}]\" :searchable=\"true\"/>-->\r\n            <div v-show=\"showHelpState\" class=\"panel-envelope\" style=\";height:auto;width:auto;background: transparent;color:;font-weight:500;font-size:11px;position:absolute;bottom:0;z-index:100;display:; align-self: flex-end\">\r\n                <div style=\"height:50%;width:100%;background: white\" ref=\"helpCuadrant\" v-html=\"helpText\"></div>\r\n                <div class=\"custom-title\" style=\"position:absolute; width: 176px; margin-top: -20px;display:none\">LOG</div>\r\n                <div style=\"height:50%;width:100%;overflow-y:auto;overflow-x:none;display:none;\" ref=\"logCuadrant\">\r\n                    <div v-for=\"msg in logText\" style=\"margin-bottom:7px\" v-html=\"msg\"></div>\r\n                </div>\r\n            </div>\r\n\r\n        <ly flexbox=1 column=1 height=1 style=\"position:relative\">\r\n          <ly v-show=\"show.formlist\" width=1 style=\"height:70%;position:relative;z-index:10;border:0px solid red\" grow=1 id=\"containers\" ref=\"contents\">\r\n           <ly flexbox=1 height=1  >\r\n             <ly grow=1 height=1>\r\n                 <ly flexbox=1 column=1 height=1>\r\n                     <ly grow=1 v-for=\"area in visibleAreas\" :style=\"areaHeight\"><Containers :containers=\"containersFromArea(area)\" @panelSwitch=\"panelSwitch\" :panels=\"panels\"/></ly>\r\n                </ly>\r\n             </ly>\r\n           </ly>\r\n           <!--\r\n           <button v-show=\"admin\" @click=\"show.queries=!show.queries\" style=\"position:absolute;bottom:15px;right:15px;background:;padding: 3px;z-index:1\">\r\n            <div :class=\"{'arrow-up':!show.queries,'arrow-down':show.queries}\"></div>\r\n            </button>\r\n            -->\r\n         </ly>\r\n         \r\n         <!--\r\n         <div v-show=\"show.formlist\" style=\"display:flex; height:70%; width:100%;\">\r\n            <div v-for=\"area in visibleAreas\" style=\"width:100%;\"><Containers :containers=\"containersFromArea(area)\" @panelSwitch=\"panelSwitch\" :panels=\"panels\"/></div>\r\n           <button v-show=\"admin\" @click=\"show.queries=!show.queries\" style=\"position:absolute;bottom:15px;right:15px;background:;padding: 3px;z-index:1\">\r\n            <div :class=\"{'arrow-up':!show.queries,'arrow-down':show.queries}\"></div>\r\n            </button>\r\n        </div>\r\n        -->\r\n         <div :style=\"{display:'flex',height:(show.formlist?'30%':'100%')}\" v-show=\"panels.bottom&&admin\">\r\n         \r\n        \r\n            <div class=\"panel-envelope\" style=\";flex-grow:1;height:100%;border:0px solid red; max-height:calc(100% - 0px);position:relative;min-width:100%\" id=\"queriesList\">\r\n                <button  @click=\"show.formlist=!show.formlist\" style=\"position:absolute;top:15px;right:15px;background:;padding: 3px;z-index:1\">\r\n                    <div :class=\"{'arrow-up':show.formlist,'arrow-down':!show.formlist}\"></div>\r\n                </button>\r\n                <SimpleTable\r\n                    style=\"border:1px solid gray;border-width:0px 0;padding:5px\"\r\n                    :nowrap=\"false\" \r\n                    :searchable=\"true\" \r\n                    :editablekeys=\"['Nombre']\" \r\n                    :hiddenKeys=\"['id']\" \r\n                    :rows=\"queries\" \r\n                    v-on:rowEdit=\"queriesTableOnChange\" \r\n                    v-on:rowClick=\"queriesRowClick\" \r\n                    :actions=\"gridActions\"\r\n                    cellMaxHeight=\"40px\"\r\n                />\r\n            </div>\r\n            </div>\r\n        </ly>\r\n        <ContextList/>\r\n        <!--\r\n        <div style=\"position:absolute;z-index:10000; width: 100vw; height: 100vh; background: pink; top:0;left:0;display:none;overflow:auto\">\r\n            <treeMenu :treedata=\"treedata_tables\"/>\r\n        </div>\r\n        -->\r\n\r\n        <!--<context-menu ref=\"contextMenu\" v-show=\"Object.keys($store.state.contextMenu).length\"/>-->\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport Vue from 'vue'\r\n//import * as store from '../store.js'\r\nimport * as api from '../api.js'\r\nimport actions_global from '../actions_global.js'\r\nconst {$fieldsForTable,saveTree,tablesFromConnection,keepDBConnAlive} = api\r\nimport uuidV1 from 'uuid/v1'\r\n//import * as helpers from '../helpers.js'\r\n//import $ from 'jquery'\r\n//import _ from 'lodash'\r\nimport ContextList from './context-list.vue'\r\nimport ToolBar from './tool-bar.vue'\r\nimport Containers from './containers.vue'\r\n//import ItemList from './item-list.vue'\r\n//import ItemEditor from './item-editor.vue'\r\nimport Ly from './layout.vue'\r\nimport ContextMenu from './context-menu.vue'\r\n//import Tabla from './grid-record.vue'\r\nimport SimpleTable from 'D:/data/iis/simple-table/src/components/simple-table.vue'\r\nimport queryEditor from './query-editor.js'\r\nimport treeMenu from './tree-menu.vue'\r\nimport contextDialog from './context-components/context-dialog.vue'\r\n\r\n\r\nwindow.bus = new Vue()\r\nJSON.cc = function (object) {\r\n    if ( typeof object != 'object' ) return object\r\n    return JSON.parse ( JSON.stringify ( object ) ) \r\n}\r\nconst plugin = {}\r\nplugin.install = function (Vue, options) {\r\n  //Vue.api = api\r\n  //Vue.prototype.helpers = helpers\r\n    Vue.prototype.api = api\r\n    Vue.prototype.utils = {\r\n        getBasicDataType: function dataType ( data_type ) {\r\n            //console.log(data_type)\r\n            const text = 'text'\r\n            , number = 'number'\r\n            , date = 'date'\r\n            switch ( data_type ) {\r\n                case 'number':\r\n                    return number\r\n                case 'int':\r\n                    return number\r\n                case 'float':\r\n                    return number\r\n                case 'money':\r\n                    return number\r\n                case 'datetime':\r\n                    return date\r\n                case 'date':\r\n                    return date\r\n                default:\r\n                    return text\r\n            }\r\n        },\r\n        getSpDate: function ( date ) {\r\n            const options = {\r\n            \t\tday: '2-digit',\r\n            \t\tmonth: '2-digit',\r\n            \t\tyear: 'numeric',\r\n            \t\thour: '2-digit',\r\n            \t\tminute: '2-digit',\r\n            \t\tsecond: '2-digit'\r\n            \t}\r\n            , l10nDE = new Intl.DateTimeFormat(\"es-ES\",options)\r\n            //, dateFormated = l10nDE.format( new Date() ).toString() + _.escape(txt) + '<br>'\r\n            return l10nDE.format (date)\r\n        },\r\n        setTextareaHeight: function (ta){\r\n        \tif ( ta.tagName != 'TEXTAREA' ) return\r\n        \tta.style.height=0\r\n        \tvar hcv=ta.scrollHeight*1\r\n        \tvar corr = 2.8;\r\n        \tvar hh = hcv+corr\r\n        \thh = Math.round(hh)\r\n        \tif ( hh < 18 ) hh = 18\r\n        \tta.style.height=(hh)+'px'\r\n        },\r\n        unifyObjectKey: function ({array,key}) {\r\n            const keyValues = []\r\n            _.reverse(array)\r\n            array.forEach ( column => {\r\n                while ( keyValues.indexOf ( column[key] ) != -1 ) {\r\n                    column[key] += \"_2\"\r\n                }\r\n                //if ( aliases.indexOf ( alias ) != -1 ) column.alias += \"_2\"\r\n                keyValues.push ( column[key] )\r\n            })\r\n            _.reverse(array)\r\n            return array\r\n        }\r\n    }\r\n    Vue.prototype.uniqueid = uuidV1\r\n}\r\nVue.use(plugin)\r\n\r\nexport default {\r\n    store: api.vuexStore,\r\n    components: { Ly, ToolBar, Containers, SimpleTable, ContextList, treeMenu, contextDialog },\r\n    data () {\r\n        return { \r\n            panels: {\r\n                form: true,\r\n                parameters: true,\r\n                top: true,\r\n                bottom: true\r\n            },\r\n            treedata_tables: [],\r\n            sessionId: sessionStorage[\"logged\"],\r\n            helpText: \"\"\r\n            , showHelpState: false\r\n            , logText: []\r\n            , admin: this.api.parsedSearch.admin\r\n            , queries: []\r\n            , contextListData: []\r\n            , contextList: {\r\n                contextListData: []\r\n                , contextListHiddenKeys: []\r\n                , top: 400\r\n                , left: 100\r\n                , height: 300\r\n                , checkedRows: []\r\n                , type: \"text\"\r\n                , comparation: 0\r\n                , leftVal: \"\"\r\n                , rightVal: \"\"\r\n                , searchString: \"\"\r\n            }\r\n            , contextDialog: {show: false, componentProps: {} } \r\n            , show: {queries:true,list:true,formlist:true}\r\n            , buttons: [\r\n                { \r\n                    label: \"Save Tree\",\r\n                    onClick: ()=>saveTree()\r\n                },\r\n             ],\r\n            lists: [\r\n                {\r\n                    key: \"areas\",\r\n                    multiple: true,\r\n                    values: (() => {\r\n                        return this.$store.state.areas.map ( ( area, index ) => ({ value:index, text: area.name }))\r\n                    })()\r\n                },\r\n                {\r\n                    key: \"container\",\r\n                    multiple: true,\r\n                    values: (() => {\r\n                        return this.$store.state.containers.map ( ( container, index ) => ({ value:index, text: container.name }))\r\n                    })()\r\n                },\r\n                {\r\n                    key: \"table\",\r\n                    values: (() => {\r\n                        return Object.keys(this.$store.state.database.tables).map ( ( key ) => ({ value:key, text: key }))\r\n                    })()\r\n                }\r\n            ],\r\n            keysSettings: {\r\n                areas: { list: {\r\n                    multiple: true,\r\n                    values: (() => {\r\n                        //return this.$store.state.areas.map ( ( area, index ) => ({ value:]index, text: area.name }))\r\n                        return this.$store.state.areas.map ( ( area, index ) => [index, area.name ] )\r\n                    })()\r\n                }},\r\n                container: { list: {\r\n                    multiple: true,\r\n                    values: (() => {\r\n                        //return this.$store.state.containers.map ( ( container, index ) => ({ value:index, text: container.name }))\r\n                        return this.$store.state.containers.map ( ( container, index ) => [index, container.name ] )\r\n                    })()\r\n                }},\r\n                table: { list: {\r\n                    values: (() => {\r\n                        return tablesFromConnection ()\r\n                    })()\r\n                }}/*,\r\n                connection: { list: {\r\n                    values: (() => {\r\n                        return Object.keys(this.$store.state.database.connections).map ( ( key ) => [key, key] )\r\n                    })()\r\n                }}*/\r\n            },\r\n            gridActions: [\r\n                {\r\n                    button: `<svg style=\"width:20px;opacity:inherit\" data-help-code=\"general-sql-get\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 56 56\"><path d=\"M28 0C12.6 0 0 12.6 0 28s12.6 28 28 28 28-12.6 28-28S43.4 0 28 0zM40 41H16c-1.1 0-2-0.9-2-2s0.9-2 2-2h24c1.1 0 2 0.9 2 2S41.1 41 40 41zM40 30H16c-1.1 0-2-0.9-2-2s0.9-2 2-2h24c1.1 0 2 0.9 2 2S41.1 30 40 30zM40 19H16c-1.1 0-2-0.9-2-2s0.9-2 2-2h24c1.1 0 2 0.9 2 2S41.1 19 40 19z\"/></svg>`\r\n                    , func: function (event,_rowIndex) {\r\n                        event.stopPropagation();\r\n                        const queries = this.$store.state.queries\r\n                        , query = queries[queries.length-_rowIndex-1]\r\n                        , sql = `SELECT ${query.queryEditor.columns} FROM ${query.joinSyntax} ${query.queryEditor.sqlSyntax?' WHERE '+query.queryEditor.sqlSyntax:''} ${query.queryEditor.orderBy?' ORDER BY '+query.queryEditor.orderBy:''}`\r\n                        console.log(sql)\r\n                        window.prompt(\"Presione CTRL+C para copiar en el portapapeles. Luego ENTER.\",sql)\r\n                    }.bind(this)\r\n                },\r\n                {\r\n                    button: `<svg style=\"width:20px\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 52 52\"><path d=\"M26 0C11.7 0 0 11.7 0 26s11.7 26 26 26 26-11.7 26-26S40.3 0 26 0zM38.5 28h-25c-1.1 0-2-0.9-2-2s0.9-2 2-2h25c1.1 0 2 0.9 2 2S39.6 28 38.5 28z\"/></svg>`\r\n                    , func: function (event,_rowIndex) {\r\n                        event.stopPropagation();\r\n                        if ( !confirm('Eliminar la vista?') ) return false\r\n                        this.queriesRowDelete(_rowIndex)\r\n                    }.bind(this)\r\n                }\r\n            ]\r\n        }\r\n    },\r\n    computed: {\r\n        globalState () {\r\n           return this.$store.state\r\n        },\r\n        queries_old () {\r\n            this.api.$dbq ({\r\n                schemaSyntax: \"circus.dbo.views\"\r\n                , columns: [\"v_id\",\"v_nombre\",\"v_identificador\",\"v_json\"]\r\n                , orderbyColumns: [\"v_id\"]\r\n                , language: \"spanish\"\r\n            },(recordset)=>{\r\n                console.log(recordset)\r\n            })\r\n            //this.$store.commit ( 'Queries' , JSON.cc(this.$store.state.queries) )\r\n            const queries = this.$store.state.queries\r\n            //console.log(JSON.cc(this.$store.state))\r\n            , qq = queries.map ( query => {\r\n                const params = query.queryEditor.params\r\n                //console.log(JSON.cc(params))\r\n                , qe = new queryEditor(params, this.$store.state.queries)\r\n                , whereText = qe.getWhereText()\r\n                return {\r\n                    Nombre: query.customName\r\n                    , Identificador: query.name\r\n                    , Fecha: query.fecha\r\n                    , Tabla: query.tableNames[0].toUpperCase()\r\n                    , Columnas: query.queryEditor.params.map ( param => param.alias.split(\".\")[1] ).toString().replace(/,/g,\", \")\r\n                    , Condiciones: whereText\r\n                    //, Tipo: query.tipo\r\n                    //, Descripcion: query.descripcion\r\n                }\r\n            })\r\n            \r\n            return _.reverse(qq)\r\n        },\r\n        areas () {\r\n            const areas = this.$store.state.areas.map ( (area, i) => ({data:area, index:i}) )\r\n            return areas\r\n        },\r\n        visibleAreas () {\r\n            const visibleAreas = this.areas.filter ( area => area.data.visible )\r\n            //console.log('vsibles'+visibleAreas.length)\r\n            return visibleAreas\r\n        },\r\n        containers () {\r\n            const containers = this.$store.state.containers.map ( (container, i) => ({data:container, index:i}) )\r\n            return containers\r\n        },\r\n        areaHeight() {\r\n            const noAreas = this.visibleAreas.length\r\n            return {height: `calc(100% / ${noAreas})`}\r\n        }\r\n    },\r\n    methods: {\r\n        login() {\r\n            const usr = this.$refs.controlUsuario.value\r\n            , pass = this.$refs.controlContrasena.value\r\n            if ( usr != \"nauj\" || pass != \"juan\" ) {\r\n                alert( \"Usuario no válido.\" )\r\n                return false\r\n            } else {\r\n                this.sessionId = true\r\n                localStorage[\"usr\"] = \"nauj\"\r\n                localStorage[\"pass\"] = \"juan\"\r\n                sessionStorage[\"logged\"] = true\r\n            }\r\n        },\r\n        getLoginCookie (cookie) {\r\n            return localStorage[cookie]\r\n        },\r\n        autoShowForm (event) {\r\n        \r\n            //console.log(event.target)\r\n            if ( $(event.target).closest('[data-component=\"Formulario\"]').length > 0 ) alert ('b')\r\n        }\r\n        , loadQueries () {\r\n            this.api.$dbq ({\r\n                schemaSyntax: \"views\"\r\n                , columns: [\"v_id\",\"v_nombre\",\"v_identificador\",\"convert(char(10),v_fecha,103) as v_fecha\",\"v_json\"]\r\n                , orderbyColumns: [\"v_id\"]\r\n                , language: \"spanish\"\r\n                , dbID: \"circus\"\r\n            },(recordset)=>{\r\n                //console.log(recordset)\r\n                const queries = recordset.map ( view => {\r\n                    let obj = false\r\n                    try {\r\n                        obj = JSON.parse ( view.v_json )\r\n                        if ( typeof obj != \"object\" || obj == null ) {\r\n                            obj = false\r\n                        } else {\r\n                            obj.customName = view.v_nombre\r\n                            obj.name = view.v_identificador\r\n                            obj.fecha = view.v_fecha\r\n                            obj.id = view.v_id\r\n                        }\r\n                    } catch ( err ) {}\r\n                    return obj\r\n                })\r\n                //console.log(queries)\r\n                //return\r\n                const qq = queries.filter(query=>query).map ( query => {\r\n                    const params = query.queryEditor.params\r\n                    , qe = new queryEditor(params, this.$store.state.queries)\r\n                    , whereText = qe.getWhereText()\r\n                    return {\r\n                        id: query.id\r\n                        , Nombre: query.customName\r\n                        , Identificador: query.name\r\n                        , Fecha: query.fecha\r\n                        , Tabla: query.tableNames[0].toUpperCase()\r\n                        , Columnas: query.queryEditor.params.map ( param => param.alias ).toString().replace(/,/g,\", \")\r\n                        , Condiciones: whereText\r\n                    }\r\n                })\r\n                //console.log(qq)\r\n                this.queries = _.reverse(qq)\r\n            })\r\n        },\r\n        /*\r\n        contextListSwitchComparation(){\r\n            const comparation = this.$refs.comparation.selectedIndex\r\n            , rangodivs = $(this.$refs.contextList_rango)\r\n            , igualadivs = $(this.$refs.contextList_iguala)\r\n            rangodivs.hide()\r\n            igualadivs.hide()\r\n            if ( comparation != 1 )\r\n                rangodivs.show()\r\n            else\r\n                igualadivs.show()\r\n        },\r\n        */\r\n        queriesRowClick (row) {\r\n            const name = row.Identificador\r\n            this.api.$dbq ({\r\n                schemaSyntax: \"views\"\r\n                , columns: [\"v_json\"]\r\n                , whereSyntax: \"v_identificador = '\" + name + \"'\"\r\n                , language: \"spanish\"\r\n                , dbID: \"circus\"\r\n            },(recordset)=>{\r\n                const v_json = recordset[0].v_json\r\n                , query = JSON.parse ( v_json )\r\n                this.$store.state.selectedQuery = query\r\n                //console.log(query)\r\n            })\r\n/*\r\n            , qe = new queryEditor([], this.$store.state.queries)\r\n            , query = qe.getQueryByName ( name )\r\n            this.$store.state.selectedQuery = query\r\n            console.log(query  )\r\n            */\r\n        },\r\n         containersFromArea (area) {\r\n            const areaIndex = area.index\r\n            , containers = this.containers.map ( ( container, index ) => ({data:container, index}) )\r\n            , containersFromArea = this.containers.filter ( ( container, i ) => {\r\n                if ( container.data.areas.indexOf(areaIndex) != -1 ) return true\r\n                return false\r\n            })\r\n            return containersFromArea\r\n        },\r\n        queriesTableOnChange ({rowIndex,key,value}){\r\n            //const queries = JSON.cc(this.$store.state.queries)\r\n            switch ( key ) {\r\n                case 'Descripcion':\r\n                    key = 'descripcion'\r\n                    break;\r\n                case 'Nombre':\r\n                    key = 'customName'\r\n                    break;\r\n                case 'Tipo':\r\n                    key = 'tipo'\r\n                    break;\r\n                \r\n            }\r\n            const query = this.queries[rowIndex]\r\n            this.$store.commit ( 'Query_setKey' , {id:query.id,key,value} )\r\n        },\r\n        queriesRowDelete (rowIndex){\r\n            const id = this.queries[rowIndex].id\r\n            //console.log(queries.length+'/'+(queries.length-1-rowIndex))\r\n            this.$store.commit ( 'Query_delete' , id )\r\n            const splicedQ = JSON.cc(this.queries)\r\n            splicedQ.splice(rowIndex,1)\r\n            this.queries = splicedQ\r\n        },\r\n        panelSwitch(panel){\r\n            //console.log('panel'+this.panels[panel])\r\n            this.panels[panel] = ! this.panels[panel]\r\n            window.compute()\r\n        }\r\n    },\r\n    mounted: function () {\r\n        const help = this.$store.state.database.help\r\n        , helpCuadrant = this.$refs.helpCuadrant\r\n        , that = this\r\n        window.log = function ( msg, color ) {\r\n            var event = new Date()\r\n            , offset = event.getTimezoneOffset()\r\n            , fecha = new Date() - offset\r\n            , fechaTxt = fecha.toLocaleString('en-GB', { timeZone: 'UTC' })\r\n            , options = {\r\n              year: 'numeric', month: 'numeric', day: 'numeric',\r\n              hour: 'numeric', minute: 'numeric', second: 'numeric',\r\n              hour12: false\r\n            }\r\n            , currentTime = new Intl.DateTimeFormat('es-ES', options).format(event)\r\n            that.logText.forEach ( (t,i) => that.logText[i] = t.replace ( \"blink_me\", \"\" ) )\r\n            that.logText.unshift ( `${currentTime}<br><span class=\"${color} blink_me\">${msg}</span>` ) \r\n        }\r\n        window.contextDialog = function (props,components) {\r\n            that.contextDialog.componentProps = props\r\n            that.contextDialog.components = components\r\n            that.contextDialog.show = true\r\n        }\r\n        window.logout = function () {\r\n            sessionStorage.removeItem(\"logged\");\r\n            that.sessionId = false\r\n        }\r\n        window.working = function (state) {\r\n            if ( state ) \r\n                $('body').addClass('progress-on')\r\n            else\r\n                $('body').removeClass('progress-on')\r\n        }\r\n        window.commit = ( commitKey, payload )  => {\r\n            const { path, value } = actions_global[commitKey] ( payload )\r\n            this.api.saveGlobalConfig ( { path, value } )\r\n            this.$store.commit ( 'set_databaseConfig', { path, value } )\r\n            this.api.databaseMaps.setTablesMap()\r\n        }\r\n        this.loadQueries()\r\n\r\n        window.addEventListener('endcache', (e) => { \r\n            this.$store.commit ( 'set_tablesMap' )\r\n        }, false);\r\n\r\n            //$.getScript ( '../../public/custom-code.js' )\r\n            /*\r\njQuery.ajax({\r\n  url: 'test.js',\r\n  dataType: \"script\"\r\n});\r\n*/\r\n// console.log(this.$store.state.custom_js)\r\n//console.log('window.location.hostname' + console.log(window))\r\n$( document ).ready(function() {\r\n    //console.log('window.location.hostname' + console.log(window.location.hostname))\r\n    ///const url = 'http://' + window.location.hostname + that.$store.state.database.custom_js\r\n    const url = that.$store.state.database.custom_js\r\n    //console.log(url)\r\n    //return\r\n    const $script = $('<script/>').attr('type','text/javascript').attr('src', url)\r\n    $('body').append($script)\r\n});\r\n            \r\n\r\n        if ( help ) {\r\n            \r\n            $(window.document)\r\n            .on('contextmenu', function(event) {\r\n                showHelp(event);\r\n                event.stopPropagation();\r\n                event.stopImmediatePropagation();\r\n                event.preventDefault();\r\n                return false\r\n            })\r\n            .on('click', function(event) {\r\n                const $ele = $(event.target)\r\n                , dontHide = $ele.closest ( '.context-dialog-container' ).length || $ele.closest ( 'table.header' ).length\r\n                if(!dontHide) that.contextDialog.show = false\r\n            })\r\n\r\n\r\n            /*\r\n            .on('mouseover',function(event){\r\n                //if ( event.target.tagName == \"circle\" || event.target.tagName == \"path\" || event.target.tagName == \"svg\" ) return false\r\n                if ( typeof this.globalHoverTimer != 'undefined' ) clearTimeout ( this.globalHoverTimer )\r\n                this.globalHoverTimer = setTimeout ( function(){showHelp(event)} , 70 )\r\n            }.bind(this) )\r\n            */\r\n            /*\r\n            .on('mouseleave','[data-help-code][data-help-code!=\"\"]',function(event){\r\n                //console.log( 'leave: '+event.target.tagName)\r\n                this.helpText = `<titulo>&nbsp;</titulo><texto>&nbsp;</texto>`\r\n            }.bind(this) )\r\n            */\r\n        }\r\n        function showHelp (event) {\r\n            let $item = $(event.target)\r\n            , itemHelpCode = $item.data('help-code') // $item.attr('data-help-code')\r\n            \r\n            if ( ! itemHelpCode ) {\r\n                $item = $item.closest('[data-help-code][data-help-code!=\"\"]')\r\n                itemHelpCode = $item.attr('data-help-code')\r\n            }\r\n            \r\n            //if ( ! itemHelpCode ) return false\r\n            //console.log('enter: '+event.target.tagName)\r\n            const helpText = itemHelpCode ? help[itemHelpCode] : ''\r\n            , finalHelpText = typeof helpText != 'undefined' ? helpText : itemHelpCode\r\n            , $html = $('<div/>').html ( finalHelpText )\r\n            , title = $html.find('titulo').html()\r\n            $html.find('titulo').remove()\r\n            const text = $html.html()\r\n            //showHelpBox(`<div style=\"height:100%;\"/><titulo>${itemHelpCode?title:'&nbsp;'}</titulo><texto>${text}</texto></div>`)\r\n            showHelpBox({title:itemHelpCode?title:'&nbsp;',text})\r\n        }\r\n        function showHelpBox ( text, log ) {\r\n            if ( log )  window.log ( text.text )\r\n            if (typeof text === 'object') {\r\n                text = `<div style=\"height:100%;\"/><titulo>${text.title}</titulo><texto>${text.text}</texto></div>`\r\n            }\r\n            that.helpText = text\r\n            that.showHelpState = true\r\n            if ( window.circus.helpBoxCloseTimer ) clearTimeout ( window.circus.helpBoxCloseTimer )\r\n            window.circus.helpBoxCloseTimer = setTimeout ( ()=>that.showHelpState = false , 7000 )\r\n        }\r\n        /*\r\n        $(helpCuadrant).resizable({\r\n            handles: 'e'\r\n            , resize: function(){\r\n                window.dispatchEvent(new Event('resize'));\r\n            }\r\n        })\r\n        //$('#containers').resizable({\r\n        $('#containers').resizable({\r\n            handles: 's'\r\n        })\r\n        */\r\n         window.circus = this\r\n         window.circus.showHelpBox = showHelpBox\r\n         //this.panels.form = false\r\n         function moumove (event) {\r\n                /*\r\n            if ( $(event.target).closest('[data-component=\"Formulario\"]').length > 0 ) {\r\n                //console.log('enter')\r\n                if ( window.circus.hoverFormTimer ) { clearTimeout ( window.circus.hoverFormTimer ); window.circus.hoverFormTimer = false }\r\n            } else {\r\n                    //console.log(false)\r\n                if ( !window.circus.hoverFormTimer && window.circus.panels.form && !this.gracePeriod ) {\r\n                    window.circus.hoverFormTimer = setTimeout ( function () {\r\n                        //console.log('close')\r\n                        window.circus.panels.form = false   \r\n                    }, 200)\r\n                }\r\n            }\r\n                */\r\n        }\r\n        window.showForm = showForm\r\n        function showForm() {\r\n            if ( that.panels.form ) return\r\n            window.circus.panelSwitch('form')\r\n            //console.log(  $('[data-component=\"Formulario\"]').find('input').eq(1).val())\r\n            setTimeout(function(){\r\n                $('[data-component=\"Formulario\"]').find('input').eq(1).focus()\r\n                //console.log('focus')\r\n            },100)\r\n            //window.circus.gracePeriod = true\r\n            //setTimeout ( function () {window.circus.gracePeriod = false}, 100 )\r\n        }\r\n        window.showQueries = showQueries\r\n        function showQueries() {\r\n            window.circus.panels.bottom = true\r\n            //window.circus.gracePeriod = true\r\n            //setTimeout ( function () {window.circus.gracePeriod = false}, 100 )\r\n        }\r\n       $(window).mousemove ( moumove )\r\n                    \r\n     },\r\n     updated() {\r\n         /*\r\n        $(this.$refs.helpCuadrant).resizable({\r\n            handles: 'e'\r\n            , resize: function(){\r\n                window.dispatchEvent(new Event('resize'));\r\n            }\r\n        })  \r\n        //return       \r\n        $('#containers').resizable({\r\n            handles: 's'\r\n        })\r\n        */\r\n     }\r\n}\r\n</script>\r\n<style>\r\n    titulo,.custom-title {\r\n        display:block;\r\n        padding: 3px 6px;\r\n        background:#b5b2b1;\r\n        margin: 0 0 0px 0;\r\n        font-weight:bold;\r\n        font-size: 10px;\r\n        text-transform: uppercase;\r\n    }\r\n    texto {\r\n        padding: 3px 6px;\r\n        display:block;\r\n        height: calc(100% - 40px);\r\n        overflow-y: auto;\r\n        overflow-x: none;\r\n    }\r\n    input.form-control {\r\n        font-size:11px;\r\n        box-shadow: none;\r\n        border-radius: 2px;\r\n        background: white;\r\n    }\r\n    #circusContextList button {\r\n        width: 20px;\r\n        height:20px;\r\n        background-color: transparent;\r\n        box-shadow:none;\r\n        border:0;\r\n    }\r\n    #circusContextList button:hover {\r\n        background-color:#ddd;\r\n    }\r\n    .login-container {\r\n        position:absolute;\r\n        z-index:9999999;\r\n        top:0;\r\n        left:0;\r\n        width:100vw;\r\n        height:100vh;\r\n        background:rgba(0,0,0,0.6);\r\n        display:flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n    }\r\n    .login-form {\r\n        width:300px;\r\n        border:1px solid #ddd;\r\n        background:white;\r\n        padding:20px;\r\n        margin:;\r\n        box-shadow: 2px 2px 20px 2px #444;\r\n    }\r\n    .login-form input {\r\n        padding: 10px;\r\n    }\r\n    .login-form label {\r\n        padding: 0px;\r\n        font-size: 14px;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./circus.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./circus.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./circus.vue?vue&type=template&id=6b6fd08e&\"\nimport script from \"./circus.vue?vue&type=script&lang=js&\"\nexport * from \"./circus.vue?vue&type=script&lang=js&\"\nimport style0 from \"./circus.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\n//import App from './App.vue'\nimport Circus from './components/circus.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(Circus),\n}).$mount('#app')\n\n\n//require('../circus-layout.css')\n//require('../simple-table.css')\n\nimport queryString from 'query-string';\nconst parsedSearch = queryString.parse(location.search)\n, apiURL = \tparsedSearch.api\n\nfunction keepDBConnAlive () {\n\tlet fileName = parsedSearch.reset\n\tif ( !fileName ) fileName = 'circus.json'\n\t$.ajax({\n\t\turl: apiURL + 'ping',\n\tdata: { json: localStorage[\"vuexStore\"], fileName },\n\tmethod: \"POST\",\n\t//async: false,\n\t\tsuccess: (storedVuexStore) => {\n\t\tconsole.log('keepDBConnAlive!')\n\t\t//window.circus.showHelpBox ( {title:'Configuración Guardada',text:'Se ha guardado automáticamente la configuración actual en el archivo ' + fileName })\n\t},\n\terror: (respuesta) => {\n\t\tconsole.log('error ajax ping')\n\t\t}\n});\n/*\n$.ajax({\n\t\turl: apiURL + 'ping',\n\t    data: `dbID=visual`,\n\t    method: \"POST\",\n\t    //async: true,\n\t\tsuccess: (respuesta) => {\n\t\t\tconsole.log('ping')\n\t  \t},\n\t\terror: (respuesta) => {\n\t\t\tconsole.log('error ajax ping')\n\t  \t}\n  });\n\t*/\n}\nsetInterval ( keepDBConnAlive, 60000 )\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./context-field-edit-list.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./context-field-edit-list.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./listado.css?vue&type=style&index=0&id=34e2c90a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./listado.css?vue&type=style&index=0&id=34e2c90a&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ventana.vue?vue&type=style&index=0&id=1be294bc&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ventana.vue?vue&type=style&index=0&id=1be294bc&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./query-editor.vue?vue&type=style&index=0&id=413074b1&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./query-editor.vue?vue&type=style&index=0&id=413074b1&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./context-menu.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./context-menu.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./context-field-edit-key.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./context-field-edit-key.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}